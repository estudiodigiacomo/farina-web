function BT(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function bd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yv={exports:{}},_u={},vv={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=Symbol.for("react.element"),zT=Symbol.for("react.portal"),$T=Symbol.for("react.fragment"),WT=Symbol.for("react.strict_mode"),HT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),KT=Symbol.for("react.context"),GT=Symbol.for("react.forward_ref"),QT=Symbol.for("react.suspense"),JT=Symbol.for("react.memo"),XT=Symbol.for("react.lazy"),Cm=Symbol.iterator;function YT(t){return t===null||typeof t!="object"?null:(t=Cm&&t[Cm]||t["@@iterator"],typeof t=="function"?t:null)}var _v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ev=Object.assign,wv={};function fs(t,e,r){this.props=t,this.context=e,this.refs=wv,this.updater=r||_v}fs.prototype.isReactComponent={};fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tv(){}Tv.prototype=fs.prototype;function Vd(t,e,r){this.props=t,this.context=e,this.refs=wv,this.updater=r||_v}var Ld=Vd.prototype=new Tv;Ld.constructor=Vd;Ev(Ld,fs.prototype);Ld.isPureReactComponent=!0;var Rm=Array.isArray,Iv=Object.prototype.hasOwnProperty,Md={current:null},Sv={key:!0,ref:!0,__self:!0,__source:!0};function Av(t,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Iv.call(e,i)&&!Sv.hasOwnProperty(i)&&(s[i]=e[i]);var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)s[i]===void 0&&(s[i]=u[i]);return{$$typeof:Zo,type:t,key:o,ref:a,props:s,_owner:Md.current}}function ZT(t,e){return{$$typeof:Zo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zo}function eI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Pm=/\/+/g;function Tc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eI(""+t.key):e.toString(36)}function ol(t,e,r,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zo:case zT:a=!0}}if(a)return a=t,s=s(a),t=i===""?"."+Tc(a,0):i,Rm(s)?(r="",t!=null&&(r=t.replace(Pm,"$&/")+"/"),ol(s,e,r,"",function(d){return d})):s!=null&&(Fd(s)&&(s=ZT(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Pm,"$&/")+"/")+t)),e.push(s)),1;if(a=0,i=i===""?".":i+":",Rm(t))for(var u=0;u<t.length;u++){o=t[u];var c=i+Tc(o,u);a+=ol(o,e,r,c,s)}else if(c=YT(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=i+Tc(o,u++),a+=ol(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function La(t,e,r){if(t==null)return t;var i=[],s=0;return ol(t,i,"","",function(o){return e.call(r,o,s++)}),i}function tI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},al={transition:null},nI={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:al,ReactCurrentOwner:Md};function Cv(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:La,forEach:function(t,e,r){La(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return La(t,function(){e++}),e},toArray:function(t){return La(t,function(e){return e})||[]},only:function(t){if(!Fd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=fs;te.Fragment=$T;te.Profiler=HT;te.PureComponent=Vd;te.StrictMode=WT;te.Suspense=QT;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;te.act=Cv;te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Ev({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Md.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Iv.call(e,c)&&!Sv.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:Zo,type:t.type,key:s,ref:o,props:i,_owner:a}};te.createContext=function(t){return t={$$typeof:KT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qT,_context:t},t.Consumer=t};te.createElement=Av;te.createFactory=function(t){var e=Av.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:GT,render:t}};te.isValidElement=Fd;te.lazy=function(t){return{$$typeof:XT,_payload:{_status:-1,_result:t},_init:tI}};te.memo=function(t,e){return{$$typeof:JT,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=al.transition;al.transition={};try{t()}finally{al.transition=e}};te.unstable_act=Cv;te.useCallback=function(t,e){return pt.current.useCallback(t,e)};te.useContext=function(t){return pt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};te.useEffect=function(t,e){return pt.current.useEffect(t,e)};te.useId=function(){return pt.current.useId()};te.useImperativeHandle=function(t,e,r){return pt.current.useImperativeHandle(t,e,r)};te.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return pt.current.useMemo(t,e)};te.useReducer=function(t,e,r){return pt.current.useReducer(t,e,r)};te.useRef=function(t){return pt.current.useRef(t)};te.useState=function(t){return pt.current.useState(t)};te.useSyncExternalStore=function(t,e,r){return pt.current.useSyncExternalStore(t,e,r)};te.useTransition=function(){return pt.current.useTransition()};te.version="18.3.1";vv.exports=te;var O=vv.exports;const dt=bd(O),rI=BT({__proto__:null,default:dt},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=O,sI=Symbol.for("react.element"),oI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,lI=iI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uI={key:!0,ref:!0,__self:!0,__source:!0};function Rv(t,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)aI.call(e,i)&&!uI.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:sI,type:t,key:o,ref:a,props:s,_owner:lI.current}}_u.Fragment=oI;_u.jsx=Rv;_u.jsxs=Rv;yv.exports=_u;var E=yv.exports,Pv={exports:{}},xt={},kv={exports:{}},Nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var Y=$.length;$.push(G);e:for(;0<Y;){var fe=Y-1>>>1,le=$[fe];if(0<s(le,G))$[fe]=G,$[Y]=le,Y=fe;else break e}}function r($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var G=$[0],Y=$.pop();if(Y!==G){$[0]=Y;e:for(var fe=0,le=$.length,pe=le>>>1;fe<pe;){var Ye=2*(fe+1)-1,Ot=$[Ye],me=Ye+1,zt=$[me];if(0>s(Ot,Y))me<le&&0>s(zt,Ot)?($[fe]=zt,$[me]=Y,fe=me):($[fe]=Ot,$[Ye]=Y,fe=Ye);else if(me<le&&0>s(zt,Y))$[fe]=zt,$[me]=Y,fe=me;else break e}}return G}function s($,G){var Y=$.sortIndex-G.sortIndex;return Y!==0?Y:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,m=null,g=3,S=!1,P=!1,D=!1,b=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R($){for(var G=r(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=$)i(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(d)}}function L($){if(D=!1,R($),!P)if(r(c)!==null)P=!0,Or(B);else{var G=r(d);G!==null&&be(L,G.startTime-$)}}function B($,G){P=!1,D&&(D=!1,I(v),v=-1),S=!0;var Y=g;try{for(R(G),m=r(c);m!==null&&(!(m.expirationTime>G)||$&&!k());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,g=m.priorityLevel;var le=fe(m.expirationTime<=G);G=t.unstable_now(),typeof le=="function"?m.callback=le:m===r(c)&&i(c),R(G)}else i(c);m=r(c)}if(m!==null)var pe=!0;else{var Ye=r(d);Ye!==null&&be(L,Ye.startTime-G),pe=!1}return pe}finally{m=null,g=Y,S=!1}}var j=!1,w=null,v=-1,T=5,A=-1;function k(){return!(t.unstable_now()-A<T)}function N(){if(w!==null){var $=t.unstable_now();A=$;var G=!0;try{G=w(!0,$)}finally{G?C():(j=!1,w=null)}}else j=!1}var C;if(typeof _=="function")C=function(){_(N)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Bt=gt.port2;gt.port1.onmessage=N,C=function(){Bt.postMessage(null)}}else C=function(){b(N,0)};function Or($){w=$,j||(j=!0,C())}function be($,G){v=b(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){P||S||(P=!0,Or(B))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var Y=g;g=G;try{return $()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=g;g=$;try{return G()}finally{g=Y}},t.unstable_scheduleCallback=function($,G,Y){var fe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?fe+Y:fe):Y=fe,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Y+le,$={id:p++,callback:G,priorityLevel:$,startTime:Y,expirationTime:le,sortIndex:-1},Y>fe?($.sortIndex=Y,e(d,$),r(c)===null&&$===r(d)&&(D?(I(v),v=-1):D=!0,be(L,Y-fe))):($.sortIndex=le,e(c,$),P||S||(P=!0,Or(B))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var G=g;return function(){var Y=g;g=G;try{return $.apply(this,arguments)}finally{g=Y}}}})(Nv);kv.exports=Nv;var cI=kv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hI=O,Nt=cI;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xv=new Set,So={};function li(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(So[t]=e,t=0;t<e.length;t++)xv.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=Object.prototype.hasOwnProperty,dI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,km={},Nm={};function fI(t){return ah.call(Nm,t)?!0:ah.call(km,t)?!1:dI.test(t)?Nm[t]=!0:(km[t]=!0,!1)}function pI(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mI(t,e,r,i){if(e===null||typeof e>"u"||pI(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ud=/[\-:]([a-z])/g;function jd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ud,jd);Je[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ud,jd);Je[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ud,jd);Je[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bd(t,e,r,i){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mI(e,r,s,i)&&(r=null),i||s===null?fI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var Ln=hI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),zd=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),Dv=Symbol.for("react.provider"),Ov=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),uh=Symbol.for("react.suspense"),ch=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),Gn=Symbol.for("react.lazy"),bv=Symbol.for("react.offscreen"),xm=Symbol.iterator;function Bs(t){return t===null||typeof t!="object"?null:(t=xm&&t[xm]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,Ic;function Js(t){if(Ic===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ic=e&&e[1]||""}return`
`+Ic+t}var Sc=!1;function Ac(t,e){if(!t||Sc)return"";Sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,u=o.length-1;1<=a&&0<=u&&s[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==o[u]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{Sc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Js(t):""}function gI(t){switch(t.tag){case 5:return Js(t.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return t=Ac(t.type,!1),t;case 11:return t=Ac(t.type.render,!1),t;case 1:return t=Ac(t.type,!0),t;default:return""}}function hh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Pi:return"Portal";case lh:return"Profiler";case zd:return"StrictMode";case uh:return"Suspense";case ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ov:return(t.displayName||"Context")+".Consumer";case Dv:return(t._context.displayName||"Context")+".Provider";case $d:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wd:return e=t.displayName||null,e!==null?e:hh(t.type)||"Memo";case Gn:e=t._payload,t=t._init;try{return hh(t(e))}catch{}}return null}function yI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hh(e);case 8:return e===zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vI(t){var e=Vv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fa(t){t._valueTracker||(t._valueTracker=vI(t))}function Lv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=Vv(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dh(t,e){var r=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Dm(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Er(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mv(t,e){e=e.checked,e!=null&&Bd(t,"checked",e,!1)}function fh(t,e){Mv(t,e);var r=Er(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ph(t,e.type,r):e.hasOwnProperty("defaultValue")&&ph(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Om(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ph(t,e,r){(e!=="number"||Rl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Xs=Array.isArray;function Bi(t,e,r,i){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&i&&(t[r].defaultSelected=!0)}else{for(r=""+Er(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(U(92));if(Xs(r)){if(1<r.length)throw Error(U(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Er(r)}}function Fv(t,e){var r=Er(e.value),i=Er(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function Vm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ua,jv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ua.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ao(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_I=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(t){_I.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lo[e]=lo[t]})});function Bv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||lo.hasOwnProperty(t)&&lo[t]?(""+e).trim():e+"px"}function zv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Bv(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,s):t[r]=s}}var EI=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(t,e){if(e){if(EI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=null;function Hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eh=null,zi=null,$i=null;function Lm(t){if(t=na(t)){if(typeof Eh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Su(e),Eh(t.stateNode,t.type,e))}}function $v(t){zi?$i?$i.push(t):$i=[t]:zi=t}function Wv(){if(zi){var t=zi,e=$i;if($i=zi=null,Lm(t),e)for(t=0;t<e.length;t++)Lm(e[t])}}function Hv(t,e){return t(e)}function qv(){}var Cc=!1;function Kv(t,e,r){if(Cc)return t(e,r);Cc=!0;try{return Hv(t,e,r)}finally{Cc=!1,(zi!==null||$i!==null)&&(qv(),Wv())}}function Co(t,e){var r=t.stateNode;if(r===null)return null;var i=Su(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(U(231,e,typeof r));return r}var wh=!1;if(Rn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){wh=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{wh=!1}function wI(t,e,r,i,s,o,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var uo=!1,Pl=null,kl=!1,Th=null,TI={onError:function(t){uo=!0,Pl=t}};function II(t,e,r,i,s,o,a,u,c){uo=!1,Pl=null,wI.apply(TI,arguments)}function SI(t,e,r,i,s,o,a,u,c){if(II.apply(this,arguments),uo){if(uo){var d=Pl;uo=!1,Pl=null}else throw Error(U(198));kl||(kl=!0,Th=d)}}function ui(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Gv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mm(t){if(ui(t)!==t)throw Error(U(188))}function AI(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(U(188));return e!==t?null:t}for(var r=t,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Mm(s),t;if(o===i)return Mm(s),e;o=o.sibling}throw Error(U(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,u=s.child;u;){if(u===r){a=!0,r=s,i=o;break}if(u===i){a=!0,i=s,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,i=s;break}if(u===i){a=!0,i=o,r=s;break}u=u.sibling}if(!a)throw Error(U(189))}}if(r.alternate!==i)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?t:e}function Qv(t){return t=AI(t),t!==null?Jv(t):null}function Jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jv(t);if(e!==null)return e;t=t.sibling}return null}var Xv=Nt.unstable_scheduleCallback,Fm=Nt.unstable_cancelCallback,CI=Nt.unstable_shouldYield,RI=Nt.unstable_requestPaint,ke=Nt.unstable_now,PI=Nt.unstable_getCurrentPriorityLevel,qd=Nt.unstable_ImmediatePriority,Yv=Nt.unstable_UserBlockingPriority,Nl=Nt.unstable_NormalPriority,kI=Nt.unstable_LowPriority,Zv=Nt.unstable_IdlePriority,Eu=null,on=null;function NI(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Eu,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:OI,xI=Math.log,DI=Math.LN2;function OI(t){return t>>>=0,t===0?32:31-(xI(t)/DI|0)|0}var ja=64,Ba=4194304;function Ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xl(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var u=a&~s;u!==0?i=Ys(u):(o&=a,o!==0&&(i=Ys(o)))}else a=r&~s,a!==0?i=Ys(a):o!==0&&(i=Ys(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-Qt(e),s=1<<r,i|=t[r],e&=~s;return i}function bI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VI(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Qt(o),u=1<<a,c=s[a];c===-1?(!(u&r)||u&i)&&(s[a]=bI(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function Ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e_(){var t=ja;return ja<<=1,!(ja&4194240)&&(ja=64),t}function Rc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ea(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=r}function LI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Qt(r),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,r&=~o}}function Kd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-Qt(r),s=1<<i;s&e|t[i]&e&&(t[i]|=e),r&=~s}}var ce=0;function t_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n_,Gd,r_,i_,s_,Sh=!1,za=[],or=null,ar=null,lr=null,Ro=new Map,Po=new Map,Jn=[],MI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Um(t,e){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function $s(t,e,r,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=na(e),e!==null&&Gd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FI(t,e,r,i,s){switch(e){case"focusin":return or=$s(or,t,e,r,i,s),!0;case"dragenter":return ar=$s(ar,t,e,r,i,s),!0;case"mouseover":return lr=$s(lr,t,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return Ro.set(o,$s(Ro.get(o)||null,t,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Po.set(o,$s(Po.get(o)||null,t,e,r,i,s)),!0}return!1}function o_(t){var e=Hr(t.target);if(e!==null){var r=ui(e);if(r!==null){if(e=r.tag,e===13){if(e=Gv(r),e!==null){t.blockedOn=e,s_(t.priority,function(){r_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ll(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);_h=i,r.target.dispatchEvent(i),_h=null}else return e=na(r),e!==null&&Gd(e),t.blockedOn=r,!1;e.shift()}return!0}function jm(t,e,r){ll(t)&&r.delete(e)}function UI(){Sh=!1,or!==null&&ll(or)&&(or=null),ar!==null&&ll(ar)&&(ar=null),lr!==null&&ll(lr)&&(lr=null),Ro.forEach(jm),Po.forEach(jm)}function Ws(t,e){t.blockedOn===e&&(t.blockedOn=null,Sh||(Sh=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,UI)))}function ko(t){function e(s){return Ws(s,t)}if(0<za.length){Ws(za[0],t);for(var r=1;r<za.length;r++){var i=za[r];i.blockedOn===t&&(i.blockedOn=null)}}for(or!==null&&Ws(or,t),ar!==null&&Ws(ar,t),lr!==null&&Ws(lr,t),Ro.forEach(e),Po.forEach(e),r=0;r<Jn.length;r++)i=Jn[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<Jn.length&&(r=Jn[0],r.blockedOn===null);)o_(r),r.blockedOn===null&&Jn.shift()}var Wi=Ln.ReactCurrentBatchConfig,Dl=!0;function jI(t,e,r,i){var s=ce,o=Wi.transition;Wi.transition=null;try{ce=1,Qd(t,e,r,i)}finally{ce=s,Wi.transition=o}}function BI(t,e,r,i){var s=ce,o=Wi.transition;Wi.transition=null;try{ce=4,Qd(t,e,r,i)}finally{ce=s,Wi.transition=o}}function Qd(t,e,r,i){if(Dl){var s=Ah(t,e,r,i);if(s===null)Mc(t,e,i,Ol,r),Um(t,i);else if(FI(s,t,e,r,i))i.stopPropagation();else if(Um(t,i),e&4&&-1<MI.indexOf(t)){for(;s!==null;){var o=na(s);if(o!==null&&n_(o),o=Ah(t,e,r,i),o===null&&Mc(t,e,i,Ol,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else Mc(t,e,i,null,r)}}var Ol=null;function Ah(t,e,r,i){if(Ol=null,t=Hd(i),t=Hr(t),t!==null)if(e=ui(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Gv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ol=t,null}function a_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PI()){case qd:return 1;case Yv:return 4;case Nl:case kI:return 16;case Zv:return 536870912;default:return 16}default:return 16}}var nr=null,Jd=null,ul=null;function l_(){if(ul)return ul;var t,e=Jd,r=e.length,i,s="value"in nr?nr.value:nr.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return ul=s.slice(t,1<i?1-i:void 0)}function cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function Bm(){return!1}function Dt(t){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$a:Bm,this.isPropagationStopped=Bm,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=Dt(ps),ta=Se({},ps,{view:0,detail:0}),zI=Dt(ta),Pc,kc,Hs,wu=Se({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hs&&(Hs&&t.type==="mousemove"?(Pc=t.screenX-Hs.screenX,kc=t.screenY-Hs.screenY):kc=Pc=0,Hs=t),Pc)},movementY:function(t){return"movementY"in t?t.movementY:kc}}),zm=Dt(wu),$I=Se({},wu,{dataTransfer:0}),WI=Dt($I),HI=Se({},ta,{relatedTarget:0}),Nc=Dt(HI),qI=Se({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),KI=Dt(qI),GI=Se({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QI=Dt(GI),JI=Se({},ps,{data:0}),$m=Dt(JI),XI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZI[t])?!!e[t]:!1}function Yd(){return e1}var t1=Se({},ta,{key:function(t){if(t.key){var e=XI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n1=Dt(t1),r1=Se({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=Dt(r1),i1=Se({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),s1=Dt(i1),o1=Se({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),a1=Dt(o1),l1=Se({},wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=Dt(l1),c1=[9,13,27,32],Zd=Rn&&"CompositionEvent"in window,co=null;Rn&&"documentMode"in document&&(co=document.documentMode);var h1=Rn&&"TextEvent"in window&&!co,u_=Rn&&(!Zd||co&&8<co&&11>=co),Hm=" ",qm=!1;function c_(t,e){switch(t){case"keyup":return c1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function d1(t,e){switch(t){case"compositionend":return h_(e);case"keypress":return e.which!==32?null:(qm=!0,Hm);case"textInput":return t=e.data,t===Hm&&qm?null:t;default:return null}}function f1(t,e){if(Ni)return t==="compositionend"||!Zd&&c_(t,e)?(t=l_(),ul=Jd=nr=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u_&&e.locale!=="ko"?null:e.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p1[t.type]:e==="textarea"}function d_(t,e,r,i){$v(i),e=bl(e,"onChange"),0<e.length&&(r=new Xd("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var ho=null,No=null;function m1(t){I_(t,0)}function Tu(t){var e=Oi(t);if(Lv(e))return t}function g1(t,e){if(t==="change")return e}var f_=!1;if(Rn){var xc;if(Rn){var Dc="oninput"in document;if(!Dc){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Dc=typeof Gm.oninput=="function"}xc=Dc}else xc=!1;f_=xc&&(!document.documentMode||9<document.documentMode)}function Qm(){ho&&(ho.detachEvent("onpropertychange",p_),No=ho=null)}function p_(t){if(t.propertyName==="value"&&Tu(No)){var e=[];d_(e,No,t,Hd(t)),Kv(m1,e)}}function y1(t,e,r){t==="focusin"?(Qm(),ho=e,No=r,ho.attachEvent("onpropertychange",p_)):t==="focusout"&&Qm()}function v1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(No)}function _1(t,e){if(t==="click")return Tu(e)}function E1(t,e){if(t==="input"||t==="change")return Tu(e)}function w1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:w1;function xo(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!ah.call(e,s)||!Yt(t[s],e[s]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xm(t,e){var r=Jm(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jm(r)}}function m_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g_(){for(var t=window,e=Rl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Rl(t.document)}return e}function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T1(t){var e=g_(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&m_(r.ownerDocument.documentElement,r)){if(i!==null&&ef(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=Xm(r,o);var a=Xm(r,i);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I1=Rn&&"documentMode"in document&&11>=document.documentMode,xi=null,Ch=null,fo=null,Rh=!1;function Ym(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||xi==null||xi!==Rl(i)||(i=xi,"selectionStart"in i&&ef(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),fo&&xo(fo,i)||(fo=i,i=bl(Ch,"onSelect"),0<i.length&&(e=new Xd("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=xi)))}function Wa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Di={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Oc={},y_={};Rn&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Iu(t){if(Oc[t])return Oc[t];if(!Di[t])return t;var e=Di[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in y_)return Oc[t]=e[r];return t}var v_=Iu("animationend"),__=Iu("animationiteration"),E_=Iu("animationstart"),w_=Iu("transitionend"),T_=new Map,Zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){T_.set(t,e),li(e,[t])}for(var bc=0;bc<Zm.length;bc++){var Vc=Zm[bc],S1=Vc.toLowerCase(),A1=Vc[0].toUpperCase()+Vc.slice(1);Ar(S1,"on"+A1)}Ar(v_,"onAnimationEnd");Ar(__,"onAnimationIteration");Ar(E_,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(w_,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function eg(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,SI(i,e,void 0,t),t.currentTarget=null}function I_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==o&&s.isPropagationStopped())break e;eg(s,u,d),o=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==o&&s.isPropagationStopped())break e;eg(s,u,d),o=c}}}if(kl)throw t=Th,kl=!1,Th=null,t}function ve(t,e){var r=e[Dh];r===void 0&&(r=e[Dh]=new Set);var i=t+"__bubble";r.has(i)||(S_(e,t,2,!1),r.add(i))}function Lc(t,e,r){var i=0;e&&(i|=4),S_(r,t,i,e)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Do(t){if(!t[Ha]){t[Ha]=!0,xv.forEach(function(r){r!=="selectionchange"&&(C1.has(r)||Lc(r,!1,t),Lc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ha]||(e[Ha]=!0,Lc("selectionchange",!1,e))}}function S_(t,e,r,i){switch(a_(e)){case 1:var s=jI;break;case 4:s=BI;break;default:s=Qd}r=s.bind(null,e,r,t),s=void 0,!wh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Mc(t,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;u!==null;){if(a=Hr(u),a===null)return;if(c=a.tag,c===5||c===6){i=o=a;continue e}u=u.parentNode}}i=i.return}Kv(function(){var d=o,p=Hd(r),m=[];e:{var g=T_.get(t);if(g!==void 0){var S=Xd,P=t;switch(t){case"keypress":if(cl(r)===0)break e;case"keydown":case"keyup":S=n1;break;case"focusin":P="focus",S=Nc;break;case"focusout":P="blur",S=Nc;break;case"beforeblur":case"afterblur":S=Nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=s1;break;case v_:case __:case E_:S=KI;break;case w_:S=a1;break;case"scroll":S=zI;break;case"wheel":S=u1;break;case"copy":case"cut":case"paste":S=QI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Wm}var D=(e&4)!==0,b=!D&&t==="scroll",I=D?g!==null?g+"Capture":null:g;D=[];for(var _=d,R;_!==null;){R=_;var L=R.stateNode;if(R.tag===5&&L!==null&&(R=L,I!==null&&(L=Co(_,I),L!=null&&D.push(Oo(_,L,R)))),b)break;_=_.return}0<D.length&&(g=new S(g,P,null,r,p),m.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",g&&r!==_h&&(P=r.relatedTarget||r.fromElement)&&(Hr(P)||P[Pn]))break e;if((S||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,S?(P=r.relatedTarget||r.toElement,S=d,P=P?Hr(P):null,P!==null&&(b=ui(P),P!==b||P.tag!==5&&P.tag!==6)&&(P=null)):(S=null,P=d),S!==P)){if(D=zm,L="onMouseLeave",I="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(D=Wm,L="onPointerLeave",I="onPointerEnter",_="pointer"),b=S==null?g:Oi(S),R=P==null?g:Oi(P),g=new D(L,_+"leave",S,r,p),g.target=b,g.relatedTarget=R,L=null,Hr(p)===d&&(D=new D(I,_+"enter",P,r,p),D.target=R,D.relatedTarget=b,L=D),b=L,S&&P)t:{for(D=S,I=P,_=0,R=D;R;R=Ti(R))_++;for(R=0,L=I;L;L=Ti(L))R++;for(;0<_-R;)D=Ti(D),_--;for(;0<R-_;)I=Ti(I),R--;for(;_--;){if(D===I||I!==null&&D===I.alternate)break t;D=Ti(D),I=Ti(I)}D=null}else D=null;S!==null&&tg(m,g,S,D,!1),P!==null&&b!==null&&tg(m,b,P,D,!0)}}e:{if(g=d?Oi(d):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var B=g1;else if(Km(g))if(f_)B=E1;else{B=v1;var j=y1}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=_1);if(B&&(B=B(t,d))){d_(m,B,r,p);break e}j&&j(t,g,d),t==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&ph(g,"number",g.value)}switch(j=d?Oi(d):window,t){case"focusin":(Km(j)||j.contentEditable==="true")&&(xi=j,Ch=d,fo=null);break;case"focusout":fo=Ch=xi=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Ym(m,r,p);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":Ym(m,r,p)}var w;if(Zd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ni?c_(t,r)&&(v="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(v="onCompositionStart");v&&(u_&&r.locale!=="ko"&&(Ni||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ni&&(w=l_()):(nr=p,Jd="value"in nr?nr.value:nr.textContent,Ni=!0)),j=bl(d,v),0<j.length&&(v=new $m(v,t,null,r,p),m.push({event:v,listeners:j}),w?v.data=w:(w=h_(r),w!==null&&(v.data=w)))),(w=h1?d1(t,r):f1(t,r))&&(d=bl(d,"onBeforeInput"),0<d.length&&(p=new $m("onBeforeInput","beforeinput",null,r,p),m.push({event:p,listeners:d}),p.data=w))}I_(m,e)})}function Oo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function bl(t,e){for(var r=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Co(t,r),o!=null&&i.unshift(Oo(t,o,s)),o=Co(t,e),o!=null&&i.push(Oo(t,o,s))),t=t.return}return i}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tg(t,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var u=r,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,s?(c=Co(r,o),c!=null&&a.unshift(Oo(r,c,u))):s||(c=Co(r,o),c!=null&&a.push(Oo(r,c,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var R1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function ng(t){return(typeof t=="string"?t:""+t).replace(R1,`
`).replace(P1,"")}function qa(t,e,r){if(e=ng(e),ng(t)!==e&&r)throw Error(U(425))}function Vl(){}var Ph=null,kh=null;function Nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(t){return rg.resolve(null).then(t).catch(x1)}:xh;function x1(t){setTimeout(function(){throw t})}function Fc(t,e){var r=e,i=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){t.removeChild(s),ko(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);ko(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ig(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),sn="__reactFiber$"+ms,bo="__reactProps$"+ms,Pn="__reactContainer$"+ms,Dh="__reactEvents$"+ms,D1="__reactListeners$"+ms,O1="__reactHandles$"+ms;function Hr(t){var e=t[sn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pn]||r[sn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ig(t);t!==null;){if(r=t[sn])return r;t=ig(t)}return e}t=r,r=t.parentNode}return null}function na(t){return t=t[sn]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Su(t){return t[bo]||null}var Oh=[],bi=-1;function Cr(t){return{current:t}}function Ee(t){0>bi||(t.current=Oh[bi],Oh[bi]=null,bi--)}function ge(t,e){bi++,Oh[bi]=t.current,t.current=e}var wr={},at=Cr(wr),wt=Cr(!1),Yr=wr;function Yi(t,e){var r=t.type.contextTypes;if(!r)return wr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(t){return t=t.childContextTypes,t!=null}function Ll(){Ee(wt),Ee(at)}function sg(t,e,r){if(at.current!==wr)throw Error(U(168));ge(at,e),ge(wt,r)}function A_(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(U(108,yI(t)||"Unknown",s));return Se({},r,i)}function Ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,Yr=at.current,ge(at,t),ge(wt,wt.current),!0}function og(t,e,r){var i=t.stateNode;if(!i)throw Error(U(169));r?(t=A_(t,e,Yr),i.__reactInternalMemoizedMergedChildContext=t,Ee(wt),Ee(at),ge(at,t)):Ee(wt),ge(wt,r)}var vn=null,Au=!1,Uc=!1;function C_(t){vn===null?vn=[t]:vn.push(t)}function b1(t){Au=!0,C_(t)}function Rr(){if(!Uc&&vn!==null){Uc=!0;var t=0,e=ce;try{var r=vn;for(ce=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}vn=null,Au=!1}catch(s){throw vn!==null&&(vn=vn.slice(t+1)),Xv(qd,Rr),s}finally{ce=e,Uc=!1}}return null}var Vi=[],Li=0,Fl=null,Ul=0,Vt=[],Lt=0,Zr=null,_n=1,En="";function jr(t,e){Vi[Li++]=Ul,Vi[Li++]=Fl,Fl=t,Ul=e}function R_(t,e,r){Vt[Lt++]=_n,Vt[Lt++]=En,Vt[Lt++]=Zr,Zr=t;var i=_n;t=En;var s=32-Qt(i)-1;i&=~(1<<s),r+=1;var o=32-Qt(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,_n=1<<32-Qt(e)+s|r<<s|i,En=o+t}else _n=1<<o|r<<s|i,En=t}function tf(t){t.return!==null&&(jr(t,1),R_(t,1,0))}function nf(t){for(;t===Fl;)Fl=Vi[--Li],Vi[Li]=null,Ul=Vi[--Li],Vi[Li]=null;for(;t===Zr;)Zr=Vt[--Lt],Vt[Lt]=null,En=Vt[--Lt],Vt[Lt]=null,_n=Vt[--Lt],Vt[Lt]=null}var kt=null,Rt=null,we=!1,Gt=null;function P_(t,e){var r=Mt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ag(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,Rt=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zr!==null?{id:_n,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Mt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kt=t,Rt=null,!0):!1;default:return!1}}function bh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vh(t){if(we){var e=Rt;if(e){var r=e;if(!ag(t,e)){if(bh(t))throw Error(U(418));e=ur(r.nextSibling);var i=kt;e&&ag(t,e)?P_(i,r):(t.flags=t.flags&-4097|2,we=!1,kt=t)}}else{if(bh(t))throw Error(U(418));t.flags=t.flags&-4097|2,we=!1,kt=t}}}function lg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Ka(t){if(t!==kt)return!1;if(!we)return lg(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nh(t.type,t.memoizedProps)),e&&(e=Rt)){if(bh(t))throw k_(),Error(U(418));for(;e;)P_(t,e),e=ur(e.nextSibling)}if(lg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rt=ur(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=kt?ur(t.stateNode.nextSibling):null;return!0}function k_(){for(var t=Rt;t;)t=ur(t.nextSibling)}function Zi(){Rt=kt=null,we=!1}function rf(t){Gt===null?Gt=[t]:Gt.push(t)}var V1=Ln.ReactCurrentBatchConfig;function qs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var i=r.stateNode}if(!i)throw Error(U(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=s.refs;a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,t))}return t}function Ga(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ug(t){var e=t._init;return e(t._payload)}function N_(t){function e(I,_){if(t){var R=I.deletions;R===null?(I.deletions=[_],I.flags|=16):R.push(_)}}function r(I,_){if(!t)return null;for(;_!==null;)e(I,_),_=_.sibling;return null}function i(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function s(I,_){return I=fr(I,_),I.index=0,I.sibling=null,I}function o(I,_,R){return I.index=R,t?(R=I.alternate,R!==null?(R=R.index,R<_?(I.flags|=2,_):R):(I.flags|=2,_)):(I.flags|=1048576,_)}function a(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,_,R,L){return _===null||_.tag!==6?(_=qc(R,I.mode,L),_.return=I,_):(_=s(_,R),_.return=I,_)}function c(I,_,R,L){var B=R.type;return B===ki?p(I,_,R.props.children,L,R.key):_!==null&&(_.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Gn&&ug(B)===_.type)?(L=s(_,R.props),L.ref=qs(I,_,R),L.return=I,L):(L=yl(R.type,R.key,R.props,null,I.mode,L),L.ref=qs(I,_,R),L.return=I,L)}function d(I,_,R,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=Kc(R,I.mode,L),_.return=I,_):(_=s(_,R.children||[]),_.return=I,_)}function p(I,_,R,L,B){return _===null||_.tag!==7?(_=Jr(R,I.mode,L,B),_.return=I,_):(_=s(_,R),_.return=I,_)}function m(I,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qc(""+_,I.mode,R),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ma:return R=yl(_.type,_.key,_.props,null,I.mode,R),R.ref=qs(I,null,_),R.return=I,R;case Pi:return _=Kc(_,I.mode,R),_.return=I,_;case Gn:var L=_._init;return m(I,L(_._payload),R)}if(Xs(_)||Bs(_))return _=Jr(_,I.mode,R,null),_.return=I,_;Ga(I,_)}return null}function g(I,_,R,L){var B=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return B!==null?null:u(I,_,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ma:return R.key===B?c(I,_,R,L):null;case Pi:return R.key===B?d(I,_,R,L):null;case Gn:return B=R._init,g(I,_,B(R._payload),L)}if(Xs(R)||Bs(R))return B!==null?null:p(I,_,R,L,null);Ga(I,R)}return null}function S(I,_,R,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(R)||null,u(_,I,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ma:return I=I.get(L.key===null?R:L.key)||null,c(_,I,L,B);case Pi:return I=I.get(L.key===null?R:L.key)||null,d(_,I,L,B);case Gn:var j=L._init;return S(I,_,R,j(L._payload),B)}if(Xs(L)||Bs(L))return I=I.get(R)||null,p(_,I,L,B,null);Ga(_,L)}return null}function P(I,_,R,L){for(var B=null,j=null,w=_,v=_=0,T=null;w!==null&&v<R.length;v++){w.index>v?(T=w,w=null):T=w.sibling;var A=g(I,w,R[v],L);if(A===null){w===null&&(w=T);break}t&&w&&A.alternate===null&&e(I,w),_=o(A,_,v),j===null?B=A:j.sibling=A,j=A,w=T}if(v===R.length)return r(I,w),we&&jr(I,v),B;if(w===null){for(;v<R.length;v++)w=m(I,R[v],L),w!==null&&(_=o(w,_,v),j===null?B=w:j.sibling=w,j=w);return we&&jr(I,v),B}for(w=i(I,w);v<R.length;v++)T=S(w,I,v,R[v],L),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?v:T.key),_=o(T,_,v),j===null?B=T:j.sibling=T,j=T);return t&&w.forEach(function(k){return e(I,k)}),we&&jr(I,v),B}function D(I,_,R,L){var B=Bs(R);if(typeof B!="function")throw Error(U(150));if(R=B.call(R),R==null)throw Error(U(151));for(var j=B=null,w=_,v=_=0,T=null,A=R.next();w!==null&&!A.done;v++,A=R.next()){w.index>v?(T=w,w=null):T=w.sibling;var k=g(I,w,A.value,L);if(k===null){w===null&&(w=T);break}t&&w&&k.alternate===null&&e(I,w),_=o(k,_,v),j===null?B=k:j.sibling=k,j=k,w=T}if(A.done)return r(I,w),we&&jr(I,v),B;if(w===null){for(;!A.done;v++,A=R.next())A=m(I,A.value,L),A!==null&&(_=o(A,_,v),j===null?B=A:j.sibling=A,j=A);return we&&jr(I,v),B}for(w=i(I,w);!A.done;v++,A=R.next())A=S(w,I,v,A.value,L),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?v:A.key),_=o(A,_,v),j===null?B=A:j.sibling=A,j=A);return t&&w.forEach(function(N){return e(I,N)}),we&&jr(I,v),B}function b(I,_,R,L){if(typeof R=="object"&&R!==null&&R.type===ki&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Ma:e:{for(var B=R.key,j=_;j!==null;){if(j.key===B){if(B=R.type,B===ki){if(j.tag===7){r(I,j.sibling),_=s(j,R.props.children),_.return=I,I=_;break e}}else if(j.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Gn&&ug(B)===j.type){r(I,j.sibling),_=s(j,R.props),_.ref=qs(I,j,R),_.return=I,I=_;break e}r(I,j);break}else e(I,j);j=j.sibling}R.type===ki?(_=Jr(R.props.children,I.mode,L,R.key),_.return=I,I=_):(L=yl(R.type,R.key,R.props,null,I.mode,L),L.ref=qs(I,_,R),L.return=I,I=L)}return a(I);case Pi:e:{for(j=R.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){r(I,_.sibling),_=s(_,R.children||[]),_.return=I,I=_;break e}else{r(I,_);break}else e(I,_);_=_.sibling}_=Kc(R,I.mode,L),_.return=I,I=_}return a(I);case Gn:return j=R._init,b(I,_,j(R._payload),L)}if(Xs(R))return P(I,_,R,L);if(Bs(R))return D(I,_,R,L);Ga(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(r(I,_.sibling),_=s(_,R),_.return=I,I=_):(r(I,_),_=qc(R,I.mode,L),_.return=I,I=_),a(I)):r(I,_)}return b}var es=N_(!0),x_=N_(!1),jl=Cr(null),Bl=null,Mi=null,sf=null;function of(){sf=Mi=Bl=null}function af(t){var e=jl.current;Ee(jl),t._currentValue=e}function Lh(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function Hi(t,e){Bl=t,sf=Mi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(sf!==t)if(t={context:t,memoizedValue:e,next:null},Mi===null){if(Bl===null)throw Error(U(308));Mi=t,Bl.dependencies={lanes:0,firstContext:t}}else Mi=Mi.next=t;return e}var qr=null;function lf(t){qr===null?qr=[t]:qr.push(t)}function D_(t,e,r,i){var s=e.interleaved;return s===null?(r.next=r,lf(e)):(r.next=s.next,s.next=r),e.interleaved=r,kn(t,i)}function kn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Qn=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function An(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cr(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,se&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,kn(t,r)}return s=i.interleaved,s===null?(e.next=e,lf(i)):(e.next=s.next,s.next=e),i.interleaved=e,kn(t,r)}function hl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Kd(t,r)}}function cg(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zl(t,e,r,i){var s=t.updateQueue;Qn=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(o!==null){var m=s.baseState;a=0,p=d=c=null,u=o;do{var g=u.lane,S=u.eventTime;if((i&g)===g){p!==null&&(p=p.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var P=t,D=u;switch(g=e,S=r,D.tag){case 1:if(P=D.payload,typeof P=="function"){m=P.call(S,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=D.payload,g=typeof P=="function"?P.call(S,m,g):P,g==null)break e;m=Se({},m,g);break e;case 2:Qn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[u]:g.push(u))}else S={eventTime:S,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=S,c=m):p=p.next=S,a|=g;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;g=u,u=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ti|=a,t.lanes=a,t.memoizedState=m}}function hg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(U(191,s));s.call(i)}}}var ra={},an=Cr(ra),Vo=Cr(ra),Lo=Cr(ra);function Kr(t){if(t===ra)throw Error(U(174));return t}function cf(t,e){switch(ge(Lo,e),ge(Vo,t),ge(an,ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gh(e,t)}Ee(an),ge(an,e)}function ts(){Ee(an),Ee(Vo),Ee(Lo)}function b_(t){Kr(Lo.current);var e=Kr(an.current),r=gh(e,t.type);e!==r&&(ge(Vo,t),ge(an,r))}function hf(t){Vo.current===t&&(Ee(an),Ee(Vo))}var Te=Cr(0);function $l(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jc=[];function df(){for(var t=0;t<jc.length;t++)jc[t]._workInProgressVersionPrimary=null;jc.length=0}var dl=Ln.ReactCurrentDispatcher,Bc=Ln.ReactCurrentBatchConfig,ei=0,Ie=null,Ve=null,je=null,Wl=!1,po=!1,Mo=0,L1=0;function tt(){throw Error(U(321))}function ff(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yt(t[r],e[r]))return!1;return!0}function pf(t,e,r,i,s,o){if(ei=o,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dl.current=t===null||t.memoizedState===null?j1:B1,t=r(i,s),po){o=0;do{if(po=!1,Mo=0,25<=o)throw Error(U(301));o+=1,je=Ve=null,e.updateQueue=null,dl.current=z1,t=r(i,s)}while(po)}if(dl.current=Hl,e=Ve!==null&&Ve.next!==null,ei=0,je=Ve=Ie=null,Wl=!1,e)throw Error(U(300));return t}function mf(){var t=Mo!==0;return Mo=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ie.memoizedState=je=t:je=je.next=t,je}function jt(){if(Ve===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=je===null?Ie.memoizedState:je.next;if(e!==null)je=e,Ve=t;else{if(t===null)throw Error(U(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},je===null?Ie.memoizedState=je=t:je=je.next=t}return je}function Fo(t,e){return typeof e=="function"?e(t):e}function zc(t){var e=jt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var i=Ve,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var u=a=null,c=null,d=o;do{var p=d.lane;if((ei&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,a=i):c=c.next=m,Ie.lanes|=p,ti|=p}d=d.next}while(d!==null&&d!==o);c===null?a=i:c.next=u,Yt(i,e.memoizedState)||(Et=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Ie.lanes|=o,ti|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $c(t){var e=jt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);Yt(o,e.memoizedState)||(Et=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function V_(){}function L_(t,e){var r=Ie,i=jt(),s=e(),o=!Yt(i.memoizedState,s);if(o&&(i.memoizedState=s,Et=!0),i=i.queue,gf(U_.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,Uo(9,F_.bind(null,r,i,s,e),void 0,null),Be===null)throw Error(U(349));ei&30||M_(r,e,s)}return s}function M_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function F_(t,e,r,i){e.value=r,e.getSnapshot=i,j_(e)&&B_(t)}function U_(t,e,r){return r(function(){j_(e)&&B_(t)})}function j_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yt(t,r)}catch{return!0}}function B_(t){var e=kn(t,1);e!==null&&Jt(e,t,1,-1)}function dg(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},e.queue=t,t=t.dispatch=U1.bind(null,Ie,t),[e.memoizedState,t]}function Uo(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function z_(){return jt().memoizedState}function fl(t,e,r,i){var s=rn();Ie.flags|=t,s.memoizedState=Uo(1|e,r,void 0,i===void 0?null:i)}function Cu(t,e,r,i){var s=jt();i=i===void 0?null:i;var o=void 0;if(Ve!==null){var a=Ve.memoizedState;if(o=a.destroy,i!==null&&ff(i,a.deps)){s.memoizedState=Uo(e,r,o,i);return}}Ie.flags|=t,s.memoizedState=Uo(1|e,r,o,i)}function fg(t,e){return fl(8390656,8,t,e)}function gf(t,e){return Cu(2048,8,t,e)}function $_(t,e){return Cu(4,2,t,e)}function W_(t,e){return Cu(4,4,t,e)}function H_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q_(t,e,r){return r=r!=null?r.concat([t]):null,Cu(4,4,H_.bind(null,e,t),r)}function yf(){}function K_(t,e){var r=jt();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&ff(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function G_(t,e){var r=jt();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&ff(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function Q_(t,e,r){return ei&21?(Yt(r,e)||(r=e_(),Ie.lanes|=r,ti|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=r)}function M1(t,e){var r=ce;ce=r!==0&&4>r?r:4,t(!0);var i=Bc.transition;Bc.transition={};try{t(!1),e()}finally{ce=r,Bc.transition=i}}function J_(){return jt().memoizedState}function F1(t,e,r){var i=dr(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},X_(t))Y_(e,r);else if(r=D_(t,e,r,i),r!==null){var s=ft();Jt(r,t,i,s),Z_(r,e,i)}}function U1(t,e,r){var i=dr(t),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(X_(t))Y_(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,r);if(s.hasEagerState=!0,s.eagerState=u,Yt(u,a)){var c=e.interleaved;c===null?(s.next=s,lf(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=D_(t,e,s,i),r!==null&&(s=ft(),Jt(r,t,i,s),Z_(r,e,i))}}function X_(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Y_(t,e){po=Wl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Z_(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Kd(t,r)}}var Hl={readContext:Ut,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},j1={readContext:Ut,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:fg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fl(4194308,4,H_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fl(4194308,4,t,e)},useInsertionEffect:function(t,e){return fl(4,2,t,e)},useMemo:function(t,e){var r=rn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=rn();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=F1.bind(null,Ie,t),[i.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:dg,useDebugValue:yf,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=dg(!1),e=t[0];return t=M1.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=Ie,s=rn();if(we){if(r===void 0)throw Error(U(407));r=r()}else{if(r=e(),Be===null)throw Error(U(349));ei&30||M_(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,fg(U_.bind(null,i,o,t),[t]),i.flags|=2048,Uo(9,F_.bind(null,i,o,r,e),void 0,null),r},useId:function(){var t=rn(),e=Be.identifierPrefix;if(we){var r=En,i=_n;r=(i&~(1<<32-Qt(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=L1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B1={readContext:Ut,useCallback:K_,useContext:Ut,useEffect:gf,useImperativeHandle:q_,useInsertionEffect:$_,useLayoutEffect:W_,useMemo:G_,useReducer:zc,useRef:z_,useState:function(){return zc(Fo)},useDebugValue:yf,useDeferredValue:function(t){var e=jt();return Q_(e,Ve.memoizedState,t)},useTransition:function(){var t=zc(Fo)[0],e=jt().memoizedState;return[t,e]},useMutableSource:V_,useSyncExternalStore:L_,useId:J_,unstable_isNewReconciler:!1},z1={readContext:Ut,useCallback:K_,useContext:Ut,useEffect:gf,useImperativeHandle:q_,useInsertionEffect:$_,useLayoutEffect:W_,useMemo:G_,useReducer:$c,useRef:z_,useState:function(){return $c(Fo)},useDebugValue:yf,useDeferredValue:function(t){var e=jt();return Ve===null?e.memoizedState=t:Q_(e,Ve.memoizedState,t)},useTransition:function(){var t=$c(Fo)[0],e=jt().memoizedState;return[t,e]},useMutableSource:V_,useSyncExternalStore:L_,useId:J_,unstable_isNewReconciler:!1};function qt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Mh(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:Se({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ru={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=ft(),s=dr(t),o=An(i,s);o.payload=e,r!=null&&(o.callback=r),e=cr(t,o,s),e!==null&&(Jt(e,t,s,i),hl(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=ft(),s=dr(t),o=An(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=cr(t,o,s),e!==null&&(Jt(e,t,s,i),hl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ft(),i=dr(t),s=An(r,i);s.tag=2,e!=null&&(s.callback=e),e=cr(t,s,i),e!==null&&(Jt(e,t,i,r),hl(e,t,i))}};function pg(t,e,r,i,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!xo(r,i)||!xo(s,o):!0}function e0(t,e,r){var i=!1,s=wr,o=e.contextType;return typeof o=="object"&&o!==null?o=Ut(o):(s=Tt(e)?Yr:at.current,i=e.contextTypes,o=(i=i!=null)?Yi(t,s):wr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ru,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function mg(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&Ru.enqueueReplaceState(e,e.state,null)}function Fh(t,e,r,i){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},uf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Ut(o):(o=Tt(e)?Yr:at.current,s.context=Yi(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mh(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ru.enqueueReplaceState(s,s.state,null),zl(t,r,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ns(t,e){try{var r="",i=e;do r+=gI(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Wc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Uh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function t0(t,e,r){r=An(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Kl||(Kl=!0,Qh=i),Uh(t,e)},r}function n0(t,e,r){r=An(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){Uh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Uh(t,e),typeof i!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function gg(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new $1;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),t=rS.bind(null,t,e,r),e.then(t,t))}function yg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vg(t,e,r,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=An(-1,1),e.tag=2,cr(r,e,1))),r.lanes|=1),t)}var W1=Ln.ReactCurrentOwner,Et=!1;function ht(t,e,r,i){e.child=t===null?x_(e,null,r,i):es(e,t.child,r,i)}function _g(t,e,r,i,s){r=r.render;var o=e.ref;return Hi(e,s),i=pf(t,e,r,i,o,s),r=mf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nn(t,e,s)):(we&&r&&tf(e),e.flags|=1,ht(t,e,i,s),e.child)}function Eg(t,e,r,i,s){if(t===null){var o=r.type;return typeof o=="function"&&!Af(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,r0(t,e,o,i,s)):(t=yl(r.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:xo,r(a,i)&&t.ref===e.ref)return Nn(t,e,s)}return e.flags|=1,t=fr(o,i),t.ref=e.ref,t.return=e,e.child=t}function r0(t,e,r,i,s){if(t!==null){var o=t.memoizedProps;if(xo(o,i)&&t.ref===e.ref)if(Et=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Nn(t,e,s)}return jh(t,e,r,i,s)}function i0(t,e,r){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Ui,Ct),Ct|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Ui,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,ge(Ui,Ct),Ct|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,ge(Ui,Ct),Ct|=i;return ht(t,e,s,r),e.child}function s0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jh(t,e,r,i,s){var o=Tt(r)?Yr:at.current;return o=Yi(e,o),Hi(e,s),r=pf(t,e,r,i,o,s),i=mf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nn(t,e,s)):(we&&i&&tf(e),e.flags|=1,ht(t,e,r,s),e.child)}function wg(t,e,r,i,s){if(Tt(r)){var o=!0;Ml(e)}else o=!1;if(Hi(e,s),e.stateNode===null)pl(t,e),e0(e,r,i),Fh(e,r,i,s),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ut(d):(d=Tt(r)?Yr:at.current,d=Yi(e,d));var p=r.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==d)&&mg(e,a,i,d),Qn=!1;var g=e.memoizedState;a.state=g,zl(e,i,a,s),c=e.memoizedState,u!==i||g!==c||wt.current||Qn?(typeof p=="function"&&(Mh(e,r,p,i),c=e.memoizedState),(u=Qn||pg(e,r,u,i,g,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,O_(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:qt(e.type,u),a.props=d,m=e.pendingProps,g=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=Tt(r)?Yr:at.current,c=Yi(e,c));var S=r.getDerivedStateFromProps;(p=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||g!==c)&&mg(e,a,i,c),Qn=!1,g=e.memoizedState,a.state=g,zl(e,i,a,s);var P=e.memoizedState;u!==m||g!==P||wt.current||Qn?(typeof S=="function"&&(Mh(e,r,S,i),P=e.memoizedState),(d=Qn||pg(e,r,d,i,g,P,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,P,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,P,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=P),a.props=i,a.state=P,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return Bh(t,e,r,i,o,s)}function Bh(t,e,r,i,s,o){s0(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&og(e,r,!1),Nn(t,e,o);i=e.stateNode,W1.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=es(e,t.child,null,o),e.child=es(e,null,u,o)):ht(t,e,u,o),e.memoizedState=i.state,s&&og(e,r,!0),e.child}function o0(t){var e=t.stateNode;e.pendingContext?sg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sg(t,e.context,!1),cf(t,e.containerInfo)}function Tg(t,e,r,i,s){return Zi(),rf(s),e.flags|=256,ht(t,e,r,i),e.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function $h(t){return{baseLanes:t,cachePool:null,transitions:null}}function a0(t,e,r){var i=e.pendingProps,s=Te.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Te,s&1),t===null)return Vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Nu(a,i,0,null),t=Jr(t,i,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$h(r),e.memoizedState=zh,t):vf(e,a));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return H1(t,e,a,i,u,s,r);if(o){o=i.fallback,a=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=fr(s,c),i.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=fr(u,o):(o=Jr(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?$h(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=zh,i}return o=t.child,t=o.sibling,i=fr(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function vf(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qa(t,e,r,i){return i!==null&&rf(i),es(e,t.child,null,r),t=vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H1(t,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=Wc(Error(U(422))),Qa(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Nu({mode:"visible",children:i.children},s,0,null),o=Jr(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&es(e,t.child,null,a),e.child.memoizedState=$h(a),e.memoizedState=zh,o);if(!(e.mode&1))return Qa(t,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(U(419)),i=Wc(o,i,void 0),Qa(t,e,a,i)}if(u=(a&t.childLanes)!==0,Et||u){if(i=Be,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,kn(t,s),Jt(i,t,s,-1))}return Sf(),i=Wc(Error(U(421))),Qa(t,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iS.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Rt=ur(s.nextSibling),kt=e,we=!0,Gt=null,t!==null&&(Vt[Lt++]=_n,Vt[Lt++]=En,Vt[Lt++]=Zr,_n=t.id,En=t.overflow,Zr=e),e=vf(e,i.children),e.flags|=4096,e)}function Ig(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Lh(t.return,e,r)}function Hc(t,e,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function l0(t,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(ht(t,e,i.children,r),i=Te.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,r,e);else if(t.tag===19)Ig(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ge(Te,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&$l(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Hc(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$l(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Hc(e,!0,r,null,o);break;case"together":Hc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,r=fr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function q1(t,e,r){switch(e.tag){case 3:o0(e),Zi();break;case 5:b_(e);break;case 1:Tt(e.type)&&Ml(e);break;case 4:cf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ge(jl,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ge(Te,Te.current&1),e.flags|=128,null):r&e.child.childLanes?a0(t,e,r):(ge(Te,Te.current&1),t=Nn(t,e,r),t!==null?t.sibling:null);ge(Te,Te.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return l0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Te,Te.current),i)break;return null;case 22:case 23:return e.lanes=0,i0(t,e,r)}return Nn(t,e,r)}var u0,Wh,c0,h0;u0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wh=function(){};c0=function(t,e,r,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Kr(an.current);var o=null;switch(r){case"input":s=dh(t,s),i=dh(t,i),o=[];break;case"select":s=Se({},s,{value:void 0}),i=Se({},i,{value:void 0}),o=[];break;case"textarea":s=mh(t,s),i=mh(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Vl)}yh(r,i);var a;r=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(So.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var c=i[d];if(u=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(So.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",t),o||u===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};h0=function(t,e,r,i){r!==i&&(e.flags|=4)};function Ks(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function K1(t,e,r){var i=e.pendingProps;switch(nf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return Tt(e.type)&&Ll(),nt(e),null;case 3:return i=e.stateNode,ts(),Ee(wt),Ee(at),df(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ka(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(Yh(Gt),Gt=null))),Wh(t,e),nt(e),null;case 5:hf(e);var s=Kr(Lo.current);if(r=e.type,t!==null&&e.stateNode!=null)c0(t,e,r,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return nt(e),null}if(t=Kr(an.current),Ka(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[sn]=e,i[bo]=o,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(s=0;s<Zs.length;s++)ve(Zs[s],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":Dm(i,o),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ve("invalid",i);break;case"textarea":bm(i,o),ve("invalid",i)}yh(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&qa(i.textContent,u,t),s=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&qa(i.textContent,u,t),s=["children",""+u]):So.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ve("scroll",i)}switch(r){case"input":Fa(i),Om(i,o,!0);break;case"textarea":Fa(i),Vm(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Vl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(r,{is:i.is}):(t=a.createElement(r),r==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,r),t[sn]=e,t[bo]=i,u0(t,e,!1,!1),e.stateNode=t;e:{switch(a=vh(r,i),r){case"dialog":ve("cancel",t),ve("close",t),s=i;break;case"iframe":case"object":case"embed":ve("load",t),s=i;break;case"video":case"audio":for(s=0;s<Zs.length;s++)ve(Zs[s],t);s=i;break;case"source":ve("error",t),s=i;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=i;break;case"details":ve("toggle",t),s=i;break;case"input":Dm(t,i),s=dh(t,i),ve("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Se({},i,{value:void 0}),ve("invalid",t);break;case"textarea":bm(t,i),s=mh(t,i),ve("invalid",t);break;default:s=i}yh(r,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?zv(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jv(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ao(t,c):typeof c=="number"&&Ao(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(So.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",t):c!=null&&Bd(t,o,c,a))}switch(r){case"input":Fa(t),Om(t,i,!1);break;case"textarea":Fa(t),Vm(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Er(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Bi(t,!!i.multiple,o,!1):i.defaultValue!=null&&Bi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vl)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)h0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(r=Kr(Lo.current),Kr(an.current),Ka(e)){if(i=e.stateNode,r=e.memoizedProps,i[sn]=e,(o=i.nodeValue!==r)&&(t=kt,t!==null))switch(t.tag){case 3:qa(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(i.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[sn]=e,e.stateNode=i}return nt(e),null;case 13:if(Ee(Te),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&Rt!==null&&e.mode&1&&!(e.flags&128))k_(),Zi(),e.flags|=98560,o=!1;else if(o=Ka(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[sn]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),o=!1}else Gt!==null&&(Yh(Gt),Gt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Le===0&&(Le=3):Sf())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return ts(),Wh(t,e),t===null&&Do(e.stateNode.containerInfo),nt(e),null;case 10:return af(e.type._context),nt(e),null;case 17:return Tt(e.type)&&Ll(),nt(e),null;case 19:if(Ee(Te),o=e.memoizedState,o===null)return nt(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Ks(o,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=$l(t),a!==null){for(e.flags|=128,Ks(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&ke()>rs&&(e.flags|=128,i=!0,Ks(o,!1),e.lanes=4194304)}else{if(!i)if(t=$l(a),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ks(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!we)return nt(e),null}else 2*ke()-o.renderingStartTime>rs&&r!==1073741824&&(e.flags|=128,i=!0,Ks(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,r=Te.current,ge(Te,i?r&1|2:r&1),e):(nt(e),null);case 22:case 23:return If(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ct&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function G1(t,e){switch(nf(e),e.tag){case 1:return Tt(e.type)&&Ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ts(),Ee(wt),Ee(at),df(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hf(e),null;case 13:if(Ee(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Te),null;case 4:return ts(),null;case 10:return af(e.type._context),null;case 22:case 23:return If(),null;case 24:return null;default:return null}}var Ja=!1,st=!1,Q1=typeof WeakSet=="function"?WeakSet:Set,H=null;function Fi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Re(t,e,i)}else r.current=null}function Hh(t,e,r){try{r()}catch(i){Re(t,e,i)}}var Sg=!1;function J1(t,e){if(Ph=Dl,t=g_(),ef(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,u=-1,c=-1,d=0,p=0,m=t,g=null;t:for(;;){for(var S;m!==r||s!==0&&m.nodeType!==3||(u=a+s),m!==o||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(S=m.firstChild)!==null;)g=m,m=S;for(;;){if(m===t)break t;if(g===r&&++d===s&&(u=a),g===o&&++p===i&&(c=a),(S=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=S}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(kh={focusedElem:t,selectionRange:r},Dl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var D=P.memoizedProps,b=P.memoizedState,I=e.stateNode,_=I.getSnapshotBeforeUpdate(e.elementType===e.type?D:qt(e.type,D),b);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(L){Re(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return P=Sg,Sg=!1,P}function mo(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Hh(e,r,o)}s=s.next}while(s!==i)}}function Pu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function qh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function d0(t){var e=t.alternate;e!==null&&(t.alternate=null,d0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[bo],delete e[Dh],delete e[D1],delete e[O1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f0(t){return t.tag===5||t.tag===3||t.tag===4}function Ag(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vl));else if(i!==4&&(t=t.child,t!==null))for(Kh(t,e,r),t=t.sibling;t!==null;)Kh(t,e,r),t=t.sibling}function Gh(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Gh(t,e,r),t=t.sibling;t!==null;)Gh(t,e,r),t=t.sibling}var He=null,Kt=!1;function qn(t,e,r){for(r=r.child;r!==null;)p0(t,e,r),r=r.sibling}function p0(t,e,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Eu,r)}catch{}switch(r.tag){case 5:st||Fi(r,e);case 6:var i=He,s=Kt;He=null,qn(t,e,r),He=i,Kt=s,He!==null&&(Kt?(t=He,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(Kt?(t=He,r=r.stateNode,t.nodeType===8?Fc(t.parentNode,r):t.nodeType===1&&Fc(t,r),ko(t)):Fc(He,r.stateNode));break;case 4:i=He,s=Kt,He=r.stateNode.containerInfo,Kt=!0,qn(t,e,r),He=i,Kt=s;break;case 0:case 11:case 14:case 15:if(!st&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Hh(r,e,a),s=s.next}while(s!==i)}qn(t,e,r);break;case 1:if(!st&&(Fi(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(u){Re(r,e,u)}qn(t,e,r);break;case 21:qn(t,e,r);break;case 22:r.mode&1?(st=(i=st)||r.memoizedState!==null,qn(t,e,r),st=i):qn(t,e,r);break;default:qn(t,e,r)}}function Cg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Q1),e.forEach(function(i){var s=sS.bind(null,t,i);r.has(i)||(r.add(i),i.then(s,s))})}}function Ht(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:He=u.stateNode,Kt=!1;break e;case 3:He=u.stateNode.containerInfo,Kt=!0;break e;case 4:He=u.stateNode.containerInfo,Kt=!0;break e}u=u.return}if(He===null)throw Error(U(160));p0(o,a,s),He=null,Kt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Re(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m0(e,t),e=e.sibling}function m0(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),tn(t),i&4){try{mo(3,t,t.return),Pu(3,t)}catch(D){Re(t,t.return,D)}try{mo(5,t,t.return)}catch(D){Re(t,t.return,D)}}break;case 1:Ht(e,t),tn(t),i&512&&r!==null&&Fi(r,r.return);break;case 5:if(Ht(e,t),tn(t),i&512&&r!==null&&Fi(r,r.return),t.flags&32){var s=t.stateNode;try{Ao(s,"")}catch(D){Re(t,t.return,D)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Mv(s,o),vh(u,a);var d=vh(u,o);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?zv(s,m):p==="dangerouslySetInnerHTML"?jv(s,m):p==="children"?Ao(s,m):Bd(s,p,m,d)}switch(u){case"input":fh(s,o);break;case"textarea":Fv(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?Bi(s,!!o.multiple,S,!1):g!==!!o.multiple&&(o.defaultValue!=null?Bi(s,!!o.multiple,o.defaultValue,!0):Bi(s,!!o.multiple,o.multiple?[]:"",!1))}s[bo]=o}catch(D){Re(t,t.return,D)}}break;case 6:if(Ht(e,t),tn(t),i&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(D){Re(t,t.return,D)}}break;case 3:if(Ht(e,t),tn(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(e.containerInfo)}catch(D){Re(t,t.return,D)}break;case 4:Ht(e,t),tn(t);break;case 13:Ht(e,t),tn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(wf=ke())),i&4&&Cg(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(st=(d=st)||p,Ht(e,t),st=d):Ht(e,t),tn(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(H=t,p=t.child;p!==null;){for(m=H=p;H!==null;){switch(g=H,S=g.child,g.tag){case 0:case 11:case 14:case 15:mo(4,g,g.return);break;case 1:Fi(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){i=g,r=g.return;try{e=i,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(D){Re(i,r,D)}}break;case 5:Fi(g,g.return);break;case 22:if(g.memoizedState!==null){Pg(m);continue}}S!==null?(S.return=g,H=S):Pg(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Bv("display",a))}catch(D){Re(t,t.return,D)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(D){Re(t,t.return,D)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ht(e,t),tn(t),i&4&&Cg(t);break;case 21:break;default:Ht(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(f0(r)){var i=r;break e}r=r.return}throw Error(U(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ao(s,""),i.flags&=-33);var o=Ag(t);Gh(t,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,u=Ag(t);Kh(t,u,a);break;default:throw Error(U(161))}}catch(c){Re(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X1(t,e,r){H=t,g0(t)}function g0(t,e,r){for(var i=(t.mode&1)!==0;H!==null;){var s=H,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Ja;if(!a){var u=s.alternate,c=u!==null&&u.memoizedState!==null||st;u=Ja;var d=st;if(Ja=a,(st=c)&&!d)for(H=s;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?kg(s):c!==null?(c.return=a,H=c):kg(s);for(;o!==null;)H=o,g0(o),o=o.sibling;H=s,Ja=u,st=d}Rg(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,H=o):Rg(t)}}function Rg(t){for(;H!==null;){var e=H;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Pu(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!st)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:qt(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hg(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}hg(e,a,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&ko(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}st||e.flags&512&&qh(e)}catch(g){Re(e,e.return,g)}}if(e===t){H=null;break}if(r=e.sibling,r!==null){r.return=e.return,H=r;break}H=e.return}}function Pg(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var r=e.sibling;if(r!==null){r.return=e.return,H=r;break}H=e.return}}function kg(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Pu(4,e)}catch(c){Re(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){Re(e,s,c)}}var o=e.return;try{qh(e)}catch(c){Re(e,o,c)}break;case 5:var a=e.return;try{qh(e)}catch(c){Re(e,a,c)}}}catch(c){Re(e,e.return,c)}if(e===t){H=null;break}var u=e.sibling;if(u!==null){u.return=e.return,H=u;break}H=e.return}}var Y1=Math.ceil,ql=Ln.ReactCurrentDispatcher,_f=Ln.ReactCurrentOwner,Ft=Ln.ReactCurrentBatchConfig,se=0,Be=null,De=null,Ge=0,Ct=0,Ui=Cr(0),Le=0,jo=null,ti=0,ku=0,Ef=0,go=null,vt=null,wf=0,rs=1/0,yn=null,Kl=!1,Qh=null,hr=null,Xa=!1,rr=null,Gl=0,yo=0,Jh=null,ml=-1,gl=0;function ft(){return se&6?ke():ml!==-1?ml:ml=ke()}function dr(t){return t.mode&1?se&2&&Ge!==0?Ge&-Ge:V1.transition!==null?(gl===0&&(gl=e_()),gl):(t=ce,t!==0||(t=window.event,t=t===void 0?16:a_(t.type)),t):1}function Jt(t,e,r,i){if(50<yo)throw yo=0,Jh=null,Error(U(185));ea(t,r,i),(!(se&2)||t!==Be)&&(t===Be&&(!(se&2)&&(ku|=r),Le===4&&Xn(t,Ge)),It(t,i),r===1&&se===0&&!(e.mode&1)&&(rs=ke()+500,Au&&Rr()))}function It(t,e){var r=t.callbackNode;VI(t,e);var i=xl(t,t===Be?Ge:0);if(i===0)r!==null&&Fm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&Fm(r),e===1)t.tag===0?b1(Ng.bind(null,t)):C_(Ng.bind(null,t)),N1(function(){!(se&6)&&Rr()}),r=null;else{switch(t_(i)){case 1:r=qd;break;case 4:r=Yv;break;case 16:r=Nl;break;case 536870912:r=Zv;break;default:r=Nl}r=S0(r,y0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function y0(t,e){if(ml=-1,gl=0,se&6)throw Error(U(327));var r=t.callbackNode;if(qi()&&t.callbackNode!==r)return null;var i=xl(t,t===Be?Ge:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ql(t,i);else{e=i;var s=se;se|=2;var o=_0();(Be!==t||Ge!==e)&&(yn=null,rs=ke()+500,Qr(t,e));do try{tS();break}catch(u){v0(t,u)}while(!0);of(),ql.current=o,se=s,De!==null?e=0:(Be=null,Ge=0,e=Le)}if(e!==0){if(e===2&&(s=Ih(t),s!==0&&(i=s,e=Xh(t,s))),e===1)throw r=jo,Qr(t,0),Xn(t,i),It(t,ke()),r;if(e===6)Xn(t,i);else{if(s=t.current.alternate,!(i&30)&&!Z1(s)&&(e=Ql(t,i),e===2&&(o=Ih(t),o!==0&&(i=o,e=Xh(t,o))),e===1))throw r=jo,Qr(t,0),Xn(t,i),It(t,ke()),r;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:Br(t,vt,yn);break;case 3:if(Xn(t,i),(i&130023424)===i&&(e=wf+500-ke(),10<e)){if(xl(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xh(Br.bind(null,t,vt,yn),e);break}Br(t,vt,yn);break;case 4:if(Xn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var a=31-Qt(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=ke()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Y1(i/1960))-i,10<i){t.timeoutHandle=xh(Br.bind(null,t,vt,yn),i);break}Br(t,vt,yn);break;case 5:Br(t,vt,yn);break;default:throw Error(U(329))}}}return It(t,ke()),t.callbackNode===r?y0.bind(null,t):null}function Xh(t,e){var r=go;return t.current.memoizedState.isDehydrated&&(Qr(t,e).flags|=256),t=Ql(t,e),t!==2&&(e=vt,vt=r,e!==null&&Yh(e)),t}function Yh(t){vt===null?vt=t:vt.push.apply(vt,t)}function Z1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!Yt(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~Ef,e&=~ku,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qt(e),i=1<<r;t[r]=-1,e&=~i}}function Ng(t){if(se&6)throw Error(U(327));qi();var e=xl(t,0);if(!(e&1))return It(t,ke()),null;var r=Ql(t,e);if(t.tag!==0&&r===2){var i=Ih(t);i!==0&&(e=i,r=Xh(t,i))}if(r===1)throw r=jo,Qr(t,0),Xn(t,e),It(t,ke()),r;if(r===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,vt,yn),It(t,ke()),null}function Tf(t,e){var r=se;se|=1;try{return t(e)}finally{se=r,se===0&&(rs=ke()+500,Au&&Rr())}}function ni(t){rr!==null&&rr.tag===0&&!(se&6)&&qi();var e=se;se|=1;var r=Ft.transition,i=ce;try{if(Ft.transition=null,ce=1,t)return t()}finally{ce=i,Ft.transition=r,se=e,!(se&6)&&Rr()}}function If(){Ct=Ui.current,Ee(Ui)}function Qr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,k1(r)),De!==null)for(r=De.return;r!==null;){var i=r;switch(nf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ll();break;case 3:ts(),Ee(wt),Ee(at),df();break;case 5:hf(i);break;case 4:ts();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:af(i.type._context);break;case 22:case 23:If()}r=r.return}if(Be=t,De=t=fr(t.current,null),Ge=Ct=e,Le=0,jo=null,Ef=ku=ti=0,vt=go=null,qr!==null){for(e=0;e<qr.length;e++)if(r=qr[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}qr=null}return t}function v0(t,e){do{var r=De;try{if(of(),dl.current=Hl,Wl){for(var i=Ie.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wl=!1}if(ei=0,je=Ve=Ie=null,po=!1,Mo=0,_f.current=null,r===null||r.return===null){Le=1,jo=e,De=null;break}e:{var o=t,a=r.return,u=r,c=e;if(e=Ge,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=yg(a);if(S!==null){S.flags&=-257,vg(S,a,u,o,e),S.mode&1&&gg(o,d,e),e=S,c=d;var P=e.updateQueue;if(P===null){var D=new Set;D.add(c),e.updateQueue=D}else P.add(c);break e}else{if(!(e&1)){gg(o,d,e),Sf();break e}c=Error(U(426))}}else if(we&&u.mode&1){var b=yg(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vg(b,a,u,o,e),rf(ns(c,u));break e}}o=c=ns(c,u),Le!==4&&(Le=2),go===null?go=[o]:go.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=t0(o,c,e);cg(o,I);break e;case 1:u=c;var _=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(hr===null||!hr.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=n0(o,u,e);cg(o,L);break e}}o=o.return}while(o!==null)}w0(r)}catch(B){e=B,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function _0(){var t=ql.current;return ql.current=Hl,t===null?Hl:t}function Sf(){(Le===0||Le===3||Le===2)&&(Le=4),Be===null||!(ti&268435455)&&!(ku&268435455)||Xn(Be,Ge)}function Ql(t,e){var r=se;se|=2;var i=_0();(Be!==t||Ge!==e)&&(yn=null,Qr(t,e));do try{eS();break}catch(s){v0(t,s)}while(!0);if(of(),se=r,ql.current=i,De!==null)throw Error(U(261));return Be=null,Ge=0,Le}function eS(){for(;De!==null;)E0(De)}function tS(){for(;De!==null&&!CI();)E0(De)}function E0(t){var e=I0(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?w0(t):De=e,_f.current=null}function w0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=G1(r,e),r!==null){r.flags&=32767,De=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,De=null;return}}else if(r=K1(r,e,Ct),r!==null){De=r;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Le===0&&(Le=5)}function Br(t,e,r){var i=ce,s=Ft.transition;try{Ft.transition=null,ce=1,nS(t,e,r,i)}finally{Ft.transition=s,ce=i}return null}function nS(t,e,r,i){do qi();while(rr!==null);if(se&6)throw Error(U(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(LI(t,o),t===Be&&(De=Be=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xa||(Xa=!0,S0(Nl,function(){return qi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var a=ce;ce=1;var u=se;se|=4,_f.current=null,J1(t,r),m0(r,t),T1(kh),Dl=!!Ph,kh=Ph=null,t.current=r,X1(r),RI(),se=u,ce=a,Ft.transition=o}else t.current=r;if(Xa&&(Xa=!1,rr=t,Gl=s),o=t.pendingLanes,o===0&&(hr=null),NI(r.stateNode),It(t,ke()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,t=Qh,Qh=null,t;return Gl&1&&t.tag!==0&&qi(),o=t.pendingLanes,o&1?t===Jh?yo++:(yo=0,Jh=t):yo=0,Rr(),null}function qi(){if(rr!==null){var t=t_(Gl),e=Ft.transition,r=ce;try{if(Ft.transition=null,ce=16>t?16:t,rr===null)var i=!1;else{if(t=rr,rr=null,Gl=0,se&6)throw Error(U(331));var s=se;for(se|=4,H=t.current;H!==null;){var o=H,a=o.child;if(H.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(H=d;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:mo(8,p,o)}var m=p.child;if(m!==null)m.return=p,H=m;else for(;H!==null;){p=H;var g=p.sibling,S=p.return;if(d0(p),p===d){H=null;break}if(g!==null){g.return=S,H=g;break}H=S}}}var P=o.alternate;if(P!==null){var D=P.child;if(D!==null){P.child=null;do{var b=D.sibling;D.sibling=null,D=b}while(D!==null)}}H=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,H=a;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mo(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,H=I;break e}H=o.return}}var _=t.current;for(H=_;H!==null;){a=H;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,H=R;else e:for(a=_;H!==null;){if(u=H,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Pu(9,u)}}catch(B){Re(u,u.return,B)}if(u===a){H=null;break e}var L=u.sibling;if(L!==null){L.return=u.return,H=L;break e}H=u.return}}if(se=s,Rr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Eu,t)}catch{}i=!0}return i}finally{ce=r,Ft.transition=e}}return!1}function xg(t,e,r){e=ns(r,e),e=t0(t,e,1),t=cr(t,e,1),e=ft(),t!==null&&(ea(t,1,e),It(t,e))}function Re(t,e,r){if(t.tag===3)xg(t,t,r);else for(;e!==null;){if(e.tag===3){xg(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(hr===null||!hr.has(i))){t=ns(r,t),t=n0(e,t,1),e=cr(e,t,1),t=ft(),e!==null&&(ea(e,1,t),It(e,t));break}}e=e.return}}function rS(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&r,Be===t&&(Ge&r)===r&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>ke()-wf?Qr(t,0):Ef|=r),It(t,e)}function T0(t,e){e===0&&(t.mode&1?(e=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):e=1);var r=ft();t=kn(t,e),t!==null&&(ea(t,e,r),It(t,r))}function iS(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),T0(t,r)}function sS(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),T0(t,r)}var I0;I0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)Et=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Et=!1,q1(t,e,r);Et=!!(t.flags&131072)}else Et=!1,we&&e.flags&1048576&&R_(e,Ul,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;pl(t,e),t=e.pendingProps;var s=Yi(e,at.current);Hi(e,r),s=pf(null,e,i,t,s,r);var o=mf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(i)?(o=!0,Ml(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uf(e),s.updater=Ru,e.stateNode=s,s._reactInternals=e,Fh(e,i,t,r),e=Bh(null,e,i,!0,o,r)):(e.tag=0,we&&o&&tf(e),ht(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(pl(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=aS(i),t=qt(i,t),s){case 0:e=jh(null,e,i,t,r);break e;case 1:e=wg(null,e,i,t,r);break e;case 11:e=_g(null,e,i,t,r);break e;case 14:e=Eg(null,e,i,qt(i.type,t),r);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:qt(i,s),jh(t,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:qt(i,s),wg(t,e,i,s,r);case 3:e:{if(o0(e),t===null)throw Error(U(387));i=e.pendingProps,o=e.memoizedState,s=o.element,O_(t,e),zl(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ns(Error(U(423)),e),e=Tg(t,e,i,r,s);break e}else if(i!==s){s=ns(Error(U(424)),e),e=Tg(t,e,i,r,s);break e}else for(Rt=ur(e.stateNode.containerInfo.firstChild),kt=e,we=!0,Gt=null,r=x_(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zi(),i===s){e=Nn(t,e,r);break e}ht(t,e,i,r)}e=e.child}return e;case 5:return b_(e),t===null&&Vh(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Nh(i,s)?a=null:o!==null&&Nh(i,o)&&(e.flags|=32),s0(t,e),ht(t,e,a,r),e.child;case 6:return t===null&&Vh(e),null;case 13:return a0(t,e,r);case 4:return cf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=es(e,null,i,r):ht(t,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:qt(i,s),_g(t,e,i,s,r);case 7:return ht(t,e,e.pendingProps,r),e.child;case 8:return ht(t,e,e.pendingProps.children,r),e.child;case 12:return ht(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,ge(jl,i._currentValue),i._currentValue=a,o!==null)if(Yt(o.value,a)){if(o.children===s.children&&!wt.current){e=Nn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=An(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Lh(o.return,r,e),u.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(U(341));a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Lh(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ht(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Hi(e,r),s=Ut(s),i=i(s),e.flags|=1,ht(t,e,i,r),e.child;case 14:return i=e.type,s=qt(i,e.pendingProps),s=qt(i.type,s),Eg(t,e,i,s,r);case 15:return r0(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:qt(i,s),pl(t,e),e.tag=1,Tt(i)?(t=!0,Ml(e)):t=!1,Hi(e,r),e0(e,i,s),Fh(e,i,s,r),Bh(null,e,i,!0,t,r);case 19:return l0(t,e,r);case 22:return i0(t,e,r)}throw Error(U(156,e.tag))};function S0(t,e){return Xv(t,e)}function oS(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,r,i){return new oS(t,e,r,i)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aS(t){if(typeof t=="function")return Af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$d)return 11;if(t===Wd)return 14}return 2}function fr(t,e){var r=t.alternate;return r===null?(r=Mt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yl(t,e,r,i,s,o){var a=2;if(i=t,typeof t=="function")Af(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ki:return Jr(r.children,s,o,e);case zd:a=8,s|=8;break;case lh:return t=Mt(12,r,e,s|2),t.elementType=lh,t.lanes=o,t;case uh:return t=Mt(13,r,e,s),t.elementType=uh,t.lanes=o,t;case ch:return t=Mt(19,r,e,s),t.elementType=ch,t.lanes=o,t;case bv:return Nu(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dv:a=10;break e;case Ov:a=9;break e;case $d:a=11;break e;case Wd:a=14;break e;case Gn:a=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Mt(a,r,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Jr(t,e,r,i){return t=Mt(7,t,i,e),t.lanes=r,t}function Nu(t,e,r,i){return t=Mt(22,t,i,e),t.elementType=bv,t.lanes=r,t.stateNode={isHidden:!1},t}function qc(t,e,r){return t=Mt(6,t,null,e),t.lanes=r,t}function Kc(t,e,r){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lS(t,e,r,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cf(t,e,r,i,s,o,a,u,c){return t=new lS(t,e,r,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(o),t}function uS(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function A0(t){if(!t)return wr;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var r=t.type;if(Tt(r))return A_(t,r,e)}return e}function C0(t,e,r,i,s,o,a,u,c){return t=Cf(r,i,!0,t,s,o,a,u,c),t.context=A0(null),r=t.current,i=ft(),s=dr(r),o=An(i,s),o.callback=e??null,cr(r,o,s),t.current.lanes=s,ea(t,s,i),It(t,i),t}function xu(t,e,r,i){var s=e.current,o=ft(),a=dr(s);return r=A0(r),e.context===null?e.context=r:e.pendingContext=r,e=An(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=cr(s,e,a),t!==null&&(Jt(t,s,a,o),hl(t,s,a)),a}function Jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Rf(t,e){Dg(t,e),(t=t.alternate)&&Dg(t,e)}function cS(){return null}var R0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}Du.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));xu(t,e,null,null)};Du.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){xu(null,t,null,null)}),e[Pn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=i_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Jn.length&&e!==0&&e<Jn[r].priority;r++);Jn.splice(r,0,t),r===0&&o_(t)}};function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Og(){}function hS(t,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var d=Jl(a);o.call(d)}}var a=C0(e,i,t,0,null,!1,!1,"",Og);return t._reactRootContainer=a,t[Pn]=a.current,Do(t.nodeType===8?t.parentNode:t),ni(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var u=i;i=function(){var d=Jl(c);u.call(d)}}var c=Cf(t,0,!1,null,null,!1,!1,"",Og);return t._reactRootContainer=c,t[Pn]=c.current,Do(t.nodeType===8?t.parentNode:t),ni(function(){xu(e,c,r,i)}),c}function bu(t,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var u=s;s=function(){var c=Jl(a);u.call(c)}}xu(e,a,t,s)}else a=hS(r,e,t,s,i);return Jl(a)}n_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ys(e.pendingLanes);r!==0&&(Kd(e,r|1),It(e,ke()),!(se&6)&&(rs=ke()+500,Rr()))}break;case 13:ni(function(){var i=kn(t,1);if(i!==null){var s=ft();Jt(i,t,1,s)}}),Rf(t,1)}};Gd=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var r=ft();Jt(e,t,134217728,r)}Rf(t,134217728)}};r_=function(t){if(t.tag===13){var e=dr(t),r=kn(t,e);if(r!==null){var i=ft();Jt(r,t,e,i)}Rf(t,e)}};i_=function(){return ce};s_=function(t,e){var r=ce;try{return ce=t,e()}finally{ce=r}};Eh=function(t,e,r){switch(e){case"input":if(fh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var s=Su(i);if(!s)throw Error(U(90));Lv(i),fh(i,s)}}}break;case"textarea":Fv(t,r);break;case"select":e=r.value,e!=null&&Bi(t,!!r.multiple,e,!1)}};Hv=Tf;qv=ni;var dS={usingClientEntryPoint:!1,Events:[na,Oi,Su,$v,Wv,Tf]},Gs={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qv(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||cS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{Eu=Ya.inject(fS),on=Ya}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS;xt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(e))throw Error(U(200));return uS(t,e,null,r)};xt.createRoot=function(t,e){if(!kf(t))throw Error(U(299));var r=!1,i="",s=R0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cf(t,1,!1,null,null,r,!1,i,s),t[Pn]=e.current,Do(t.nodeType===8?t.parentNode:t),new Pf(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Qv(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return ni(t)};xt.hydrate=function(t,e,r){if(!Ou(e))throw Error(U(200));return bu(null,t,e,!0,r)};xt.hydrateRoot=function(t,e,r){if(!kf(t))throw Error(U(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=R0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=C0(e,null,t,1,r??null,s,!1,o,a),t[Pn]=e.current,Do(t),i)for(t=0;t<i.length;t++)r=i[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Du(e)};xt.render=function(t,e,r){if(!Ou(e))throw Error(U(200));return bu(null,t,e,!1,r)};xt.unmountComponentAtNode=function(t){if(!Ou(t))throw Error(U(40));return t._reactRootContainer?(ni(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};xt.unstable_batchedUpdates=Tf;xt.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!Ou(r))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return bu(t,e,r,!1,i)};xt.version="18.3.1-next-f1338f8080-20240426";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(t){console.error(t)}}P0(),Pv.exports=xt;var k0=Pv.exports;const eo=bd(k0);var N0,bg=k0;N0=bg.createRoot,bg.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Bo.apply(this,arguments)}var ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ir||(ir={}));const Vg="popstate";function pS(t){t===void 0&&(t={});function e(i,s){let{pathname:o,search:a,hash:u}=i.location;return Zh("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:Xl(s)}return gS(e,r,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mS(){return Math.random().toString(36).substr(2,8)}function Lg(t,e){return{usr:t.state,key:t.key,idx:e}}function Zh(t,e,r,i){return r===void 0&&(r=null),Bo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gs(e):e,{state:r,key:e&&e.key||i||mS()})}function Xl(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function gs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function gS(t,e,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,u=ir.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(Bo({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){u=ir.Pop;let b=p(),I=b==null?null:b-d;d=b,c&&c({action:u,location:D.location,delta:I})}function g(b,I){u=ir.Push;let _=Zh(D.location,b,I);d=p()+1;let R=Lg(_,d),L=D.createHref(_);try{a.pushState(R,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(L)}o&&c&&c({action:u,location:D.location,delta:1})}function S(b,I){u=ir.Replace;let _=Zh(D.location,b,I);d=p();let R=Lg(_,d),L=D.createHref(_);a.replaceState(R,"",L),o&&c&&c({action:u,location:D.location,delta:0})}function P(b){let I=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:Xl(b);return _=_.replace(/ $/,"%20"),Ne(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let D={get action(){return u},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vg,m),c=b,()=>{s.removeEventListener(Vg,m),c=null}},createHref(b){return e(s,b)},createURL:P,encodeLocation(b){let I=P(b);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:g,replace:S,go(b){return a.go(b)}};return D}var Mg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Mg||(Mg={}));function yS(t,e,r){return r===void 0&&(r="/"),vS(t,e,r,!1)}function vS(t,e,r,i){let s=typeof e=="string"?gs(e):e,o=Nf(s.pathname||"/",r);if(o==null)return null;let a=D0(t);_S(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=NS(o);u=PS(a[c],d,i)}return u}function D0(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=pr([i,c.relativePath]),p=r.concat(c);o.children&&o.children.length>0&&(Ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),D0(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:CS(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of O0(o.path))s(o,a,c)}),e}function O0(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let a=O0(i.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function _S(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:RS(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const ES=/^:[\w-]+$/,wS=3,TS=2,IS=1,SS=10,AS=-2,Fg=t=>t==="*";function CS(t,e){let r=t.split("/"),i=r.length;return r.some(Fg)&&(i+=AS),e&&(i+=TS),r.filter(s=>!Fg(s)).reduce((s,o)=>s+(ES.test(o)?wS:o===""?IS:SS),i)}function RS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function PS(t,e,r){let{routesMeta:i}=t,s={},o="/",a=[];for(let u=0;u<i.length;++u){let c=i[u],d=u===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=Ug({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),g=c.route;if(!m&&d&&r&&!i[i.length-1].route.index&&(m=Ug({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:pr([o,m.pathname]),pathnameBase:bS(pr([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=pr([o,m.pathnameBase]))}return a}function Ug(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=kS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,p,m)=>{let{paramName:g,isOptional:S}=p;if(g==="*"){let D=u[m]||"";a=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const P=u[m];return S&&!P?d[g]=void 0:d[g]=(P||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function kS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),x0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function NS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return x0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function xS(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:s=""}=typeof t=="string"?gs(t):t;return{pathname:r?r.startsWith("/")?r:DS(r,e):e,search:VS(i),hash:LS(s)}}function DS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gc(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xf(t,e){let r=OS(t);return e?r.map((i,s)=>s===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Df(t,e,r,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=gs(t):(s=Bo({},t),Ne(!s.pathname||!s.pathname.includes("?"),Gc("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),Gc("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),Gc("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,u;if(a==null)u=r;else{let m=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=xS(s,u),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),bS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const b0=["post","put","patch","delete"];new Set(b0);const FS=["get",...b0];new Set(FS);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zo.apply(this,arguments)}const Of=O.createContext(null),US=O.createContext(null),Pr=O.createContext(null),Vu=O.createContext(null),Mn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),V0=O.createContext(null);function jS(t,e){let{relative:r}=e===void 0?{}:e;ys()||Ne(!1);let{basename:i,navigator:s}=O.useContext(Pr),{hash:o,pathname:a,search:u}=F0(t,{relative:r}),c=a;return i!=="/"&&(c=a==="/"?i:pr([i,a])),s.createHref({pathname:c,search:u,hash:o})}function ys(){return O.useContext(Vu)!=null}function vs(){return ys()||Ne(!1),O.useContext(Vu).location}function L0(t){O.useContext(Pr).static||O.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=O.useContext(Mn);return t?ZS():BS()}function BS(){ys()||Ne(!1);let t=O.useContext(Of),{basename:e,future:r,navigator:i}=O.useContext(Pr),{matches:s}=O.useContext(Mn),{pathname:o}=vs(),a=JSON.stringify(xf(s,r.v7_relativeSplatPath)),u=O.useRef(!1);return L0(()=>{u.current=!0}),O.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){i.go(d);return}let m=Df(d,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:pr([e,m.pathname])),(p.replace?i.replace:i.push)(m,p.state,p)},[e,i,a,o,t])}function M0(){let{matches:t}=O.useContext(Mn),e=t[t.length-1];return e?e.params:{}}function F0(t,e){let{relative:r}=e===void 0?{}:e,{future:i}=O.useContext(Pr),{matches:s}=O.useContext(Mn),{pathname:o}=vs(),a=JSON.stringify(xf(s,i.v7_relativeSplatPath));return O.useMemo(()=>Df(t,JSON.parse(a),o,r==="path"),[t,a,o,r])}function zS(t,e){return $S(t,e)}function $S(t,e,r,i){ys()||Ne(!1);let{navigator:s}=O.useContext(Pr),{matches:o}=O.useContext(Mn),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=vs(),p;if(e){var m;let b=typeof e=="string"?gs(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Ne(!1),p=b}else p=d;let g=p.pathname||"/",S=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=yS(t,{pathname:S}),D=GS(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:pr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:pr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,i);return e&&D?O.createElement(Vu.Provider,{value:{location:zo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ir.Pop}},D):D}function WS(){let t=YS(),e=MS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:s},r):null,null)}const HS=O.createElement(WS,null);class qS extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?O.createElement(Mn.Provider,{value:this.props.routeContext},O.createElement(V0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KS(t){let{routeContext:e,match:r,children:i}=t,s=O.useContext(Of);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Mn.Provider,{value:e},i)}function GS(t,e,r,i){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),i===void 0&&(i=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Ne(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:S}=r,P=m.route.loader&&g[m.route.id]===void 0&&(!S||S[m.route.id]===void 0);if(m.route.lazy||P){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,g)=>{let S,P=!1,D=null,b=null;r&&(S=u&&m.route.id?u[m.route.id]:void 0,D=m.route.errorElement||HS,c&&(d<0&&g===0?(P=!0,b=null):d===g&&(P=!0,b=m.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,g+1)),_=()=>{let R;return S?R=D:P?R=b:m.route.Component?R=O.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,O.createElement(KS,{match:m,routeContext:{outlet:p,matches:I,isDataRoute:r!=null},children:R})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?O.createElement(qS,{location:r.location,revalidation:r.revalidation,component:D,error:S,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var U0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U0||{}),Yl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yl||{});function QS(t){let e=O.useContext(Of);return e||Ne(!1),e}function JS(t){let e=O.useContext(US);return e||Ne(!1),e}function XS(t){let e=O.useContext(Mn);return e||Ne(!1),e}function j0(t){let e=XS(),r=e.matches[e.matches.length-1];return r.route.id||Ne(!1),r.route.id}function YS(){var t;let e=O.useContext(V0),r=JS(Yl.UseRouteError),i=j0(Yl.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[i]}function ZS(){let{router:t}=QS(U0.UseNavigateStable),e=j0(Yl.UseNavigateStable),r=O.useRef(!1);return L0(()=>{r.current=!0}),O.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,zo({fromRouteId:e},o)))},[t,e])}const jg={};function eA(t,e){jg[e]||(jg[e]=!0,console.warn(e))}const Bg=(t,e,r)=>eA(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function tA(t,e){t!=null&&t.v7_startTransition||Bg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Bg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function nA(t){let{to:e,replace:r,state:i,relative:s}=t;ys()||Ne(!1);let{future:o,static:a}=O.useContext(Pr),{matches:u}=O.useContext(Mn),{pathname:c}=vs(),d=kr(),p=Df(e,xf(u,o.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(p);return O.useEffect(()=>d(JSON.parse(m),{replace:r,state:i,relative:s}),[d,m,s,r,i]),null}function nn(t){Ne(!1)}function rA(t){let{basename:e="/",children:r=null,location:i,navigationType:s=ir.Pop,navigator:o,static:a=!1,future:u}=t;ys()&&Ne(!1);let c=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:o,static:a,future:zo({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof i=="string"&&(i=gs(i));let{pathname:p="/",search:m="",hash:g="",state:S=null,key:P="default"}=i,D=O.useMemo(()=>{let b=Nf(p,c);return b==null?null:{location:{pathname:b,search:m,hash:g,state:S,key:P},navigationType:s}},[c,p,m,g,S,P,s]);return D==null?null:O.createElement(Pr.Provider,{value:d},O.createElement(Vu.Provider,{children:r,value:D}))}function iA(t){let{children:e,location:r}=t;return zS(ed(e),r)}new Promise(()=>{});function ed(t,e){e===void 0&&(e=[]);let r=[];return O.Children.forEach(t,(i,s)=>{if(!O.isValidElement(i))return;let o=[...e,s];if(i.type===O.Fragment){r.push.apply(r,ed(i.props.children,o));return}i.type!==nn&&Ne(!1),!i.props.index||!i.props.children||Ne(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=ed(i.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},td.apply(this,arguments)}function sA(t,e){if(t==null)return{};var r={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function oA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aA(t,e){return t.button===0&&(!e||e==="_self")&&!oA(t)}const lA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uA="6";try{window.__reactRouterVersion=uA}catch{}const cA="startTransition",zg=rI[cA];function hA(t){let{basename:e,children:r,future:i,window:s}=t,o=O.useRef();o.current==null&&(o.current=pS({window:s,v5Compat:!0}));let a=o.current,[u,c]=O.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},p=O.useCallback(m=>{d&&zg?zg(()=>c(m)):c(m)},[c,d]);return O.useLayoutEffect(()=>a.listen(p),[a,p]),O.useEffect(()=>tA(i),[i]),O.createElement(rA,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:a,future:i})}const dA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Za=O.forwardRef(function(e,r){let{onClick:i,relative:s,reloadDocument:o,replace:a,state:u,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,g=sA(e,lA),{basename:S}=O.useContext(Pr),P,D=!1;if(typeof d=="string"&&fA.test(d)&&(P=d,dA))try{let R=new URL(window.location.href),L=d.startsWith("//")?new URL(R.protocol+d):new URL(d),B=Nf(L.pathname,S);L.origin===R.origin&&B!=null?d=B+L.search+L.hash:D=!0}catch{}let b=jS(d,{relative:s}),I=pA(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:s,viewTransition:m});function _(R){i&&i(R),R.defaultPrevented||I(R)}return O.createElement("a",td({},g,{href:P||b,onClick:D||o?i:_,ref:r,target:c}))});var $g;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($g||($g={}));var Wg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wg||(Wg={}));function pA(t,e){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,viewTransition:u}=e===void 0?{}:e,c=kr(),d=vs(),p=F0(t,{relative:a});return O.useCallback(m=>{if(aA(m,r)){m.preventDefault();let g=i!==void 0?i:Xl(d)===Xl(p);c(t,{replace:g,state:s,preventScrollReset:o,relative:a,viewTransition:u})}},[d,c,p,i,s,r,t,o,a,u])}var B0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hg=dt.createContext&&dt.createContext(B0),mA=["attr","size","title"];function gA(t,e){if(t==null)return{};var r=yA(t,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function yA(t,e){if(t==null)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zl.apply(this,arguments)}function qg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qg(Object(r),!0).forEach(function(i){vA(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function vA(t,e,r){return e=_A(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _A(t){var e=EA(t,"string");return typeof e=="symbol"?e:e+""}function EA(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0(t){return t&&t.map((e,r)=>dt.createElement(e.tag,eu({key:r},e.attr),z0(e.child)))}function Fn(t){return e=>dt.createElement(wA,Zl({attr:eu({},t.attr)},e),z0(t.child))}function wA(t){var e=r=>{var{attr:i,size:s,title:o}=t,a=gA(t,mA),u=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),dt.createElement("svg",Zl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,a,{className:c,style:eu(eu({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&dt.createElement("title",null,o),t.children)};return Hg!==void 0?dt.createElement(Hg.Consumer,null,r=>e(r)):e(B0)}function TA(t){return Fn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(t)}const IA=()=>{const[t,e]=O.useState(!1),r=vs(),i=()=>{e(!t)},s=()=>{if(r.pathname==="/"){const o=document.getElementById("contact");o&&o.scrollIntoView({behavior:"smooth"})}else window.location.href="/#contact";e(!1)};return E.jsx("nav",{className:"navbar",children:E.jsxs("div",{className:"navbar-container",children:[E.jsx("div",{className:"navbar-logo",children:E.jsx(Za,{to:"/",onClick:()=>e(!1),children:E.jsx("img",{src:"src/assets/luciana-farina.webp",alt:"logo"})})}),E.jsxs("div",{className:`navbar-links ${t?"active":""}`,children:[E.jsx(Za,{to:"/bio",onClick:()=>e(!1),children:"Bío"}),E.jsx(Za,{to:"/practice",onClick:()=>e(!1),children:"Áreas de Práctica"}),E.jsx(Za,{to:"/blog",onClick:()=>e(!1),children:"Blog"}),E.jsx("button",{onClick:s,className:"contact-link",children:"Contacto"})]}),E.jsx("button",{className:"navbar-toggle",onClick:i,children:E.jsx(TA,{})})]})})},SA=()=>E.jsxs("div",{className:"banner-home",children:[E.jsx("img",{src:"src\\assets\\banner-home.webp",className:"banner-image",alt:"banner"}),E.jsxs("div",{className:"banner-content",children:[E.jsx("p",{children:" Asesoramiento Jurídico de Empresas"}),E.jsx("p",{children:"Derecho Agrario, Agro Ambiental y Agro Alimentario "}),E.jsx("div",{className:"btn-more",children:E.jsx("a",{href:"/bio",children:"conocer más"})})]})]});var Kg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(t){const e=[];let r=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},AA=function(t){const e=[];let r=0,i=0;for(;r<t.length;){const s=t[r++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[r++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[r++],a=t[r++],u=t[r++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],a=t[r++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,u=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=o>>2,m=(o&3)<<4|u>>4;let g=(u&15)<<2|d>>6,S=d&63;c||(S=64,a||(g=64)),i.push(r[p],r[m],r[g],r[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const m=s<t.length?r[t.charAt(s)]:64;if(++s,o==null||u==null||d==null||m==null)throw new CA;const g=o<<2|u>>4;if(i.push(g),d!==64){const S=u<<4&240|d>>2;if(i.push(S),m!==64){const P=d<<6&192|m;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(t){const e=$0(t);return W0.encodeByteArray(e,!0)},tu=function(t){return RA(t).replace(/\./g,"")},H0=function(t){try{return W0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=()=>PA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof Kg>"u")return;const t=Kg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H0(t[1]);return e&&JSON.parse(e)},Lu=()=>{try{return kA()||NA()||xA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q0=t=>{var e,r;return(r=(e=Lu())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},DA=t=>{const e=q0(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},K0=()=>{var t;return(t=Lu())===null||t===void 0?void 0:t.config},G0=t=>{var e;return(e=Lu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tu(JSON.stringify(r)),tu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function LA(){var t;const e=(t=Lu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((t,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class Un extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=WA,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?HA(o,i):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Un(s,u,i)}}function HA(t,e){return t.replace(qA,(r,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const qA=/\{\$([^}]+)}/g;function KA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nu(t,e){if(t===e)return!0;const r=Object.keys(t),i=Object.keys(e);for(const s of r){if(!i.includes(s))return!1;const o=t[s],a=e[s];if(Gg(o)&&Gg(a)){if(!nu(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!r.includes(s))return!1;return!0}function Gg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){const e=[];for(const[r,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function to(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function no(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function GA(t,e){const r=new QA(t,e);return r.subscribe.bind(r)}class QA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,i){let s;if(e===void 0&&r===void 0&&i===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:i},s.next===void 0&&(s.next=Qc),s.error===void 0&&(s.error=Qc),s.complete===void 0&&(s.complete=Qc);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Qc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new OA;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(s)}return s}onInit(e,r){var i;const s=this.normalizeInstanceIdentifier(r),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const s of i)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(t){return t===zr?void 0:t}function ZA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new XA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const tC={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},nC=re.INFO,rC={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},iC=(t,e,...r)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=rC[e];if(s)console[s](`[${i}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=nC,this._logHandler=iC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const sC=(t,e)=>e.some(r=>t instanceof r);let Qg,Jg;function oC(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aC(){return Jg||(Jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,nd=new WeakMap,J0=new WeakMap,Jc=new WeakMap,Vf=new WeakMap;function lC(t){const e=new Promise((r,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(mr(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Q0.set(r,t)}).catch(()=>{}),Vf.set(e,t),e}function uC(t){if(nd.has(t))return;const e=new Promise((r,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});nd.set(t,e)}let rd={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return nd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J0.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cC(t){rd=t(rd)}function hC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=t.call(Xc(this),e,...r);return J0.set(i,e.sort?e.sort():[e]),mr(i)}:aC().includes(t)?function(...e){return t.apply(Xc(this),e),mr(Q0.get(this))}:function(...e){return mr(t.apply(Xc(this),e))}}function dC(t){return typeof t=="function"?hC(t):(t instanceof IDBTransaction&&uC(t),sC(t,oC())?new Proxy(t,rd):t)}function mr(t){if(t instanceof IDBRequest)return lC(t);if(Jc.has(t))return Jc.get(t);const e=dC(t);return e!==t&&(Jc.set(t,e),Vf.set(e,t)),e}const Xc=t=>Vf.get(t);function fC(t,e,{blocked:r,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),u=mr(a);return i&&a.addEventListener("upgradeneeded",c=>{i(mr(a.result),c.oldVersion,c.newVersion,mr(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const pC=["get","getKey","getAll","getAllKeys","count"],mC=["put","add","delete","clear"],Yc=new Map;function Xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yc.get(e))return Yc.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=mC.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(s||pC.includes(r)))return;const o=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[r](...u),s&&c.done]))[0]};return Yc.set(e,o),o}cC(t=>({...t,get:(e,r,i)=>Xg(e,r)||t.get(e,r,i),has:(e,r)=>!!Xg(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yC(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function yC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const id="@firebase/app",Yg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new bf("@firebase/app"),vC="@firebase/app-compat",_C="@firebase/analytics-compat",EC="@firebase/analytics",wC="@firebase/app-check-compat",TC="@firebase/app-check",IC="@firebase/auth",SC="@firebase/auth-compat",AC="@firebase/database",CC="@firebase/data-connect",RC="@firebase/database-compat",PC="@firebase/functions",kC="@firebase/functions-compat",NC="@firebase/installations",xC="@firebase/installations-compat",DC="@firebase/messaging",OC="@firebase/messaging-compat",bC="@firebase/performance",VC="@firebase/performance-compat",LC="@firebase/remote-config",MC="@firebase/remote-config-compat",FC="@firebase/storage",UC="@firebase/storage-compat",jC="@firebase/firestore",BC="@firebase/vertexai-preview",zC="@firebase/firestore-compat",$C="firebase",WC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",HC={[id]:"fire-core",[vC]:"fire-core-compat",[EC]:"fire-analytics",[_C]:"fire-analytics-compat",[TC]:"fire-app-check",[wC]:"fire-app-check-compat",[IC]:"fire-auth",[SC]:"fire-auth-compat",[AC]:"fire-rtdb",[CC]:"fire-data-connect",[RC]:"fire-rtdb-compat",[PC]:"fire-fn",[kC]:"fire-fn-compat",[NC]:"fire-iid",[xC]:"fire-iid-compat",[DC]:"fire-fcm",[OC]:"fire-fcm-compat",[bC]:"fire-perf",[VC]:"fire-perf-compat",[LC]:"fire-rc",[MC]:"fire-rc-compat",[FC]:"fire-gcs",[UC]:"fire-gcs-compat",[jC]:"fire-fst",[zC]:"fire-fst-compat",[BC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Map,qC=new Map,od=new Map;function Zg(t,e){try{t.container.addComponent(e)}catch(r){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function is(t){const e=t.name;if(od.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;od.set(e,t);for(const r of ru.values())Zg(r,t);for(const r of qC.values())Zg(r,t);return!0}function Lf(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new ia("app","Firebase",KC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=WC;function X0(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sd,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw gr.create("bad-app-name",{appName:String(s)});if(r||(r=K0()),!r)throw gr.create("no-options");const o=ru.get(s);if(o){if(nu(r,o.options)&&nu(i,o.config))return o;throw gr.create("duplicate-app",{appName:s})}const a=new eC(s);for(const c of od.values())a.addComponent(c);const u=new GC(r,i,a);return ru.set(s,u),u}function Y0(t=sd){const e=ru.get(t);if(!e&&t===sd&&K0())return X0();if(!e)throw gr.create("no-app",{appName:t});return e}function yr(t,e,r){var i;let s=(i=HC[t])!==null&&i!==void 0?i:t;r&&(s+=`-${r}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(u.join(" "));return}is(new ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-heartbeat-database",JC=1,$o="firebase-heartbeat-store";let Zc=null;function Z0(){return Zc||(Zc=fC(QC,JC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($o)}catch(r){console.warn(r)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Zc}async function XC(t){try{const r=(await Z0()).transaction($o),i=await r.objectStore($o).get(eE(t));return await r.done,i}catch(e){if(e instanceof Un)xn.warn(e.message);else{const r=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(r.message)}}}async function ey(t,e){try{const i=(await Z0()).transaction($o,"readwrite");await i.objectStore($o).put(e,eE(t)),await i.done}catch(r){if(r instanceof Un)xn.warn(r.message);else{const i=gr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xn.warn(i.message)}}}function eE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1024,ZC=30*24*60*60*1e3;class eR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new nR(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ty();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=ZC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){xn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ty(),{heartbeatsToSend:i,unsentEntries:s}=tR(this._heartbeatsCache.heartbeats),o=tu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return xn.warn(r),""}}}function ty(){return new Date().toISOString().substring(0,10)}function tR(t,e=YC){const r=[];let i=t.slice();for(const s of t){const o=r.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),ny(r)>e){o.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),ny(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class nR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await XC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return ey(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return ey(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ny(t){return tu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){is(new ri("platform-logger",e=>new gC(e),"PRIVATE")),is(new ri("heartbeat",e=>new eR(e),"PRIVATE")),yr(id,Yg,t),yr(id,Yg,"esm2017"),yr("fire-js","")}rR("");var iR="firebase",sR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(iR,sR,"app");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,tE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function T(){}T.prototype=v.prototype,w.D=v.prototype,w.prototype=new T,w.prototype.constructor=w,w.C=function(A,k,N){for(var C=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)C[gt-2]=arguments[gt];return v.prototype[k].apply(A,C)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,v,T){T||(T=0);var A=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)A[k]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(k=0;16>k;++k)A[k]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=w.g[0],T=w.g[1],k=w.g[2];var N=w.g[3],C=v+(N^T&(k^N))+A[0]+3614090360&4294967295;v=T+(C<<7&4294967295|C>>>25),C=N+(k^v&(T^k))+A[1]+3905402710&4294967295,N=v+(C<<12&4294967295|C>>>20),C=k+(T^N&(v^T))+A[2]+606105819&4294967295,k=N+(C<<17&4294967295|C>>>15),C=T+(v^k&(N^v))+A[3]+3250441966&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(N^T&(k^N))+A[4]+4118548399&4294967295,v=T+(C<<7&4294967295|C>>>25),C=N+(k^v&(T^k))+A[5]+1200080426&4294967295,N=v+(C<<12&4294967295|C>>>20),C=k+(T^N&(v^T))+A[6]+2821735955&4294967295,k=N+(C<<17&4294967295|C>>>15),C=T+(v^k&(N^v))+A[7]+4249261313&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(N^T&(k^N))+A[8]+1770035416&4294967295,v=T+(C<<7&4294967295|C>>>25),C=N+(k^v&(T^k))+A[9]+2336552879&4294967295,N=v+(C<<12&4294967295|C>>>20),C=k+(T^N&(v^T))+A[10]+4294925233&4294967295,k=N+(C<<17&4294967295|C>>>15),C=T+(v^k&(N^v))+A[11]+2304563134&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(N^T&(k^N))+A[12]+1804603682&4294967295,v=T+(C<<7&4294967295|C>>>25),C=N+(k^v&(T^k))+A[13]+4254626195&4294967295,N=v+(C<<12&4294967295|C>>>20),C=k+(T^N&(v^T))+A[14]+2792965006&4294967295,k=N+(C<<17&4294967295|C>>>15),C=T+(v^k&(N^v))+A[15]+1236535329&4294967295,T=k+(C<<22&4294967295|C>>>10),C=v+(k^N&(T^k))+A[1]+4129170786&4294967295,v=T+(C<<5&4294967295|C>>>27),C=N+(T^k&(v^T))+A[6]+3225465664&4294967295,N=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(N^v))+A[11]+643717713&4294967295,k=N+(C<<14&4294967295|C>>>18),C=T+(N^v&(k^N))+A[0]+3921069994&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(k^N&(T^k))+A[5]+3593408605&4294967295,v=T+(C<<5&4294967295|C>>>27),C=N+(T^k&(v^T))+A[10]+38016083&4294967295,N=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(N^v))+A[15]+3634488961&4294967295,k=N+(C<<14&4294967295|C>>>18),C=T+(N^v&(k^N))+A[4]+3889429448&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(k^N&(T^k))+A[9]+568446438&4294967295,v=T+(C<<5&4294967295|C>>>27),C=N+(T^k&(v^T))+A[14]+3275163606&4294967295,N=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(N^v))+A[3]+4107603335&4294967295,k=N+(C<<14&4294967295|C>>>18),C=T+(N^v&(k^N))+A[8]+1163531501&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(k^N&(T^k))+A[13]+2850285829&4294967295,v=T+(C<<5&4294967295|C>>>27),C=N+(T^k&(v^T))+A[2]+4243563512&4294967295,N=v+(C<<9&4294967295|C>>>23),C=k+(v^T&(N^v))+A[7]+1735328473&4294967295,k=N+(C<<14&4294967295|C>>>18),C=T+(N^v&(k^N))+A[12]+2368359562&4294967295,T=k+(C<<20&4294967295|C>>>12),C=v+(T^k^N)+A[5]+4294588738&4294967295,v=T+(C<<4&4294967295|C>>>28),C=N+(v^T^k)+A[8]+2272392833&4294967295,N=v+(C<<11&4294967295|C>>>21),C=k+(N^v^T)+A[11]+1839030562&4294967295,k=N+(C<<16&4294967295|C>>>16),C=T+(k^N^v)+A[14]+4259657740&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(T^k^N)+A[1]+2763975236&4294967295,v=T+(C<<4&4294967295|C>>>28),C=N+(v^T^k)+A[4]+1272893353&4294967295,N=v+(C<<11&4294967295|C>>>21),C=k+(N^v^T)+A[7]+4139469664&4294967295,k=N+(C<<16&4294967295|C>>>16),C=T+(k^N^v)+A[10]+3200236656&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(T^k^N)+A[13]+681279174&4294967295,v=T+(C<<4&4294967295|C>>>28),C=N+(v^T^k)+A[0]+3936430074&4294967295,N=v+(C<<11&4294967295|C>>>21),C=k+(N^v^T)+A[3]+3572445317&4294967295,k=N+(C<<16&4294967295|C>>>16),C=T+(k^N^v)+A[6]+76029189&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(T^k^N)+A[9]+3654602809&4294967295,v=T+(C<<4&4294967295|C>>>28),C=N+(v^T^k)+A[12]+3873151461&4294967295,N=v+(C<<11&4294967295|C>>>21),C=k+(N^v^T)+A[15]+530742520&4294967295,k=N+(C<<16&4294967295|C>>>16),C=T+(k^N^v)+A[2]+3299628645&4294967295,T=k+(C<<23&4294967295|C>>>9),C=v+(k^(T|~N))+A[0]+4096336452&4294967295,v=T+(C<<6&4294967295|C>>>26),C=N+(T^(v|~k))+A[7]+1126891415&4294967295,N=v+(C<<10&4294967295|C>>>22),C=k+(v^(N|~T))+A[14]+2878612391&4294967295,k=N+(C<<15&4294967295|C>>>17),C=T+(N^(k|~v))+A[5]+4237533241&4294967295,T=k+(C<<21&4294967295|C>>>11),C=v+(k^(T|~N))+A[12]+1700485571&4294967295,v=T+(C<<6&4294967295|C>>>26),C=N+(T^(v|~k))+A[3]+2399980690&4294967295,N=v+(C<<10&4294967295|C>>>22),C=k+(v^(N|~T))+A[10]+4293915773&4294967295,k=N+(C<<15&4294967295|C>>>17),C=T+(N^(k|~v))+A[1]+2240044497&4294967295,T=k+(C<<21&4294967295|C>>>11),C=v+(k^(T|~N))+A[8]+1873313359&4294967295,v=T+(C<<6&4294967295|C>>>26),C=N+(T^(v|~k))+A[15]+4264355552&4294967295,N=v+(C<<10&4294967295|C>>>22),C=k+(v^(N|~T))+A[6]+2734768916&4294967295,k=N+(C<<15&4294967295|C>>>17),C=T+(N^(k|~v))+A[13]+1309151649&4294967295,T=k+(C<<21&4294967295|C>>>11),C=v+(k^(T|~N))+A[4]+4149444226&4294967295,v=T+(C<<6&4294967295|C>>>26),C=N+(T^(v|~k))+A[11]+3174756917&4294967295,N=v+(C<<10&4294967295|C>>>22),C=k+(v^(N|~T))+A[2]+718787259&4294967295,k=N+(C<<15&4294967295|C>>>17),C=T+(N^(k|~v))+A[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+k&4294967295,w.g[3]=w.g[3]+N&4294967295}i.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var T=v-this.blockSize,A=this.B,k=this.h,N=0;N<v;){if(k==0)for(;N<=T;)s(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<v;)if(A[k++]=w.charCodeAt(N++),k==this.blockSize){s(this,A),k=0;break}}else for(;N<v;)if(A[k++]=w[N++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=v},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var T=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=T&255,T/=256;for(this.u(w),w=Array(16),v=T=0;4>v;++v)for(var A=0;32>A;A+=8)w[T++]=this.g[v]>>>A&255;return w};function o(w,v){var T=u;return Object.prototype.hasOwnProperty.call(T,w)?T[w]:T[w]=v(w)}function a(w,v){this.h=v;for(var T=[],A=!0,k=w.length-1;0<=k;k--){var N=w[k]|0;A&&N==v||(T[k]=N,A=!1)}this.g=T}var u={};function c(w){return-128<=w&&128>w?o(w,function(v){return new a([v|0],0>v?-1:0)}):new a([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return b(d(-w));for(var v=[],T=1,A=0;w>=T;A++)v[A]=w/T|0,T*=4294967296;return new a(v,0)}function p(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return b(p(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(v,8)),A=m,k=0;k<w.length;k+=8){var N=Math.min(8,w.length-k),C=parseInt(w.substring(k,k+N),v);8>N?(N=d(Math.pow(v,N)),A=A.j(N).add(d(C))):(A=A.j(T),A=A.add(d(C)))}return A}var m=c(0),g=c(1),S=c(16777216);t=a.prototype,t.m=function(){if(D(this))return-b(this).m();for(var w=0,v=1,T=0;T<this.g.length;T++){var A=this.i(T);w+=(0<=A?A:4294967296+A)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P(this))return"0";if(D(this))return"-"+b(this).toString(w);for(var v=d(Math.pow(w,6)),T=this,A="";;){var k=L(T,v).g;T=I(T,k.j(v));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(w);if(T=k,P(T))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function P(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function D(w){return w.h==-1}t.l=function(w){return w=I(this,w),D(w)?-1:P(w)?0:1};function b(w){for(var v=w.g.length,T=[],A=0;A<v;A++)T[A]=~w.g[A];return new a(T,~w.h).add(g)}t.abs=function(){return D(this)?b(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0,k=0;k<=v;k++){var N=A+(this.i(k)&65535)+(w.i(k)&65535),C=(N>>>16)+(this.i(k)>>>16)+(w.i(k)>>>16);A=C>>>16,N&=65535,C&=65535,T[k]=C<<16|N}return new a(T,T[T.length-1]&-2147483648?-1:0)};function I(w,v){return w.add(b(v))}t.j=function(w){if(P(this)||P(w))return m;if(D(this))return D(w)?b(this).j(b(w)):b(b(this).j(w));if(D(w))return b(this.j(b(w)));if(0>this.l(S)&&0>w.l(S))return d(this.m()*w.m());for(var v=this.g.length+w.g.length,T=[],A=0;A<2*v;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<w.g.length;k++){var N=this.i(A)>>>16,C=this.i(A)&65535,gt=w.i(k)>>>16,Bt=w.i(k)&65535;T[2*A+2*k]+=C*Bt,_(T,2*A+2*k),T[2*A+2*k+1]+=N*Bt,_(T,2*A+2*k+1),T[2*A+2*k+1]+=C*gt,_(T,2*A+2*k+1),T[2*A+2*k+2]+=N*gt,_(T,2*A+2*k+2)}for(A=0;A<v;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=v;A<2*v;A++)T[A]=0;return new a(T,0)};function _(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function R(w,v){this.g=w,this.h=v}function L(w,v){if(P(v))throw Error("division by zero");if(P(w))return new R(m,m);if(D(w))return v=L(b(w),v),new R(b(v.g),b(v.h));if(D(v))return v=L(w,b(v)),new R(b(v.g),v.h);if(30<w.g.length){if(D(w)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var T=g,A=v;0>=A.l(w);)T=B(T),A=B(A);var k=j(T,1),N=j(A,1);for(A=j(A,2),T=j(T,2);!P(A);){var C=N.add(A);0>=C.l(w)&&(k=k.add(T),N=C),A=j(A,1),T=j(T,1)}return v=I(w,k.j(v)),new R(k,v)}for(k=m;0<=w.l(v);){for(T=Math.max(1,Math.floor(w.m()/v.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=d(T),C=N.j(v);D(C)||0<C.l(w);)T-=A,N=d(T),C=N.j(v);P(N)&&(N=g),k=k.add(N),w=I(w,C)}return new R(k,w)}t.A=function(w){return L(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0;A<v;A++)T[A]=this.i(A)&w.i(A);return new a(T,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0;A<v;A++)T[A]=this.i(A)|w.i(A);return new a(T,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0;A<v;A++)T[A]=this.i(A)^w.i(A);return new a(T,this.h^w.h)};function B(w){for(var v=w.g.length+1,T=[],A=0;A<v;A++)T[A]=w.i(A)<<1|w.i(A-1)>>>31;return new a(T,w.h)}function j(w,v){var T=v>>5;v%=32;for(var A=w.g.length-T,k=[],N=0;N<A;N++)k[N]=0<v?w.i(N+T)>>>v|w.i(N+T+1)<<32-v:w.i(N+T);return new a(k,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tE=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,Xr=a}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var el=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,ro,rE,vl,ad,iE,sE,oE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof el=="object"&&el];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=r(this);function s(l,h){if(h)e:{var f=i;l=l.split(".");for(var y=0;y<l.length-1;y++){var x=l[y];if(!(x in f))break e;f=f[x]}l=l[l.length-1],y=f[l],h=h(y),h!=y&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,y=!1,x={next:function(){if(!y&&f<l.length){var V=f++;return{value:h(V,l[V]),done:!1}}return y=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function p(l,h,f){return l.call.apply(l.bind,arguments)}function m(l,h,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,y),l.apply(h,x)}}return function(){return l.apply(h,arguments)}}function g(l,h,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function S(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function P(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,x,V){for(var z=Array(arguments.length-2),de=2;de<arguments.length;de++)z[de-2]=arguments[de];return h.prototype[x].apply(y,z)}}function D(l){const h=l.length;if(0<h){const f=Array(h);for(let y=0;y<h;y++)f[y]=l[y];return f}return[]}function b(l,h){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(c(y)){const x=l.length||0,V=y.length||0;l.length=x+V;for(let z=0;z<V;z++)l[x+z]=y[z]}else l.push(y)}}class I{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function R(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function L(l){return L[" "](l),l}L[" "]=function(){};var B=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function j(l,h,f){for(const y in l)h.call(f,l[y],y,l)}function w(l,h){for(const f in l)h.call(void 0,l[f],f,l)}function v(l){const h={};for(const f in l)h[f]=l[f];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let f,y;for(let x=1;x<arguments.length;x++){y=arguments[x];for(f in y)l[f]=y[f];for(let V=0;V<T.length;V++)f=T[V],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function k(l){var h=1;l=l.split(":");const f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function N(l){u.setTimeout(()=>{throw l},0)}function C(){var l=G;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class gt{constructor(){this.h=this.g=null}add(h,f){const y=Bt.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Bt=new I(()=>new Or,l=>l.reset());class Or{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let be,$=!1,G=new gt,Y=()=>{const l=u.Promise.resolve(void 0);be=()=>{l.then(fe)}};var fe=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(f){N(f)}var h=Bt;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}$=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};u.addEventListener("test",f,h),u.removeEventListener("test",f,h)}catch{}return l}();function Ot(l,h){if(pe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(B){e:{try{L(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:me[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ot.aa.h.call(this)}}P(Ot,pe);var me={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),fn=0;function ga(l,h,f,y,x){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=x,this.key=++fn,this.da=this.fa=!1}function br(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ut(l){this.src=l,this.g={},this.h=0}ut.prototype.add=function(l,h,f,y,x){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var z=Vr(l,h,y,x);return-1<z?(h=l[z],f||(h.fa=!1)):(h=new ga(h,this.src,V,!!y,x),h.fa=f,l.push(h)),h};function yt(l,h){var f=h.type;if(f in l.g){var y=l.g[f],x=Array.prototype.indexOf.call(y,h,void 0),V;(V=0<=x)&&Array.prototype.splice.call(y,x,1),V&&(br(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Vr(l,h,f,y){for(var x=0;x<l.length;++x){var V=l[x];if(!V.da&&V.listener==h&&V.capture==!!f&&V.ha==y)return x}return-1}var pi="closure_lm_"+(1e6*Math.random()|0),$t={};function ya(l,h,f,y,x){if(Array.isArray(h)){for(var V=0;V<h.length;V++)ya(l,h[V],f,y,x);return null}return f=Rs(f),l&&l[zt]?l.K(h,f,d(y)?!!y.capture:!!y,x):rc(l,h,f,!1,y,x)}function rc(l,h,f,y,x,V){if(!h)throw Error("Invalid event type");var z=d(x)?!!x.capture:!!x,de=mi(l);if(de||(l[pi]=de=new ut(l)),f=de.add(h,f,y,z,V),f.proxy)return f;if(y=ic(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)Ye||(x=z),x===void 0&&(x=!1),l.addEventListener(h.toString(),y,x);else if(l.attachEvent)l.attachEvent(_a(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ic(){function l(f){return h.call(l.src,l.listener,f)}const h=sc;return l}function va(l,h,f,y,x){if(Array.isArray(h))for(var V=0;V<h.length;V++)va(l,h[V],f,y,x);else y=d(y)?!!y.capture:!!y,f=Rs(f),l&&l[zt]?(l=l.i,h=String(h).toString(),h in l.g&&(V=l.g[h],f=Vr(V,f,y,x),-1<f&&(br(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete l.g[h],l.h--)))):l&&(l=mi(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Vr(h,f,y,x)),(f=-1<l?h[l]:null)&&Cs(f))}function Cs(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[zt])yt(h.i,l);else{var f=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(f,y,l.capture):h.detachEvent?h.detachEvent(_a(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=mi(h))?(yt(f,l),f.h==0&&(f.src=null,h[pi]=null)):br(l)}}}function _a(l){return l in $t?$t[l]:$t[l]="on"+l}function sc(l,h){if(l.da)l=!0;else{h=new Ot(h,this);var f=l.listener,y=l.ha||l.src;l.fa&&Cs(l),l=f.call(y,h)}return l}function mi(l){return l=l[pi],l instanceof ut?l:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rs(l){return typeof l=="function"?l:(l[zn]||(l[zn]=function(h){return l.handleEvent(h)}),l[zn])}function Fe(){le.call(this),this.i=new ut(this),this.M=this,this.F=null}P(Fe,le),Fe.prototype[zt]=!0,Fe.prototype.removeEventListener=function(l,h,f,y){va(this,l,h,f,y)};function $e(l,h){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new pe(h,l);else if(h instanceof pe)h.target=h.target||l;else{var x=h;h=new pe(y,l),A(h,x)}if(x=!0,f)for(var V=f.length-1;0<=V;V--){var z=h.g=f[V];x=gi(z,y,!0,h)&&x}if(z=h.g=l,x=gi(z,y,!0,h)&&x,x=gi(z,y,!1,h)&&x,f)for(V=0;V<f.length;V++)z=h.g=f[V],x=gi(z,y,!1,h)&&x}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],y=0;y<f.length;y++)br(f[y]);delete l.g[h],l.h--}}this.F=null},Fe.prototype.K=function(l,h,f,y){return this.i.add(String(l),h,!1,f,y)},Fe.prototype.L=function(l,h,f,y){return this.i.add(String(l),h,!0,f,y)};function gi(l,h,f,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,V=0;V<h.length;++V){var z=h[V];if(z&&!z.da&&z.capture==f){var de=z.listener,We=z.ha||z.src;z.fa&&yt(l.i,z),x=de.call(We,y)!==!1&&x}}return x&&!y.defaultPrevented}function Ps(l,h,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:u.setTimeout(l,h||0)}function yi(l){l.g=Ps(()=>{l.g=null,l.i&&(l.i=!1,yi(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Ea extends le{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q(l){le.call(this),this.h=l,this.g={}}P(Q,le);var ue=[];function bt(l){j(l.g,function(h,f){this.g.hasOwnProperty(f)&&Cs(h)},l),l.g={}}Q.prototype.N=function(){Q.aa.N.call(this),bt(this)},Q.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=u.JSON.stringify,oc=u.JSON.parse,yT=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function ac(){}ac.prototype.h=null;function Vp(l){return l.h||(l.h=l.i())}function Lp(){}var ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lc(){pe.call(this,"d")}P(lc,pe);function uc(){pe.call(this,"c")}P(uc,pe);var Lr={},Mp=null;function wa(){return Mp=Mp||new Fe}Lr.La="serverreachability";function Fp(l){pe.call(this,Lr.La,l)}P(Fp,pe);function Ns(l){const h=wa();$e(h,new Fp(h))}Lr.STAT_EVENT="statevent";function Up(l,h){pe.call(this,Lr.STAT_EVENT,l),this.stat=h}P(Up,pe);function ct(l){const h=wa();$e(h,new Up(h,l))}Lr.Ma="timingevent";function jp(l,h){pe.call(this,Lr.Ma,l),this.size=h}P(jp,pe);function xs(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},h)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function vT(l,h,f,y,x,V){l.info(function(){if(l.g)if(V)for(var z="",de=V.split("&"),We=0;We<de.length;We++){var oe=de[We].split("=");if(1<oe.length){var Ze=oe[0];oe=oe[1];var et=Ze.split("_");z=2<=et.length&&et[1]=="type"?z+(Ze+"="+oe+"&"):z+(Ze+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+y+") [attempt "+x+"]: "+h+`
`+f+`
`+z})}function _T(l,h,f,y,x,V,z){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+x+"]: "+h+`
`+f+`
`+V+" "+z})}function vi(l,h,f,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+wT(l,f)+(y?" "+y:"")})}function ET(l,h){l.info(function(){return"TIMEOUT: "+h})}Ds.prototype.info=function(){};function wT(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var x=y[1];if(Array.isArray(x)&&!(1>x.length)){var V=x[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<x.length;z++)x[z]=""}}}}return pn(f)}catch{return h}}var Ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cc;function Ia(){}P(Ia,ac),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},cc=new Ia;function $n(l,h,f,y){this.j=l,this.i=h,this.l=f,this.R=y||1,this.U=new Q(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zp}function zp(){this.i=null,this.g="",this.h=!1}var $p={},hc={};function dc(l,h,f){l.L=1,l.v=Ra(mn(h)),l.m=f,l.P=!0,Wp(l,null)}function Wp(l,h){l.F=Date.now(),Sa(l),l.A=mn(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),im(f.i,"t",y),l.C=0,f=l.j.J,l.h=new zp,l.g=Tm(l.j,f?h:null,!l.m),0<l.O&&(l.M=new Ea(g(l.Y,l,l.g),l.O)),h=l.U,f=l.g,y=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(ue[0]=x.toString()),x=ue);for(var V=0;V<x.length;V++){var z=ya(f,x[V],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ns(),vT(l.i,l.u,l.A,l.l,l.R,l.m)}$n.prototype.ca=function(l){l=l.target;const h=this.M;h&&gn(l)==3?h.j():this.Y(l)},$n.prototype.Y=function(l){try{if(l==this.g)e:{const et=gn(this.g);var h=this.g.Ba();const wi=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||hm(this.g)))){this.J||et!=4||h==7||(h==8||0>=wi?Ns(3):Ns(2)),fc(this);var f=this.g.Z();this.X=f;t:if(Hp(this)){var y=hm(this.g);l="";var x=y.length,V=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Os(this);var z="";break t}this.h.i=new u.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(V&&h==x-1)});y.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,_T(this.i,this.u,this.A,this.l,this.R,et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var de,We=this.g;if((de=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(de)){var oe=de;break t}}oe=null}if(f=oe)vi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pc(this,f);else{this.o=!1,this.s=3,ct(12),Mr(this),Os(this);break e}}if(this.P){f=!0;let Wt;for(;!this.J&&this.C<z.length;)if(Wt=TT(this,z),Wt==hc){et==4&&(this.s=4,ct(14),f=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==$p){this.s=4,ct(15),vi(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else vi(this.i,this.l,Wt,null),pc(this,Wt);if(Hp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||z.length!=0||this.h.h||(this.s=1,ct(16),f=!1),this.o=this.o&&f,!f)vi(this.i,this.l,z,"[Invalid Chunked Response]"),Mr(this),Os(this);else if(0<z.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ec(Ze),Ze.M=!0,ct(11))}}else vi(this.i,this.l,z,null),pc(this,z);et==4&&Mr(this),this.o&&!this.J&&(et==4?vm(this.j,this):(this.o=!1,Sa(this)))}else UT(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Mr(this),Os(this)}}}catch{}finally{}};function Hp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function TT(l,h){var f=l.C,y=h.indexOf(`
`,f);return y==-1?hc:(f=Number(h.substring(f,y)),isNaN(f)?$p:(y+=1,y+f>h.length?hc:(h=h.slice(y,y+f),l.C=y+f,h)))}$n.prototype.cancel=function(){this.J=!0,Mr(this)};function Sa(l){l.S=Date.now()+l.I,qp(l,l.I)}function qp(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xs(g(l.ba,l),h)}function fc(l){l.B&&(u.clearTimeout(l.B),l.B=null)}$n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ET(this.i,this.A),this.L!=2&&(Ns(),ct(17)),Mr(this),this.s=2,Os(this)):qp(this,this.S-l)};function Os(l){l.j.G==0||l.J||vm(l.j,l)}function Mr(l){fc(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,bt(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function pc(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||mc(f.h,l))){if(!l.K&&mc(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var x=y;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Oa(f),xa(f);else break e;_c(f),ct(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(g(f.Za,f),6e3));if(1>=Qp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ur(f,11)}else if((l.K||f.g==l)&&Oa(f),!_(h))for(x=f.Da.g.parse(h),h=0;h<x.length;h++){let oe=x[h];if(f.T=oe[0],oe=oe[1],f.G==2)if(oe[0]=="c"){f.K=oe[1],f.ia=oe[2];const Ze=oe[3];Ze!=null&&(f.la=Ze,f.j.info("VER="+f.la));const et=oe[4];et!=null&&(f.Aa=et,f.j.info("SVER="+f.Aa));const wi=oe[5];wi!=null&&typeof wi=="number"&&0<wi&&(y=1.5*wi,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Wt=l.g;if(Wt){const Va=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var V=y.h;V.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(gc(V,V.h),V.h=null))}if(y.D){const wc=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;wc&&(y.ya=wc,ye(y.I,y.D,wc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var z=l;if(y.qa=wm(y,y.J?y.ia:null,y.W),z.K){Jp(y.h,z);var de=z,We=y.L;We&&(de.I=We),de.B&&(fc(de),Sa(de)),y.g=z}else gm(y);0<f.i.length&&Da(f)}else oe[0]!="stop"&&oe[0]!="close"||Ur(f,7);else f.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Ur(f,7):vc(f):oe[0]!="noop"&&f.l&&f.l.ta(oe),f.v=0)}}Ns(4)}catch{}}var IT=class{constructor(l,h){this.g=l,this.map=h}};function Kp(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Qp(l){return l.h?1:l.g?l.g.size:0}function mc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function gc(l,h){l.g?l.g.add(h):l.h=h}function Jp(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Kp.prototype.cancel=function(){if(this.i=Xp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Xp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const f of l.g.values())h=h.concat(f.D);return h}return D(l.i)}function ST(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,y=0;y<f;y++)h.push(l[y]);return h}h=[],f=0;for(y in l)h[f++]=l[y];return h}function AT(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(const y in l)h[f++]=y;return h}}}function Yp(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=AT(l),y=ST(l),x=y.length,V=0;V<x;V++)h.call(void 0,y[V],f&&f[V],l)}var Zp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CT(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),x=null;if(0<=y){var V=l[f].substring(0,y);x=l[f].substring(y+1)}else V=l[f];h(V,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Fr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Fr){this.h=l.h,Aa(this,l.j),this.o=l.o,this.g=l.g,Ca(this,l.s),this.l=l.l;var h=l.i,f=new Ls;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),em(this,f),this.m=l.m}else l&&(h=String(l).match(Zp))?(this.h=!1,Aa(this,h[1]||"",!0),this.o=bs(h[2]||""),this.g=bs(h[3]||"",!0),Ca(this,h[4]),this.l=bs(h[5]||"",!0),em(this,h[6]||"",!0),this.m=bs(h[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}Fr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Vs(h,tm,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Vs(h,tm,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Vs(f,f.charAt(0)=="/"?kT:PT,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Vs(f,xT)),l.join("")};function mn(l){return new Fr(l)}function Aa(l,h,f){l.j=f?bs(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ca(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function em(l,h,f){h instanceof Ls?(l.i=h,DT(l.i,l.h)):(f||(h=Vs(h,NT)),l.i=new Ls(h,l.h))}function ye(l,h,f){l.i.set(h,f)}function Ra(l){return ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function bs(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vs(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,RT),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function RT(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var tm=/[#\/\?@]/g,PT=/[#\?:]/g,kT=/[#\?]/g,NT=/[#\?@]/g,xT=/#/g;function Ls(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Wn(l){l.g||(l.g=new Map,l.h=0,l.i&&CT(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Ls.prototype,t.add=function(l,h){Wn(this),this.i=null,l=_i(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function nm(l,h){Wn(l),h=_i(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function rm(l,h){return Wn(l),h=_i(l,h),l.g.has(h)}t.forEach=function(l,h){Wn(this),this.g.forEach(function(f,y){f.forEach(function(x){l.call(h,x,y,this)},this)},this)},t.na=function(){Wn(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){const x=l[y];for(let V=0;V<x.length;V++)f.push(h[y])}return f},t.V=function(l){Wn(this);let h=[];if(typeof l=="string")rm(this,l)&&(h=h.concat(this.g.get(_i(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},t.set=function(l,h){return Wn(this),this.i=null,l=_i(this,l),rm(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function im(l,h,f){nm(l,h),0<f.length&&(l.i=null,l.g.set(_i(l,h),D(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];const V=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var x=V;z[y]!==""&&(x+="="+encodeURIComponent(String(z[y]))),l.push(x)}}return this.i=l.join("&")};function _i(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function DT(l,h){h&&!l.j&&(Wn(l),l.i=null,l.g.forEach(function(f,y){var x=y.toLowerCase();y!=x&&(nm(this,y),im(this,x,f))},l)),l.j=h}function OT(l,h){const f=new Ds;if(u.Image){const y=new Image;y.onload=S(Hn,f,"TestLoadImage: loaded",!0,h,y),y.onerror=S(Hn,f,"TestLoadImage: error",!1,h,y),y.onabort=S(Hn,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=S(Hn,f,"TestLoadImage: timeout",!1,h,y),u.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function bT(l,h){const f=new Ds,y=new AbortController,x=setTimeout(()=>{y.abort(),Hn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(V=>{clearTimeout(x),V.ok?Hn(f,"TestPingServer: ok",!0,h):Hn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Hn(f,"TestPingServer: error",!1,h)})}function Hn(l,h,f,y,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),y(f)}catch{}}function VT(){this.g=new yT}function LT(l,h,f){const y=f||"";try{Yp(l,function(x,V){let z=x;d(x)&&(z=pn(x)),h.push(y+V+"="+encodeURIComponent(z))})}catch(x){throw h.push(y+"type="+encodeURIComponent("_badmap")),x}}function Pa(l){this.l=l.Ub||null,this.j=l.eb||!1}P(Pa,ac),Pa.prototype.g=function(){return new ka(this.l,this.j)},Pa.prototype.i=function(l){return function(){return l}}({});function ka(l,h){Fe.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ka,Fe),t=ka.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Fs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||u).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function sm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ms(this):Fs(this),this.readyState==3&&sm(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ms(this))},t.Qa=function(l){this.g&&(this.response=l,Ms(this))},t.ga=function(){this.g&&Ms(this)};function Ms(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Fs(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function Fs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function om(l){let h="";return j(l,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function yc(l,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=om(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ye(l,h,f))}function Ce(l){Fe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ce,Fe);var MT=/^https?$/i,FT=["POST","PUT"];t=Ce.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cc.g(),this.v=this.o?Vp(this.o):Vp(cc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){am(this,V);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var x in y)f.set(x,y[x]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())f.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),x=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(FT,h,void 0))||y||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of f)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cm(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){am(this,V)}};function am(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,lm(l),Na(l)}function lm(l){l.A||(l.A=!0,$e(l,"complete"),$e(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$e(this,"complete"),$e(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?um(this):this.bb())},t.bb=function(){um(this)};function um(l){if(l.h&&typeof a<"u"&&(!l.v[1]||gn(l)!=4||l.Z()!=2)){if(l.u&&gn(l)==4)Ps(l.Ea,0,l);else if($e(l,"readystatechange"),gn(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=z===0){var x=String(l.D).match(Zp)[1]||null;!x&&u.self&&u.self.location&&(x=u.self.location.protocol.slice(0,-1)),y=!MT.test(x?x.toLowerCase():"")}f=y}if(f)$e(l,"complete"),$e(l,"success");else{l.m=6;try{var V=2<gn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",lm(l)}}finally{Na(l)}}}}function Na(l,h){if(l.g){cm(l);const f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||$e(l,"ready");try{f.onreadystatechange=y}catch{}}}function cm(l){l.I&&(u.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function gn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),oc(h)}};function hm(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function UT(l){const h={};l=(l.g&&2<=gn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(_(l[y]))continue;var f=k(l[y]);const x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=h[x]||[];h[x]=V,V.push(f)}w(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function dm(l){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,l),this.cb=Us("retryDelaySeedMs",1e4,l),this.Wa=Us("forwardChannelMaxRetries",2,l),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Kp(l&&l.concurrentRequestLimit),this.Da=new VT,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dm.prototype,t.la=8,t.G=1,t.connect=function(l,h,f,y){ct(0),this.W=l,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=wm(this,null,this.W),Da(this)};function vc(l){if(fm(l),l.G==3){var h=l.U++,f=mn(l.I);if(ye(f,"SID",l.K),ye(f,"RID",h),ye(f,"TYPE","terminate"),js(l,f),h=new $n(l,l.j,h),h.L=2,h.v=Ra(mn(f)),f=!1,u.navigator&&u.navigator.sendBeacon)try{f=u.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&u.Image&&(new Image().src=h.v,f=!0),f||(h.g=Tm(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Sa(h)}Em(l)}function xa(l){l.g&&(Ec(l),l.g.cancel(),l.g=null)}function fm(l){xa(l),l.u&&(u.clearTimeout(l.u),l.u=null),Oa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function Da(l){if(!Gp(l.h)&&!l.s){l.s=!0;var h=l.Ga;be||Y(),$||(be(),$=!0),G.add(h,l),l.B=0}}function jT(l,h){return Qp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xs(g(l.Ga,l,h),_m(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const x=new $n(this,this.j,l);let V=this.o;if(this.S&&(V?(V=v(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(x.H=V,V=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=mm(this,x,h),f=mn(this.I),ye(f,"RID",l),ye(f,"CVER",22),this.D&&ye(f,"X-HTTP-Session-Id",this.D),js(this,f),V&&(this.O?h="headers="+encodeURIComponent(String(om(V)))+"&"+h:this.m&&yc(f,this.m,V)),gc(this.h,x),this.Ua&&ye(f,"TYPE","init"),this.P?(ye(f,"$req",h),ye(f,"SID","null"),x.T=!0,dc(x,f,null)):dc(x,f,h),this.G=2}}else this.G==3&&(l?pm(this,l):this.i.length==0||Gp(this.h)||pm(this))};function pm(l,h){var f;h?f=h.l:f=l.U++;const y=mn(l.I);ye(y,"SID",l.K),ye(y,"RID",f),ye(y,"AID",l.T),js(l,y),l.m&&l.o&&yc(y,l.m,l.o),f=new $n(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=mm(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gc(l.h,f),dc(f,y,h)}function js(l,h){l.H&&j(l.H,function(f,y){ye(h,y,f)}),l.l&&Yp({},function(f,y){ye(h,y,f)})}function mm(l,h,f){f=Math.min(l.i.length,f);var y=l.l?g(l.l.Na,l.l,l):null;e:{var x=l.i;let V=-1;for(;;){const z=["count="+f];V==-1?0<f?(V=x[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let de=!0;for(let We=0;We<f;We++){let oe=x[We].g;const Ze=x[We].map;if(oe-=V,0>oe)V=Math.max(0,x[We].g-100),de=!1;else try{LT(Ze,z,"req"+oe+"_")}catch{y&&y(Ze)}}if(de){y=z.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,y}function gm(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;be||Y(),$||(be(),$=!0),G.add(h,l),l.v=0}}function _c(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xs(g(l.Fa,l),_m(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ym(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xs(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),xa(this),ym(this))};function Ec(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function ym(l){l.g=new $n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=mn(l.qa);ye(h,"RID","rpc"),ye(h,"SID",l.K),ye(h,"AID",l.T),ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ye(h,"TO",l.ja),ye(h,"TYPE","xmlhttp"),js(l,h),l.m&&l.o&&yc(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Ra(mn(h)),f.m=null,f.P=!0,Wp(f,l)}t.Za=function(){this.C!=null&&(this.C=null,xa(this),_c(this),ct(19))};function Oa(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function vm(l,h){var f=null;if(l.g==h){Oa(l),Ec(l),l.g=null;var y=2}else if(mc(l.h,h))f=h.D,Jp(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var x=l.B;y=wa(),$e(y,new jp(y,f)),Da(l)}else gm(l);else if(x=h.s,x==3||x==0&&0<h.X||!(y==1&&jT(l,h)||y==2&&_c(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),x){case 1:Ur(l,5);break;case 4:Ur(l,10);break;case 3:Ur(l,6);break;default:Ur(l,2)}}}function _m(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function Ur(l,h){if(l.j.info("Error code "+h),h==2){var f=g(l.fb,l),y=l.Xa;const x=!y;y=new Fr(y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Aa(y,"https"),Ra(y),x?OT(y.toString(),f):bT(y.toString(),f)}else ct(2);l.G=0,l.l&&l.l.sa(h),Em(l),fm(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Em(l){if(l.G=0,l.ka=[],l.l){const h=Xp(l.h);(h.length!=0||l.i.length!=0)&&(b(l.ka,h),b(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function wm(l,h,f){var y=f instanceof Fr?mn(f):new Fr(f);if(y.g!="")h&&(y.g=h+"."+y.g),Ca(y,y.s);else{var x=u.location;y=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var V=new Fr(null);y&&Aa(V,y),h&&(V.g=h),x&&Ca(V,x),f&&(V.l=f),y=V}return f=l.D,h=l.ya,f&&h&&ye(y,f,h),ye(y,"VER",l.la),js(l,y),y}function Tm(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ce(new Pa({eb:f})):new Ce(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Im(){}t=Im.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ba(){}ba.prototype.g=function(l,h){return new At(l,h)};function At(l,h){Fe.call(this),this.g=new dm(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ei(this)}P(At,Fe),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){vc(this.g)},At.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=pn(l),l=f);h.i.push(new IT(h.Ya++,l)),h.G==3&&Da(h)},At.prototype.N=function(){this.g.l=null,delete this.j,vc(this.g),delete this.g,At.aa.N.call(this)};function Sm(l){lc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}P(Sm,lc);function Am(){uc.call(this),this.status=1}P(Am,uc);function Ei(l){this.g=l}P(Ei,Im),Ei.prototype.ua=function(){$e(this.g,"a")},Ei.prototype.ta=function(l){$e(this.g,new Sm(l))},Ei.prototype.sa=function(l){$e(this.g,new Am)},Ei.prototype.ra=function(){$e(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,oE=function(){return new ba},sE=function(){return wa()},iE=Lr,ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,vl=Ta,Bp.COMPLETE="complete",rE=Bp,Lp.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,ro=Lp,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,nE=Ce}).apply(typeof el<"u"?el:typeof self<"u"?self:typeof window<"u"?window:{});const iy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new bf("@firebase/firestore");function Qs(){return ii.logLevel}function q(t,...e){if(ii.logLevel<=re.DEBUG){const r=e.map(Mf);ii.debug(`Firestore (${Es}): ${t}`,...r)}}function Dn(t,...e){if(ii.logLevel<=re.ERROR){const r=e.map(Mf);ii.error(`Firestore (${Es}): ${t}`,...r)}}function ss(t,...e){if(ii.logLevel<=re.WARN){const r=e.map(Mf);ii.warn(`Firestore (${Es}): ${t}`,...r)}}function Mf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: `+t;throw Dn(e),new Error(e)}function he(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Un{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(it.UNAUTHENTICATED))}shutdown(){}}class aR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class lR{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){he(this.o===void 0);let i=this.i;const s=c=>this.i!==i?(i=this.i,r(c)):Promise.resolve();let o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(he(typeof i.accessToken=="string"),new aE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new it(e)}}class uR{constructor(e,r,i){this.l=e,this.h=r,this.P=i,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cR{constructor(e,r,i){this.l=e,this.h=r,this.P=i}getToken(){return Promise.resolve(new uR(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){he(this.o===void 0);const i=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(he(typeof r.token=="string"),this.R=r.token,new hR(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<t;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=fR(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<r&&(i+=e.charAt(s[o]%e.length))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function os(t,e,r){return t.length===e.length&&t.every((i,s)=>r(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new W(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new W(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new W(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*r));return new Me(r,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Me(0,0))}static max(){return new Z(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,r,i){r===void 0?r=0:r>e.length&&X(),i===void 0?i=e.length-r:i>e.length-r&&X(),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return Wo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Wo?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let s=0;s<i;s++){const o=e.get(s),a=r.get(s);if(o<a)return-1;if(o>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class _e extends Wo{construct(e,r,i){return new _e(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new W(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(s=>s.length>0))}return new _e(r)}static emptyPath(){return new _e([])}}const pR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Wo{construct(e,r,i){return new Ke(e,r,i)}static isValidIdentifier(e){return pR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ke(["__name__"])}static fromServerFormat(e){const r=[];let i="",s=0;const o=()=>{if(i.length===0)throw new W(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new W(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new W(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(i+=u,s++):(o(),s++)}if(o(),a)throw new W(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(r)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(_e.fromString(e))}static fromName(e){return new K(_e.fromString(e).popFirst(5))}static empty(){return new K(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return _e.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new _e(e.slice()))}}function mR(t,e){const r=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(i===1e9?new Me(r+1,0):new Me(r,i));return new Tr(s,K.empty(),e)}function gR(t){return new Tr(t.readTime,t.key,-1)}class Tr{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new Tr(Z.min(),K.empty(),-1)}static max(){return new Tr(Z.max(),K.empty(),-1)}}function yR(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=K.comparator(t.documentKey,e.documentKey),r!==0?r:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==vR)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new F((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(r,o).next(i,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof F?r:F.resolve(r)}catch(r){return F.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):F.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):F.reject(r)}static resolve(e){return new F((r,i)=>{r(e)})}static reject(e){return new F((r,i)=>{i(e)})}static waitFor(e){return new F((r,i)=>{let s=0,o=0,a=!1;e.forEach(u=>{++s,u.next(()=>{++o,a&&o===s&&r()},c=>i(c))}),a=!0,o===s&&r()})}static or(e){let r=F.resolve(!1);for(const i of e)r=r.next(s=>s?F.resolve(s):i());return r}static forEach(e,r){const i=[];return e.forEach((s,o)=>{i.push(r.call(this,s,o))}),this.waitFor(i)}static mapArray(e,r){return new F((i,s)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const d=c;r(e[d]).next(p=>{a[d]=p,++u,u===o&&i(a)},p=>s(p))}})}static doWhile(e,r){return new F((i,s)=>{const o=()=>{e()===!0?r().next(()=>{o()},s):i()};o()})}}function ER(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ff.oe=-1;function Mu(t){return t==null}function iu(t){return t===0&&1/t==-1/0}function wR(t){return typeof t=="number"&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ci(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function uE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,r){this.comparator=e,this.root=r||qe.EMPTY}insert(e,r){return new Ae(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return r+i.left.size;s<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tl(this.root,e,this.comparator,!0)}}class tl{constructor(e,r,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?i(e.key,r):1,r&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,r,i,s,o){this.key=e,this.value=r,this.color=i??qe.RED,this.left=s??qe.EMPTY,this.right=o??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,s,o){return new qe(e??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,r,i),null):o===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return qe.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,r,i,s,o){return this}insert(e,r,i){return new qe(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qe(this.comparator);return r.data=e,r}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new Pt([])}unionWith(e){let r=new Qe(Ke.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new Pt(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return os(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cE("Invalid base64 string: "+o):o}}(e);return new Xe(r)}static fromUint8Array(e){const r=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Xe(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const TR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(he(!!t),typeof t=="string"){let e=0;const r=TR.exec(t);if(he(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function jf(t){const e=t.mapValue.fields.__previous_value__;return Uf(e)?jf(e):e}function Ho(t){const e=Ir(t.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,r,i,s,o,a,u,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class qo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uf(t)?4:AR(t)?9007199254740991:SR(t)?10:11:X()}function dn(t,e){if(t===e)return!0;const r=oi(t);if(r!==oi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ho(t).isEqual(Ho(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Ir(s.timestampValue),u=Ir(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return si(s.bytesValue).isEqual(si(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Pe(s.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(s.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Pe(s.integerValue)===Pe(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=Pe(s.doubleValue),u=Pe(o.doubleValue);return a===u?iu(a)===iu(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return os(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},u=o.mapValue.fields||{};if(sy(a)!==sy(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!dn(a[c],u[c])))return!1;return!0}(t,e);default:return X()}}function Ko(t,e){return(t.values||[]).find(r=>dn(r,e))!==void 0}function as(t,e){if(t===e)return 0;const r=oi(t),i=oi(e);if(r!==i)return ae(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,a){const u=Pe(o.integerValue||o.doubleValue),c=Pe(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return ay(t.timestampValue,e.timestampValue);case 4:return ay(Ho(t),Ho(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(o,a){const u=si(o),c=si(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),c=a.split("/");for(let d=0;d<u.length&&d<c.length;d++){const p=ae(u[d],c[d]);if(p!==0)return p}return ae(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const u=ae(Pe(o.latitude),Pe(a.latitude));return u!==0?u:ae(Pe(o.longitude),Pe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ly(t.arrayValue,e.arrayValue);case 10:return function(o,a){var u,c,d,p;const m=o.fields||{},g=a.fields||{},S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=(c=g.value)===null||c===void 0?void 0:c.arrayValue,D=ae(((d=S==null?void 0:S.values)===null||d===void 0?void 0:d.length)||0,((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0);return D!==0?D:ly(S,P)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===nl.mapValue&&a===nl.mapValue)return 0;if(o===nl.mapValue)return 1;if(a===nl.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),d=a.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const g=ae(c[m],p[m]);if(g!==0)return g;const S=as(u[c[m]],d[p[m]]);if(S!==0)return S}return ae(c.length,p.length)}(t.mapValue,e.mapValue);default:throw X()}}function ay(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const r=Ir(t),i=Ir(e),s=ae(r.seconds,i.seconds);return s!==0?s:ae(r.nanos,i.nanos)}function ly(t,e){const r=t.values||[],i=e.values||[];for(let s=0;s<r.length&&s<i.length;++s){const o=as(r[s],i[s]);if(o)return o}return ae(r.length,i.length)}function ls(t){return ld(t)}function ld(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ir(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return si(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return K.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ld(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ld(r.fields[a])}`;return s+"}"}(t.mapValue):X()}function uy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ud(t){return!!t&&"integerValue"in t}function Bf(t){return!!t&&"arrayValue"in t}function cy(t){return!!t&&"nullValue"in t}function hy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _l(t){return!!t&&"mapValue"in t}function SR(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ci(t.mapValue.fields,(r,i)=>e.mapValue.fields[r]=vo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=vo(t.arrayValue.values[r]);return e}return Object.assign({},t)}function AR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.value=e}static empty(){return new _t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!_l(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(r)}setAll(e){let r=Ke.emptyPath(),i={},s=[];e.forEach((a,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,i,s),i={},s=[],r=u.popLast()}a?i[u.lastSegment()]=vo(a):s.push(u.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,i,s)}delete(e){const r=this.field(e.popLast());_l(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=r.mapValue.fields[e.get(i)];_l(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,i){ci(r,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new _t(vo(this.value))}}function hE(t){const e=[];return ci(t.fields,(r,i)=>{const s=new Ke([r]);if(_l(i)){const o=hE(i.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,r,i,s,o,a,u){this.key=e,this.documentType=r,this.version=i,this.readTime=s,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new ot(e,0,Z.min(),Z.min(),Z.min(),_t.empty(),0)}static newFoundDocument(e,r,i,s){return new ot(e,1,r,Z.min(),i,s,0)}static newNoDocument(e,r){return new ot(e,2,r,Z.min(),Z.min(),_t.empty(),0)}static newUnknownDocument(e,r){return new ot(e,3,r,Z.min(),Z.min(),_t.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,r){this.position=e,this.inclusive=r}}function dy(t,e,r){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?i=K.comparator(K.fromName(a.referenceValue),r.key):i=as(a,r.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function fy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!dn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,r="asc"){this.field=e,this.dir=r}}function CR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Oe extends dE{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new PR(e,r,i):r==="array-contains"?new xR(e,i):r==="in"?new DR(e,i):r==="not-in"?new OR(e,i):r==="array-contains-any"?new bR(e,i):new Oe(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new kR(e,i):new NR(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(as(r,this.value)):r!==null&&oi(this.value)===oi(r)&&this.matchesComparison(as(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zt extends dE{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Zt(e,r)}matches(e){return fE(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fE(t){return t.op==="and"}function pE(t){return RR(t)&&fE(t)}function RR(t){for(const e of t.filters)if(e instanceof Zt)return!1;return!0}function cd(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+ls(t.value);if(pE(t))return t.filters.map(e=>cd(e)).join(",");{const e=t.filters.map(r=>cd(r)).join(",");return`${t.op}(${e})`}}function mE(t,e){return t instanceof Oe?function(i,s){return s instanceof Oe&&i.op===s.op&&i.field.isEqual(s.field)&&dn(i.value,s.value)}(t,e):t instanceof Zt?function(i,s){return s instanceof Zt&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,a,u)=>o&&mE(a,s.filters[u]),!0):!1}(t,e):void X()}function gE(t){return t instanceof Oe?function(r){return`${r.field.canonicalString()} ${r.op} ${ls(r.value)}`}(t):t instanceof Zt?function(r){return r.op.toString()+" {"+r.getFilters().map(gE).join(" ,")+"}"}(t):"Filter"}class PR extends Oe{constructor(e,r,i){super(e,r,i),this.key=K.fromName(i.referenceValue)}matches(e){const r=K.comparator(e.key,this.key);return this.matchesComparison(r)}}class kR extends Oe{constructor(e,r){super(e,"in",r),this.keys=yE("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class NR extends Oe{constructor(e,r){super(e,"not-in",r),this.keys=yE("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function yE(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>K.fromName(i.referenceValue))}class xR extends Oe{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Bf(r)&&Ko(r.arrayValue,this.value)}}class DR extends Oe{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ko(this.value.arrayValue,r)}}class OR extends Oe{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ko(this.value.arrayValue,r)}}class bR extends Oe{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Bf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>Ko(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,r=null,i=[],s=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=u,this.ue=null}}function py(t,e=null,r=[],i=[],s=null,o=null,a=null){return new VR(t,e,r,i,s,o,a)}function zf(t){const e=ee(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>cd(i)).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Mu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>ls(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>ls(i)).join(",")),e.ue=r}return e.ue}function $f(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!CR(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!mE(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fy(t.startAt,e.startAt)&&fy(t.endAt,e.endAt)}function hd(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,r=null,i=[],s=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LR(t,e,r,i,s,o,a,u){return new ws(t,e,r,i,s,o,a,u)}function Wf(t){return new ws(t)}function my(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vE(t){return t.collectionGroup!==null}function _o(t){const e=ee(t);if(e.ce===null){e.ce=[];const r=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),r.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Qe(Ke.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Go(o,i))}),r.has(Ke.keyField().canonicalString())||e.ce.push(new Go(Ke.keyField(),i))}return e.ce}function ln(t){const e=ee(t);return e.le||(e.le=MR(e,_o(t))),e.le}function MR(t,e){if(t.limitType==="F")return py(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Go(s.field,o)});const r=t.endAt?new su(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new su(t.startAt.position,t.startAt.inclusive):null;return py(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}}function dd(t,e){const r=t.filters.concat([e]);return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ou(t,e,r){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Fu(t,e){return $f(ln(t),ln(e))&&t.limitType===e.limitType}function _E(t){return`${zf(ln(t))}|lt:${t.limitType}`}function Si(t){return`Query(target=${function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(s=>gE(s)).join(", ")}]`),Mu(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map(s=>ls(s)).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map(s=>ls(s)).join(",")),`Target(${i})`}(ln(t))}; limitType=${t.limitType})`}function Uu(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):K.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of _o(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,u,c){const d=dy(a,u,c);return a.inclusive?d<=0:d<0}(i.startAt,_o(i),s)||i.endAt&&!function(a,u,c){const d=dy(a,u,c);return a.inclusive?d>=0:d>0}(i.endAt,_o(i),s))}(t,e)}function FR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EE(t){return(e,r)=>{let i=!1;for(const s of _o(t)){const o=UR(s,e,r);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function UR(t,e,r){const i=t.field.isKeyField()?K.comparator(e.key,r.key):function(o,a,u){const c=a.data.field(o),d=u.data.field(o);return c!==null&&d!==null?as(c,d):X()}(t.field,e,r);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[r]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(r,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Ae(K.comparator);function On(){return jR}const wE=new Ae(K.comparator);function io(...t){let e=wE;for(const r of t)e=e.insert(r.key,r);return e}function TE(t){let e=wE;return t.forEach((r,i)=>e=e.insert(r,i.overlayedDocument)),e}function Gr(){return Eo()}function IE(){return Eo()}function Eo(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const BR=new Ae(K.comparator),zR=new Qe(K.comparator);function ne(...t){let e=zR;for(const r of t)e=e.add(r);return e}const $R=new Qe(ae);function WR(){return $R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function SE(t){return{integerValue:""+t}}function HR(t,e){return wR(e)?SE(e):Hf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this._=void 0}}function qR(t,e,r){return t instanceof au?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Uf(o)&&(o=jf(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(r,e):t instanceof Qo?CE(t,e):t instanceof Jo?RE(t,e):function(s,o){const a=AE(s,o),u=gy(a)+gy(s.Pe);return ud(a)&&ud(s.Pe)?SE(u):Hf(s.serializer,u)}(t,e)}function KR(t,e,r){return t instanceof Qo?CE(t,e):t instanceof Jo?RE(t,e):r}function AE(t,e){return t instanceof lu?function(i){return ud(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class au extends ju{}class Qo extends ju{constructor(e){super(),this.elements=e}}function CE(t,e){const r=PE(e);for(const i of t.elements)r.some(s=>dn(s,i))||r.push(i);return{arrayValue:{values:r}}}class Jo extends ju{constructor(e){super(),this.elements=e}}function RE(t,e){let r=PE(e);for(const i of t.elements)r=r.filter(s=>!dn(s,i));return{arrayValue:{values:r}}}class lu extends ju{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function gy(t){return Pe(t.integerValue||t.doubleValue)}function PE(t){return Bf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GR(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Qo&&s instanceof Qo||i instanceof Jo&&s instanceof Jo?os(i.elements,s.elements,dn):i instanceof lu&&s instanceof lu?dn(i.Pe,s.Pe):i instanceof au&&s instanceof au}(t.transform,e.transform)}class QR{constructor(e,r){this.version=e,this.transformResults=r}}class Xt{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bu{}function kE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qf(t.key,Xt.none()):new la(t.key,t.data,Xt.none());{const r=t.data,i=_t.empty();let s=new Qe(Ke.comparator);for(let o of e.fields)if(!s.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?i.delete(o):i.set(o,a),s=s.add(o)}return new Nr(t.key,i,new Pt(s.toArray()),Xt.none())}}function JR(t,e,r){t instanceof la?function(s,o,a){const u=s.value.clone(),c=vy(s.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Nr?function(s,o,a){if(!El(s.precondition,o))return void o.convertToUnknownDocument(a.version);const u=vy(s.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(NE(s)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,r):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function wo(t,e,r,i){return t instanceof la?function(o,a,u,c){if(!El(o.precondition,a))return u;const d=o.value.clone(),p=_y(o.fieldTransforms,c,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,r,i):t instanceof Nr?function(o,a,u,c){if(!El(o.precondition,a))return u;const d=_y(o.fieldTransforms,c,a),p=a.data;return p.setAll(NE(o)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,r,i):function(o,a,u){return El(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,r)}function XR(t,e){let r=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=AE(i.transform,s||null);o!=null&&(r===null&&(r=_t.empty()),r.set(i.field,o))}return r||null}function yy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&os(i,s,(o,a)=>GR(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class la extends Bu{constructor(e,r,i,s=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Nr extends Bu{constructor(e,r,i,s,o=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NE(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=t.data.field(r);e.set(r,i)}}),e}function vy(t,e,r){const i=new Map;he(t.length===r.length);for(let s=0;s<r.length;s++){const o=t[s],a=o.transform,u=e.data.field(o.field);i.set(o.field,KR(a,u,r[s]))}return i}function _y(t,e,r){const i=new Map;for(const s of t){const o=s.transform,a=r.data.field(s.field);i.set(s.field,qR(o,a,e))}return i}class qf extends Bu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends Bu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,r,i,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&JR(o,e,i[s])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=wo(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=wo(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=IE();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=r.has(s.key)?null:u;const c=kE(a,u);c!==null&&i.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ne())}isEqual(e){return this.batchId===e.batchId&&os(this.mutations,e.mutations,(r,i)=>yy(r,i))&&os(this.baseMutations,e.baseMutations,(r,i)=>yy(r,i))}}class Kf{constructor(e,r,i,s){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=s}static from(e,r,i){he(e.mutations.length===i.length);let s=function(){return BR}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new Kf(e,r,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,ie;function nP(t){switch(t){default:return X();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function xE(t){if(t===void 0)return Dn("GRPC error has no .code"),M.UNKNOWN;switch(t){case xe.OK:return M.OK;case xe.CANCELLED:return M.CANCELLED;case xe.UNKNOWN:return M.UNKNOWN;case xe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case xe.INTERNAL:return M.INTERNAL;case xe.UNAVAILABLE:return M.UNAVAILABLE;case xe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case xe.NOT_FOUND:return M.NOT_FOUND;case xe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case xe.ABORTED:return M.ABORTED;case xe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case xe.DATA_LOSS:return M.DATA_LOSS;default:return X()}}(ie=xe||(xe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Xr([4294967295,4294967295],0);function Ey(t){const e=rP().encode(t),r=new tE;return r.update(e),new Uint8Array(r.digest())}function wy(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xr([r,i],0),new Xr([s,o],0)]}class Gf{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new so(`Invalid padding: ${r}`);if(i<0)throw new so(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new so(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Xr.fromNumber(this.Ie)}Ee(e,r,i){let s=e.add(r.multiply(Xr.fromNumber(i)));return s.compare(iP)===1&&(s=new Xr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Ey(e),[i,s]=wy(r);for(let o=0;o<this.hashCount;o++){const a=this.Ee(i,s,o);if(!this.de(a))return!1}return!0}static create(e,r,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Gf(o,s,r);return i.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const r=Ey(e),[i,s]=wy(r);for(let o=0;o<this.hashCount;o++){const a=this.Ee(i,s,o);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,r,i,s,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const s=new Map;return s.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new zu(Z.min(),s,new Ae(ae),On(),ne())}}class ua{constructor(e,r,i,s,o){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new ua(i,r,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,i,s){this.Re=e,this.removedTargetIds=r,this.key=i,this.Ve=s}}class DE{constructor(e,r){this.targetId=e,this.me=r}}class OE{constructor(e,r,i=Xe.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=s}}class Ty{constructor(){this.fe=0,this.ge=Sy(),this.pe=Xe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ne(),r=ne(),i=ne();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:i=i.add(s);break;default:X()}}),new ua(this.pe,this.ye,e,r,i)}Ce(){this.we=!1,this.ge=Sy()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sP{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=Iy(),this.Qe=new Ae(ae)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const i=this.Ge(r);switch(e.state){case 0:this.ze(r)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),i.De(e.resumeToken));break;default:X()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((i,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,i=e.me.count,s=this.Je(r);if(s){const o=s.target;if(hd(o))if(i===0){const a=new K(o.path);this.Ue(r,a,ot.newNoDocument(a,Z.min()))}else he(i===1);else{const a=this.Ye(r);if(a!==i){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=r;let a,u;try{a=si(i).toUint8Array()}catch(c){if(c instanceof cE)return ss("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Gf(a,s,o)}catch(c){return ss(c instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,i){return r.me.count===i-this.nt(e,r.targetId)?0:2}nt(e,r){const i=this.Le.getRemoteKeysForTarget(r);let s=0;return i.forEach(o=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,o,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((o,a)=>{const u=this.Je(a);if(u){if(o.current&&hd(u.target)){const c=new K(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,ot.newNoDocument(c,e))}o.be&&(r.set(a,o.ve()),o.Ce())}});let i=ne();this.qe.forEach((o,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const s=new zu(e,r,this.Qe,this.ke,i);return this.ke=On(),this.qe=Iy(),this.Qe=new Ae(ae),s}$e(e,r){if(!this.ze(e))return;const i=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,i),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),i&&(this.ke=this.ke.insert(r,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ty,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Qe(ae),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||q("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ty),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Iy(){return new Ae(K.comparator)}function Sy(){return new Ae(K.comparator)}const oP={asc:"ASCENDING",desc:"DESCENDING"},aP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lP={and:"AND",or:"OR"};class uP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function fd(t,e){return t.useProto3Json||Mu(e)?e:{value:e}}function uu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cP(t,e){return uu(t,e.toTimestamp())}function un(t){return he(!!t),Z.fromTimestamp(function(r){const i=Ir(r);return new Me(i.seconds,i.nanos)}(t))}function Qf(t,e){return pd(t,e).canonicalString()}function pd(t,e){const r=function(s){return new _e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function VE(t){const e=_e.fromString(t);return he(jE(e)),e}function md(t,e){return Qf(t.databaseId,e.path)}function eh(t,e){const r=VE(e);if(r.get(1)!==t.databaseId.projectId)throw new W(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new W(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new K(ME(r))}function LE(t,e){return Qf(t.databaseId,e)}function hP(t){const e=VE(t);return e.length===4?_e.emptyPath():ME(e)}function gd(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ME(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ay(t,e,r){return{name:md(t,e),fields:r.value.mapValue.fields}}function dP(t,e){let r;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(he(p===void 0||typeof p=="string"),Xe.fromBase64String(p||"")):(he(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Xe.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(d){const p=d.code===void 0?M.UNKNOWN:xE(d.code);return new W(p,d.message||"")}(a);r=new OE(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=eh(t,i.document.name),o=un(i.document.updateTime),a=i.document.createTime?un(i.document.createTime):Z.min(),u=new _t({mapValue:{fields:i.document.fields}}),c=ot.newFoundDocument(s,o,a,u),d=i.targetIds||[],p=i.removedTargetIds||[];r=new wl(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=eh(t,i.document),o=i.readTime?un(i.readTime):Z.min(),a=ot.newNoDocument(s,o),u=i.removedTargetIds||[];r=new wl([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=eh(t,i.document),o=i.removedTargetIds||[];r=new wl([],o,s,null)}else{if(!("filter"in e))return X();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,a=new tP(s,o),u=i.targetId;r=new DE(u,a)}}return r}function fP(t,e){let r;if(e instanceof la)r={update:Ay(t,e.key,e.value)};else if(e instanceof qf)r={delete:md(t,e.key)};else if(e instanceof Nr)r={update:Ay(t,e.key,e.data),updateMask:TP(e.fieldMask)};else{if(!(e instanceof YR))return X();r={verify:md(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(i=>function(o,a){const u=a.transform;if(u instanceof au)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof lu)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw X()}(0,i))),e.precondition.isNone||(r.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:cP(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(t,e.precondition)),r}function pP(t,e){return t&&t.length>0?(he(e!==void 0),t.map(r=>function(s,o){let a=s.updateTime?un(s.updateTime):un(o);return a.isEqual(Z.min())&&(a=un(o)),new QR(a,s.transformResults||[])}(r,e))):[]}function mP(t,e){return{documents:[LE(t,e.path)]}}function gP(t,e){const r={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=LE(t,s);const o=function(d){if(d.length!==0)return UE(Zt.create(d,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const a=function(d){if(d.length!==0)return d.map(p=>function(g){return{field:Ai(g.field),direction:_P(g.dir)}}(p))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const u=fd(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:r,parent:s}}function yP(t){let e=hP(t.parent);const r=t.structuredQuery,i=r.from?r.from.length:0;let s=null;if(i>0){he(i===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];r.where&&(o=function(m){const g=FE(m);return g instanceof Zt&&pE(g)?g.getFilters():[g]}(r.where));let a=[];r.orderBy&&(a=function(m){return m.map(g=>function(P){return new Go(Ci(P.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(r.orderBy));let u=null;r.limit&&(u=function(m){let g;return g=typeof m=="object"?m.value:m,Mu(g)?null:g}(r.limit));let c=null;r.startAt&&(c=function(m){const g=!!m.before,S=m.values||[];return new su(S,g)}(r.startAt));let d=null;return r.endAt&&(d=function(m){const g=!m.before,S=m.values||[];return new su(S,g)}(r.endAt)),LR(e,s,a,o,u,"F",c,d)}function vP(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function FE(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Ci(r.unaryFilter.field);return Oe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ci(r.unaryFilter.field);return Oe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ci(r.unaryFilter.field);return Oe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ci(r.unaryFilter.field);return Oe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(r){return Oe.create(Ci(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Zt.create(r.compositeFilter.filters.map(i=>FE(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X()}}(r.compositeFilter.op))}(t):X()}function _P(t){return oP[t]}function EP(t){return aP[t]}function wP(t){return lP[t]}function Ai(t){return{fieldPath:t.canonicalString()}}function Ci(t){return Ke.fromServerFormat(t.fieldPath)}function UE(t){return t instanceof Oe?function(r){if(r.op==="=="){if(hy(r.value))return{unaryFilter:{field:Ai(r.field),op:"IS_NAN"}};if(cy(r.value))return{unaryFilter:{field:Ai(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(hy(r.value))return{unaryFilter:{field:Ai(r.field),op:"IS_NOT_NAN"}};if(cy(r.value))return{unaryFilter:{field:Ai(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ai(r.field),op:EP(r.op),value:r.value}}}(t):t instanceof Zt?function(r){const i=r.getFilters().map(s=>UE(s));return i.length===1?i[0]:{compositeFilter:{op:wP(r.op),filters:i}}}(t):X()}function TP(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function jE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,r,i,s,o=Z.min(),a=Z.min(),u=Xe.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.ct=e}}function SP(t){const e=yP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ou(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.un=new CP}addToCollectionParentIndex(e,r){return this.un.add(r),F.resolve()}getCollectionParents(e,r){return F.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return F.resolve()}deleteFieldIndex(e,r){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,r){return F.resolve()}getDocumentsMatchingTarget(e,r){return F.resolve(null)}getIndexType(e,r){return F.resolve(0)}getFieldIndexes(e,r){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,r){return F.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,r){return F.resolve(Tr.min())}updateCollectionGroup(e,r,i){return F.resolve()}updateIndexEntries(e,r){return F.resolve()}}class CP{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r]||new Qe(_e.comparator),o=!s.has(i);return this.index[r]=s.add(i),o}has(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Qe(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new us(0)}static kn(){return new us(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.changes=new Ts(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?F.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,r,i,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(i!==null&&wo(i.mutation,s,Pt.empty(),Me.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.getLocalViewOfDocuments(e,i,ne()).next(()=>i))}getLocalViewOfDocuments(e,r,i=ne()){const s=Gr();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,i).next(o=>{let a=io();return o.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const i=Gr();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,ne()))}populateOverlays(e,r,i){const s=[];return i.forEach(o=>{r.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,u)=>{r.set(a,u)})})}computeViews(e,r,i,s){let o=On();const a=Eo(),u=function(){return Eo()}();return r.forEach((c,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Nr)?o=o.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),wo(p.mutation,d,p.mutation.getFieldMask(),Me.now())):a.set(d.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,p)=>a.set(d,p)),r.forEach((d,p)=>{var m;return u.set(d,new PP(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const i=Eo();let s=new Ae((a,u)=>a-u),o=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=r.get(c);if(d===null)return;let p=i.get(c)||Pt.empty();p=u.applyToLocalView(d,p),i.set(c,p);const m=(s.get(u.batchId)||ne()).add(c);s=s.insert(u.batchId,m)})}).next(()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,m=IE();p.forEach(g=>{if(!o.has(g)){const S=kE(r.get(g),i.get(g));S!==null&&m.set(g,S),o=o.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return F.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,r,i,s){return function(a){return K.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):vE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,s):this.getDocumentsMatchingCollectionQuery(e,r,i,s)}getNextDocuments(e,r,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,s-o.size):F.resolve(Gr());let u=-1,c=o;return a.next(d=>F.forEach(d,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(p)?F.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{c=c.insert(p,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,ne())).next(p=>({batchId:u,changes:TE(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new K(r)).next(i=>{let s=io();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,i,s){const o=r.collectionGroup;let a=io();return this.indexManager.getCollectionParents(e,o).next(u=>F.forEach(u,c=>{const d=function(m,g){return new ws(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(p=>{p.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,o,s))).next(a=>{o.forEach((c,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,ot.newInvalidDocument(p)))});let u=io();return a.forEach((c,d)=>{const p=o.get(c);p!==void 0&&wo(p.mutation,d,Pt.empty(),Me.now()),Uu(r,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return F.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:un(s.createTime)}}(r)),F.resolve()}getNamedQuery(e,r){return F.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:SP(s.bundledQuery),readTime:un(s.readTime)}}(r)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.overlays=new Ae(K.comparator),this.Ir=new Map}getOverlay(e,r){return F.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Gr();return F.forEach(r,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,r,i){return i.forEach((s,o)=>{this.ht(e,r,o)}),F.resolve()}removeOverlaysForBatchId(e,r,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),F.resolve()}getOverlaysForCollection(e,r,i){const s=Gr(),o=r.length+1,a=new K(r.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>i&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,r,i,s){let o=new Ae((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>i){let p=o.get(d.largestBatchId);p===null&&(p=Gr(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Gr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=s)););return F.resolve(u)}ht(e,r,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new eP(r,i));let o=this.Ir.get(r);o===void 0&&(o=ne(),this.Ir.set(r,o)),this.Ir.set(r,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this.Tr=new Qe(Ue.Er),this.dr=new Qe(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const i=new Ue(e,r);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.Vr(new Ue(e,r))}mr(e,r){e.forEach(i=>this.removeReference(i,r))}gr(e){const r=new K(new _e([])),i=new Ue(r,e),s=new Ue(r,e+1),o=[];return this.dr.forEachInRange([i,s],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new K(new _e([])),i=new Ue(r,e),s=new Ue(r,e+1);let o=ne();return this.dr.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(e){const r=new Ue(e,0),i=this.Tr.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Ue{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return K.comparator(e.key,r.key)||ae(e.wr,r.wr)}static Ar(e,r){return ae(e.wr,r.wr)||K.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Qe(Ue.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ZR(o,r,i,s);this.mutationQueue.push(a);for(const u of s)this.br=this.br.add(new Ue(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,r){return F.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,s=this.vr(i),o=s<0?0:s;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Ue(r,0),s=new Ue(r,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,s],a=>{const u=this.Dr(a.wr);o.push(u)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new Qe(ae);return r.forEach(s=>{const o=new Ue(s,0),a=new Ue(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],u=>{i=i.add(u.wr)})}),F.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,s=i.length+1;let o=i;K.isDocumentKey(o)||(o=o.child(""));const a=new Ue(new K(o),0);let u=new Qe(ae);return this.br.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.wr)),!0)},a),F.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(i=>{const s=this.Dr(i);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){he(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return F.forEach(r.mutations,s=>{const o=new Ue(s.key,r.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,r){const i=new Ue(r,0),s=this.br.firstAfterOrEqual(i);return F.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.Mr=e,this.docs=function(){return new Ae(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,s=this.docs.get(i),o=s?s.size:0,a=this.Mr(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return F.resolve(i?i.document.mutableCopy():ot.newInvalidDocument(r))}getEntries(e,r){let i=On();return r.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():ot.newInvalidDocument(s))}),F.resolve(i)}getDocumentsMatchingQuery(e,r,i,s){let o=On();const a=r.path,u=new K(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||yR(gR(p),i)<=0||(s.has(p.key)||Uu(r,p))&&(o=o.insert(p.key,p.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,r,i,s){X()}Or(e,r){return F.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new VP(this)}getSize(e){return F.resolve(this.size)}}class VP extends RP{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),F.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.persistence=e,this.Nr=new Ts(r=>zf(r),$f),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jf,this.targetCount=0,this.kr=us.Bn()}forEachTarget(e,r){return this.Nr.forEach((i,s)=>r(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.Lr&&(this.Lr=r),F.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new us(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,F.resolve()}updateTargetData(e,r){return this.Kn(r),F.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,r,i){let s=0;const o=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=r&&i.get(u.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),F.waitFor(o).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,r){const i=this.Nr.get(r)||null;return F.resolve(i)}addMatchingKeys(e,r,i){return this.Br.Rr(r,i),F.resolve()}removeMatchingKeys(e,r,i){this.Br.mr(r,i);const s=this.persistence.referenceDelegate,o=[];return s&&r.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),F.resolve()}getMatchingKeysForTargetId(e,r){const i=this.Br.yr(r);return F.resolve(i)}containsKey(e,r){return F.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Ff(0),this.Kr=!1,this.Kr=!0,this.$r=new DP,this.referenceDelegate=e(this),this.Ur=new LP(this),this.indexManager=new AP,this.remoteDocumentCache=function(s){return new bP(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new IP(r),this.Gr=new NP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new xP,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.qr[e.toKey()];return i||(i=new OP(r,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,i){q("MemoryPersistence","Starting transaction:",e);const s=new FP(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,r){return F.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,r)))}}class FP extends _R{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.Jr=new Jf,this.Yr=null}static Zr(e){return new Xf(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,r,i){return this.Jr.addReference(i,r),this.Xr.delete(i.toString()),F.resolve()}removeReference(e,r,i){return this.Jr.removeReference(i,r),this.Xr.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),F.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,i=>{const s=K.fromPath(i);return this.ei(e,s).next(o=>{o||r.removeEntry(s,Z.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(i=>{i?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return F.or([()=>F.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,r,i,s){this.targetId=e,this.fromCache=r,this.$i=i,this.Ui=s}static Wi(e,r){let i=ne(),s=ne();for(const o of r.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Yf(e,r.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return BA()?8:ER(lt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,i,s){const o={result:null};return this.Yi(e,r).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,r,s,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new UP;return this.Xi(e,r,a).next(u=>{if(o.result=u,this.zi)return this.es(e,r,a,u.size)})}).next(()=>o.result)}es(e,r,i,s){return i.documentReadCount<this.ji?(Qs()<=re.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Si(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Qs()<=re.DEBUG&&q("QueryEngine","Query:",Si(r),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(Qs()<=re.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Si(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(r))):F.resolve())}Yi(e,r){if(my(r))return F.resolve(null);let i=ln(r);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=ou(r,null,"F"),i=ln(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const a=ne(...o);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.ts(r,u);return this.ns(r,d,a,c.readTime)?this.Yi(e,ou(r,null,"F")):this.rs(e,d,r,c)}))})))}Zi(e,r,i,s){return my(r)||s.isEqual(Z.min())?F.resolve(null):this.Ji.getDocuments(e,i).next(o=>{const a=this.ts(r,o);return this.ns(r,a,i,s)?F.resolve(null):(Qs()<=re.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Si(r)),this.rs(e,a,r,mR(s,-1)).next(u=>u))})}ts(e,r){let i=new Qe(EE(e));return r.forEach((s,o)=>{Uu(e,o)&&(i=i.add(o))}),i}ns(e,r,i,s){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,r,i){return Qs()<=re.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Si(r)),this.Ji.getDocumentsMatchingQuery(e,r,Tr.min(),i)}rs(e,r,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(o=>(r.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,r,i,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Ae(ae),this._s=new Ts(o=>zf(o),$f),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function zP(t,e,r,i){return new BP(t,e,r,i)}async function BE(t,e){const r=ee(t);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let s;return r.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,r.ls(e),r.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let c=ne();for(const d of s){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of o){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return r.localDocuments.getDocuments(i,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:u}))})})}function $P(t,e){const r=ee(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,p){const m=d.batch,g=m.keys();let S=F.resolve();return g.forEach(P=>{S=S.next(()=>p.getEntry(c,P)).next(D=>{const b=d.docVersions.get(P);he(b!==null),D.version.compareTo(b)<0&&(m.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),p.addEntry(D)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(r,i,e,o).next(()=>o.apply(i)).next(()=>r.mutationQueue.performConsistencyCheck(i)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let c=ne();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>r.localDocuments.getDocuments(i,s))})}function zE(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function WP(t,e){const r=ee(t),i=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const u=[];e.targetChanges.forEach((p,m)=>{const g=s.get(m);if(!g)return;u.push(r.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(o,p.addedDocuments,m)));let S=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?S=S.withResumeToken(Xe.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,i)),s=s.insert(m,S),function(D,b,I){return D.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(g,S,p)&&u.push(r.Ur.updateTargetData(o,S))});let c=On(),d=ne();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(HP(o,a,e.documentUpdates).next(p=>{c=p.Ps,d=p.Is})),!i.isEqual(Z.min())){const p=r.Ur.getLastRemoteSnapshotVersion(o).next(m=>r.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(p)}return F.waitFor(u).next(()=>a.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(r.os=s,o))}function HP(t,e,r){let i=ne(),s=ne();return r.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=On();return r.forEach((u,c)=>{const d=o.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):q("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function qP(t,e){const r=ee(t);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function KP(t,e){const r=ee(t);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return r.Ur.getTargetData(i,e).next(o=>o?(s=o,F.resolve(s)):r.Ur.allocateTargetId(i).next(a=>(s=new sr(e,a,"TargetPurposeListen",i.currentSequenceNumber),r.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=r.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(i.targetId,i),r._s.set(e,i.targetId)),i})}async function yd(t,e,r){const i=ee(t),s=i.os.get(e),o=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!aa(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function Cy(t,e,r){const i=ee(t);let s=Z.min(),o=ne();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,p){const m=ee(c),g=m._s.get(p);return g!==void 0?F.resolve(m.os.get(g)):m.Ur.getTargetData(d,p)}(i,a,ln(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,r?s:Z.min(),r?o:ne())).next(u=>(GP(i,FR(e),u),{documents:u,Ts:o})))}function GP(t,e,r){let i=t.us.get(e)||Z.min();r.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}class Ry{constructor(){this.activeTargetIds=WR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(){this.so=new Ry,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,i){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ry,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=null;function th(){return rl===null?rl=function(){return 268435456+Math.round(2147483648*Math.random())}():rl++,"0x"+rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class ZP extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const i=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+r.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(r,i,s,o,a){const u=th(),c=this.xo(r,i.toUriEncodedString());q("RestConnection",`Sending RPC '${r}' ${u}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,a),this.No(r,c,d,s).then(p=>(q("RestConnection",`Received RPC '${r}' ${u}: `,p),p),p=>{throw ss("RestConnection",`RPC '${r}' ${u} failed with error: `,p,"url: ",c,"request:",s),p})}Lo(r,i,s,o,a,u){return this.Mo(r,i,s,o,a)}Oo(r,i,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>r[a]=o),s&&s.headers.forEach((o,a)=>r[a]=o)}xo(r,i){const s=XP[r];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,i,s){const o=th();return new Promise((a,u)=>{const c=new nE;c.setWithCredentials(!0),c.listenOnce(rE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vl.NO_ERROR:const p=c.getResponseJson();q(rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case vl.TIMEOUT:q(rt,`RPC '${e}' ${o} timed out`),u(new W(M.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:const m=c.getStatus();if(q(rt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const P=function(b){const I=b.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(I)>=0?I:M.UNKNOWN}(S.status);u(new W(P,S.message))}else u(new W(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new W(M.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(rt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);q(rt,`RPC '${e}' ${o} sending request:`,s),c.send(r,"POST",d,i,15)})}Bo(e,r,i){const s=th(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oE(),u=sE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,i),c.encodeInitMessageHeaders=!0;const p=o.join("");q(rt,`Creating RPC '${e}' stream ${s}: ${p}`,c);const m=a.createWebChannel(p,c);let g=!1,S=!1;const P=new YP({Io:b=>{S?q(rt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(g||(q(rt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),q(rt,`RPC '${e}' stream ${s} sending:`,b),m.send(b))},To:()=>m.close()}),D=(b,I,_)=>{b.listen(I,R=>{try{_(R)}catch(L){setTimeout(()=>{throw L},0)}})};return D(m,ro.EventType.OPEN,()=>{S||(q(rt,`RPC '${e}' stream ${s} transport opened.`),P.yo())}),D(m,ro.EventType.CLOSE,()=>{S||(S=!0,q(rt,`RPC '${e}' stream ${s} transport closed`),P.So())}),D(m,ro.EventType.ERROR,b=>{S||(S=!0,ss(rt,`RPC '${e}' stream ${s} transport errored:`,b),P.So(new W(M.UNAVAILABLE,"The operation could not be completed")))}),D(m,ro.EventType.MESSAGE,b=>{var I;if(!S){const _=b.data[0];he(!!_);const R=_,L=R.error||((I=R[0])===null||I===void 0?void 0:I.error);if(L){q(rt,`RPC '${e}' stream ${s} received error:`,L);const B=L.status;let j=function(T){const A=xe[T];if(A!==void 0)return xE(A)}(B),w=L.message;j===void 0&&(j=M.INTERNAL,w="Unknown error status: "+B+" with message "+L.message),S=!0,P.So(new W(j,w)),m.close()}else q(rt,`RPC '${e}' stream ${s} received:`,_),P.bo(_)}}),D(u,iE.STAT_EVENT,b=>{b.stat===ad.PROXY?q(rt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===ad.NOPROXY&&q(rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){return new uP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,r,i=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=r,this.ko=i,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-i);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,r,i,s,o,a,u,c){this.ui=e,this.Ho=i,this.Jo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $E(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===M.RESOURCE_EXHAUSTED?(Dn(r.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===r&&this.P_(i,s)},i=>{e(()=>{const s=new W(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,r){const i=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ek extends WE{constructor(e,r,i,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,s,a),this.serializer=o}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=dP(this.serializer,e),i=function(o){if(!("targetChange"in o))return Z.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Z.min():a.readTime?un(a.readTime):Z.min()}(e);return this.listener.d_(r,i)}A_(e){const r={};r.database=gd(this.serializer),r.addTarget=function(o,a){let u;const c=a.target;if(u=hd(c)?{documents:mP(o,c)}:{query:gP(o,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=bE(o,a.resumeToken);const d=fd(o,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(Z.min())>0){u.readTime=uu(o,a.snapshotVersion.toTimestamp());const d=fd(o,a.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const i=vP(this.serializer,e);i&&(r.labels=i),this.a_(r)}R_(e){const r={};r.database=gd(this.serializer),r.removeTarget=e,this.a_(r)}}class tk extends WE{constructor(e,r,i,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,s,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return he(!!e.streamToken),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=pP(e.writeResults,e.commitTime),i=un(e.commitTime);return this.listener.g_(i,r)}p_(){const e={};e.database=gd(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(i=>fP(this.serializer,i))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk extends class{}{constructor(e,r,i,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,pd(r,i),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(M.UNKNOWN,o.toString())})}Lo(e,r,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,pd(r,i),s,a,u,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new W(M.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rk{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dn(r),this.D_=!1):q("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,r,i,s,o){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget(async()=>{hi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=ee(c);d.L_.add(4),await ca(d),d.q_.set("Unknown"),d.L_.delete(4),await Wu(d)}(this))})}),this.q_=new rk(i,s)}}async function Wu(t){if(hi(t))for(const e of t.B_)await e(!0)}async function ca(t){for(const e of t.B_)await e(!1)}function HE(t,e){const r=ee(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),np(r)?tp(r):Is(r).r_()&&ep(r,e))}function Zf(t,e){const r=ee(t),i=Is(r);r.N_.delete(e),i.r_()&&qE(r,e),r.N_.size===0&&(i.r_()?i.o_():hi(r)&&r.q_.set("Unknown"))}function ep(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Is(t).A_(e)}function qE(t,e){t.Q_.xe(e),Is(t).R_(e)}function tp(t){t.Q_=new sP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Is(t).start(),t.q_.v_()}function np(t){return hi(t)&&!Is(t).n_()&&t.N_.size>0}function hi(t){return ee(t).L_.size===0}function KE(t){t.Q_=void 0}async function sk(t){t.q_.set("Online")}async function ok(t){t.N_.forEach((e,r)=>{ep(t,e)})}async function ak(t,e){KE(t),np(t)?(t.q_.M_(e),tp(t)):t.q_.set("Unknown")}async function lk(t,e,r){if(t.q_.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const u of o.targetIds)s.N_.has(u)&&(await s.remoteSyncer.rejectListen(u,a),s.N_.delete(u),s.Q_.removeTarget(u))}(t,e)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await cu(t,i)}else if(e instanceof wl?t.Q_.Ke(e):e instanceof DE?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Z.min()))try{const i=await zE(t.localStore);r.compareTo(i)>=0&&await function(o,a){const u=o.Q_.rt(a);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,d)=>{const p=o.N_.get(c);if(!p)return;o.N_.set(c,p.withResumeToken(Xe.EMPTY_BYTE_STRING,p.snapshotVersion)),qE(o,c);const m=new sr(p.target,c,d,p.sequenceNumber);ep(o,m)}),o.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(i){q("RemoteStore","Failed to raise snapshot:",i),await cu(t,i)}}async function cu(t,e,r){if(!aa(e))throw e;t.L_.add(1),await ca(t),t.q_.set("Offline"),r||(r=()=>zE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Wu(t)})}function GE(t,e){return e().catch(r=>cu(t,r,e))}async function Hu(t){const e=ee(t),r=Sr(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uk(e);)try{const s=await qP(e.localStore,i);if(s===null){e.O_.length===0&&r.o_();break}i=s.batchId,ck(e,s)}catch(s){await cu(e,s)}QE(e)&&JE(e)}function uk(t){return hi(t)&&t.O_.length<10}function ck(t,e){t.O_.push(e);const r=Sr(t);r.r_()&&r.V_&&r.m_(e.mutations)}function QE(t){return hi(t)&&!Sr(t).n_()&&t.O_.length>0}function JE(t){Sr(t).start()}async function hk(t){Sr(t).p_()}async function dk(t){const e=Sr(t);for(const r of t.O_)e.m_(r.mutations)}async function fk(t,e,r){const i=t.O_.shift(),s=Kf.from(i,e,r);await GE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Hu(t)}async function pk(t,e){e&&Sr(t).V_&&await async function(i,s){if(function(a){return nP(a)&&a!==M.ABORTED}(s.code)){const o=i.O_.shift();Sr(i).s_(),await GE(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Hu(i)}}(t,e),QE(t)&&JE(t)}async function ky(t,e){const r=ee(t);r.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const i=hi(r);r.L_.add(3),await ca(r),i&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Wu(r)}async function mk(t,e){const r=ee(t);e?(r.L_.delete(2),await Wu(r)):e||(r.L_.add(2),await ca(r),r.q_.set("Unknown"))}function Is(t){return t.K_||(t.K_=function(r,i,s){const o=ee(r);return o.w_(),new ek(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:sk.bind(null,t),Ro:ok.bind(null,t),mo:ak.bind(null,t),d_:lk.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),np(t)?tp(t):t.q_.set("Unknown")):(await t.K_.stop(),KE(t))})),t.K_}function Sr(t){return t.U_||(t.U_=function(r,i,s){const o=ee(r);return o.w_(),new tk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hk.bind(null,t),mo:pk.bind(null,t),f_:dk.bind(null,t),g_:fk.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hu(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r,i,s,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,s,o){const a=Date.now()+i,u=new rp(e,r,a,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),aa(t))return new W(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.comparator=e?(r,i)=>e(r,i)||K.comparator(r.key,i.key):(r,i)=>K.comparator(r.key,i.key),this.keyedMap=io(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new Ki(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new Ki;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.W_=new Ae(K.comparator)}track(e){const r=e.doc.key,i=this.W_.get(r);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(r,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(r):e.type===1&&i.type===2?this.W_=this.W_.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,i)=>{e.push(i)}),e}}class cs{constructor(e,r,i,s,o,a,u,c,d){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,i,s,o){const a=[];return r.forEach(u=>{a.push({type:0,doc:u})}),new cs(e,r,Ki.emptySet(r),a,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==i[s].type||!r[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yk{constructor(){this.queries=xy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,i){const s=ee(r),o=s.queries;s.queries=xy(),o.forEach((a,u)=>{for(const c of u.j_)c.onError(i)})})(this,new W(M.ABORTED,"Firestore shutting down"))}}function xy(){return new Ts(t=>_E(t),Fu)}async function XE(t,e){const r=ee(t);let i=3;const s=e.query;let o=r.queries.get(s);o?!o.H_()&&e.J_()&&(i=2):(o=new gk,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await r.onListen(s,!0);break;case 1:o.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(a){const u=ip(a,`Initialization of query '${Si(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,o),o.j_.push(e),e.Z_(r.onlineState),o.z_&&e.X_(o.z_)&&sp(r)}async function YE(t,e){const r=ee(t),i=e.query;let s=3;const o=r.queries.get(i);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function vk(t,e){const r=ee(t);let i=!1;for(const s of e){const o=s.query,a=r.queries.get(o);if(a){for(const u of a.j_)u.X_(s)&&(i=!0);a.z_=s}}i&&sp(r)}function _k(t,e,r){const i=ee(t),s=i.queries.get(e);if(s)for(const o of s.j_)o.onError(r);i.queries.delete(e)}function sp(t){t.Y_.forEach(e=>{e.next()})}var vd,Dy;(Dy=vd||(vd={})).ea="default",Dy.Cache="cache";class ZE{constructor(e,r,i){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new cs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const i=r!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.key=e}}class tw{constructor(e){this.key=e}}class Ek{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ne(),this.mutatedKeys=ne(),this.Aa=EE(e),this.Ra=new Ki(this.Aa)}get Va(){return this.Ta}ma(e,r){const i=r?r.fa:new Ny,s=r?r.Ra:this.Ra;let o=r?r.mutatedKeys:this.mutatedKeys,a=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,m)=>{const g=s.get(p),S=Uu(this.query,m)?m:null,P=!!g&&this.mutatedKeys.has(g.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;g&&S?g.data.isEqual(S.data)?P!==D&&(i.track({type:3,doc:S}),b=!0):this.ga(g,S)||(i.track({type:2,doc:S}),b=!0,(c&&this.Aa(S,c)>0||d&&this.Aa(S,d)<0)&&(u=!0)):!g&&S?(i.track({type:0,doc:S}),b=!0):g&&!S&&(i.track({type:1,doc:g}),b=!0,(c||d)&&(u=!0)),b&&(S?(a=a.add(S),o=D?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{Ra:a,fa:i,ns:u,mutatedKeys:o}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,m)=>function(S,P){const D=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return D(S)-D(P)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(i),s=s!=null&&s;const u=r&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new cs(this.query,e.Ra,o,a,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ny,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ne(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const r=[];return e.forEach(i=>{this.da.has(i)||r.push(new tw(i))}),this.da.forEach(i=>{e.has(i)||r.push(new ew(i))}),r}ba(e){this.Ta=e.Ts,this.da=ne();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wk{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class Tk{constructor(e){this.key=e,this.va=!1}}class Ik{constructor(e,r,i,s,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ts(u=>_E(u),Fu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae(K.comparator),this.Na=new Map,this.La=new Jf,this.Ba={},this.ka=new Map,this.qa=us.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Sk(t,e,r=!0){const i=aw(t);let s;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await nw(i,e,r,!0),s}async function Ak(t,e){const r=aw(t);await nw(r,e,!0,!1)}async function nw(t,e,r,i){const s=await KP(t.localStore,ln(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let u;return i&&(u=await Ck(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&r&&HE(t.remoteStore,s),u}async function Ck(t,e,r,i,s){t.Ka=(m,g,S)=>async function(D,b,I,_){let R=b.view.ma(I);R.ns&&(R=await Cy(D.localStore,b.query,!1).then(({documents:w})=>b.view.ma(w,R)));const L=_&&_.targetChanges.get(b.targetId),B=_&&_.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(R,D.isPrimaryClient,L,B);return by(D,b.targetId,j.wa),j.snapshot}(t,m,g,S);const o=await Cy(t.localStore,e,!0),a=new Ek(e,o.Ts),u=a.ma(o.documents),c=ua.createSynthesizedTargetChangeForCurrentChange(r,i&&t.onlineState!=="Offline",s),d=a.applyChanges(u,t.isPrimaryClient,c);by(t,r,d.wa);const p=new wk(e,r,a);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function Rk(t,e,r){const i=ee(t),s=i.Fa.get(e),o=i.Ma.get(s.targetId);if(o.length>1)return i.Ma.set(s.targetId,o.filter(a=>!Fu(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await yd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),r&&Zf(i.remoteStore,s.targetId),_d(i,s.targetId)}).catch(oa)):(_d(i,s.targetId),await yd(i.localStore,s.targetId,!0))}async function Pk(t,e){const r=ee(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),Zf(r.remoteStore,i.targetId))}async function kk(t,e,r){const i=Lk(t);try{const s=await function(a,u){const c=ee(a),d=Me.now(),p=u.reduce((S,P)=>S.add(P.key),ne());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=On(),D=ne();return c.cs.getEntries(S,p).next(b=>{P=b,P.forEach((I,_)=>{_.isValidDocument()||(D=D.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(S,P)).next(b=>{m=b;const I=[];for(const _ of u){const R=XR(_,m.get(_.key).overlayedDocument);R!=null&&I.push(new Nr(_.key,R,hE(R.value.mapValue),Xt.exists(!0)))}return c.mutationQueue.addMutationBatch(S,d,I,u)}).next(b=>{g=b;const I=b.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(S,b.batchId,I)})}).then(()=>({batchId:g.batchId,changes:TE(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,u,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new Ae(ae)),d=d.insert(u,c),a.Ba[a.currentUser.toKey()]=d}(i,s.batchId,r),await ha(i,s.changes),await Hu(i.remoteStore)}catch(s){const o=ip(s,"Failed to persist write");r.reject(o)}}async function rw(t,e){const r=ee(t);try{const i=await WP(r.localStore,e);e.targetChanges.forEach((s,o)=>{const a=r.Na.get(o);a&&(he(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?he(a.va):s.removedDocuments.size>0&&(he(a.va),a.va=!1))}),await ha(r,i,e)}catch(i){await oa(i)}}function Oy(t,e,r){const i=ee(t);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const s=[];i.Fa.forEach((o,a)=>{const u=a.view.Z_(e);u.snapshot&&s.push(u.snapshot)}),function(a,u){const c=ee(a);c.onlineState=u;let d=!1;c.queries.forEach((p,m)=>{for(const g of m.j_)g.Z_(u)&&(d=!0)}),d&&sp(c)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Nk(t,e,r){const i=ee(t);i.sharedClientState.updateQueryState(e,"rejected",r);const s=i.Na.get(e),o=s&&s.key;if(o){let a=new Ae(K.comparator);a=a.insert(o,ot.newNoDocument(o,Z.min()));const u=ne().add(o),c=new zu(Z.min(),new Map,new Ae(ae),a,u);await rw(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),op(i)}else await yd(i.localStore,e,!1).then(()=>_d(i,e,r)).catch(oa)}async function xk(t,e){const r=ee(t),i=e.batch.batchId;try{const s=await $P(r.localStore,e);sw(r,i,null),iw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await ha(r,s)}catch(s){await oa(s)}}async function Dk(t,e,r){const i=ee(t);try{const s=await function(a,u){const c=ee(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,u).next(m=>(he(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(i.localStore,e);sw(i,e,r),iw(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await ha(i,s)}catch(s){await oa(s)}}function iw(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function sw(t,e,r){const i=ee(t);let s=i.Ba[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(r?o.reject(r):o.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function _d(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),r&&t.Ca.$a(i,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||ow(t,i)})}function ow(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Zf(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),op(t))}function by(t,e,r){for(const i of r)i instanceof ew?(t.La.addReference(i.key,e),Ok(t,i)):i instanceof tw?(q("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||ow(t,i.key)):X()}function Ok(t,e){const r=e.key,i=r.path.canonicalString();t.Oa.get(r)||t.xa.has(i)||(q("SyncEngine","New document in limbo: "+r),t.xa.add(i),op(t))}function op(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new K(_e.fromString(e)),i=t.qa.next();t.Na.set(i,new Tk(r)),t.Oa=t.Oa.insert(r,i),HE(t.remoteStore,new sr(ln(Wf(r.path)),i,"TargetPurposeLimboResolution",Ff.oe))}}async function ha(t,e,r){const i=ee(t),s=[],o=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((u,c)=>{a.push(i.Ka(c,e,r).then(d=>{var p;if((d||r)&&i.isPrimaryClient){const m=d?!d.fromCache:(p=r==null?void 0:r.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Yf.Wi(c.targetId,d);o.push(m)}}))}),await Promise.all(a),i.Ca.d_(s),await async function(c,d){const p=ee(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(d,g=>F.forEach(g.$i,S=>p.persistence.referenceDelegate.addReference(m,g.targetId,S)).next(()=>F.forEach(g.Ui,S=>p.persistence.referenceDelegate.removeReference(m,g.targetId,S)))))}catch(m){if(!aa(m))throw m;q("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const S=p.os.get(g),P=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(P);p.os=p.os.insert(g,D)}}}(i.localStore,o))}async function bk(t,e){const r=ee(t);if(!r.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const i=await BE(r.localStore,e);r.currentUser=e,function(o,a){o.ka.forEach(u=>{u.forEach(c=>{c.reject(new W(M.CANCELLED,a))})}),o.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ha(r,i.hs)}}function Vk(t,e){const r=ee(t),i=r.Na.get(e);if(i&&i.va)return ne().add(i.key);{let s=ne();const o=r.Ma.get(e);if(!o)return s;for(const a of o){const u=r.Fa.get(a);s=s.unionWith(u.view.Va)}return s}}function aw(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nk.bind(null,e),e.Ca.d_=vk.bind(null,e.eventManager),e.Ca.$a=_k.bind(null,e.eventManager),e}function Lk(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dk.bind(null,e),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$u(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return zP(this.persistence,new jP,e.initialUser,this.serializer)}Ga(e){return new MP(Xf.Zr,this.serializer)}Wa(e){return new QP}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class Ed{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Oy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bk.bind(null,this.syncEngine),await mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yk}()}createDatastore(e){const r=$u(e.databaseInfo.databaseId),i=function(o){return new ZP(o)}(e.databaseInfo);return function(o,a,u,c){return new nk(o,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return function(i,s,o,a,u){return new ik(i,s,o,a,u)}(this.localStore,this.datastore,e.asyncQueue,r=>Oy(this.syncEngine,r,0),function(){return Py.D()?new Py:new JP}())}createSyncEngine(e,r){return function(s,o,a,u,c,d,p){const m=new Ik(s,o,a,u,c,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const o=ee(s);q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ca(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ed.provider={build:()=>new Ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,r,i,s,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=s,this.user=it.UNAUTHENTICATED,this.clientId=lE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async a=>{q("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=ip(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function rh(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let i=r.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await BE(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vy(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Fk(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(i=>ky(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ky(e.remoteStore,s)),t._onlineComponents=e}async function Fk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===M.FAILED_PRECONDITION||s.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;ss("Error using user provided cache. Falling back to memory cache: "+r),await rh(t,new hu)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await rh(t,new hu);return t._offlineComponents}async function uw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Vy(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Vy(t,new Ed))),t._onlineComponents}function Uk(t){return uw(t).then(e=>e.syncEngine)}async function cw(t){const e=await uw(t),r=e.eventManager;return r.onListen=Sk.bind(null,e.syncEngine),r.onUnlisten=Rk.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ak.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Pk.bind(null,e.syncEngine),r}function jk(t,e,r={}){const i=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,c,d){const p=new lw({next:g=>{p.Za(),a.enqueueAndForget(()=>YE(o,m));const S=g.docs.has(u);!S&&g.fromCache?d.reject(new W(M.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&g.fromCache&&c&&c.source==="server"?d.reject(new W(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new ZE(Wf(u.path),p,{includeMetadataChanges:!0,_a:!0});return XE(o,m)}(await cw(t),t.asyncQueue,e,r,i)),i.promise}function Bk(t,e,r={}){const i=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,c,d){const p=new lw({next:g=>{p.Za(),a.enqueueAndForget(()=>YE(o,m)),g.fromCache&&c.source==="server"?d.reject(new W(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new ZE(u,p,{includeMetadataChanges:!0,_a:!0});return XE(o,m)}(await cw(t),t.asyncQueue,e,r,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t,e,r){if(!r)throw new W(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zk(t,e,r,i){if(e===!0&&i===!0)throw new W(M.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function My(t){if(!K.isDocumentKey(t))throw new W(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fy(t){if(K.isDocumentKey(t))throw new W(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qu(t);throw new W(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new W(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,r,i,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oR;switch(i.type){case"firstParty":return new cR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new W(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=Ly.get(r);i&&(q("ComponentProvider","Removing Datastore"),Ly.delete(r),i.terminate())}(this),Promise.resolve()}}function $k(t,e,r,i={}){var s;const o=(t=bn(t,Ku))._getSettings(),a=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let u,c;if(typeof i.mockUserToken=="string")u=i.mockUserToken,c=it.MOCK_USER;else{u=bA(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new W(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(d)}t._authCredentials=new aR(new aE(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xr(this.firestore,e,this._query)}}class St{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class vr extends xr{constructor(e,r,i){super(e,r,Wf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new K(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function Gu(t,e,...r){if(t=ze(t),dw("collection","path",e),t instanceof Ku){const i=_e.fromString(e,...r);return Fy(i),new vr(t,null,i)}{if(!(t instanceof St||t instanceof vr))throw new W(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_e.fromString(e,...r));return Fy(i),new vr(t.firestore,null,i)}}function Qu(t,e,...r){if(t=ze(t),arguments.length===1&&(e=lE.newId()),dw("doc","path",e),t instanceof Ku){const i=_e.fromString(e,...r);return My(i),new St(t,null,new K(i))}{if(!(t instanceof St||t instanceof vr))throw new W(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(_e.fromString(e,...r));return My(i),new St(t.firestore,t instanceof vr?t.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $E(this,"async_queue_retry"),this.Vu=()=>{const i=nh();i&&q("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const r=nh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=nh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!aa(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(i);throw Dn("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=r,r}enqueueAfterDelay(e,r,i){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=rp.createAndSchedule(this,e,r,i,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Ss extends Ku{constructor(e,r,i,s){super(e,r,i,s),this.type="firestore",this._queue=new jy,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jy(e),this._firestoreClient=void 0,await e}}}function Wk(t,e){const r=typeof t=="object"?t:Y0(),i=typeof t=="string"?t:"(default)",s=Lf(r,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=DA("firestore");o&&$k(s,...o)}return s}function ap(t){if(t._terminated)throw new W(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Hk(t),t._firestoreClient}function Hk(t){var e,r,i;const s=t._freezeSettings(),o=function(u,c,d,p){return new IR(u,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,hw(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Mk(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(Xe.fromBase64String(e))}catch(r){throw new W(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hs(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new W(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new W(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new W(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^__.*__$/;class Kk{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,r,this.fieldTransforms):new la(e,this.data,r,this.fieldTransforms)}}class fw{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new Nr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function pw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class hp{constructor(e,r,i,s,o,a){this.settings=e,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:i,xu:!1});return s.Ou(e),s}Nu(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:i,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return du(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pw(this.Cu)&&qk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=i||$u(e)}Qu(e,r,i,s=!1){return new hp({Cu:e,methodName:r,qu:i,path:Ke.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dp(t){const e=t._freezeSettings(),r=$u(t._databaseId);return new Gk(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Qk(t,e,r,i,s,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,r,s);fp("Data must be an object, but it was:",a,i);const u=mw(i,a);let c,d;if(o.merge)c=new Pt(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const m of o.mergeFields){const g=wd(e,m,r);if(!a.contains(g))throw new W(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yw(p,g)||p.push(g)}c=new Pt(p),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new Kk(new _t(u),c,d)}class Xu extends lp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xu}}function Jk(t,e,r,i){const s=t.Qu(1,e,r);fp("Data must be an object, but it was:",s,i);const o=[],a=_t.empty();ci(i,(c,d)=>{const p=pp(e,c,r);d=ze(d);const m=s.Nu(p);if(d instanceof Xu)o.push(p);else{const g=da(d,m);g!=null&&(o.push(p),a.set(p,g))}});const u=new Pt(o);return new fw(a,u,s.fieldTransforms)}function Xk(t,e,r,i,s,o){const a=t.Qu(1,e,r),u=[wd(e,i,r)],c=[s];if(o.length%2!=0)throw new W(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)u.push(wd(e,o[g])),c.push(o[g+1]);const d=[],p=_t.empty();for(let g=u.length-1;g>=0;--g)if(!yw(d,u[g])){const S=u[g];let P=c[g];P=ze(P);const D=a.Nu(S);if(P instanceof Xu)d.push(S);else{const b=da(P,D);b!=null&&(d.push(S),p.set(S,b))}}const m=new Pt(d);return new fw(p,m,a.fieldTransforms)}function Yk(t,e,r,i=!1){return da(r,t.Qu(i?4:3,e))}function da(t,e){if(gw(t=ze(t)))return fp("Unsupported field value:",e,t),mw(t,e);if(t instanceof lp)return function(i,s){if(!pw(s.Cu))throw s.Bu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,s){const o=[];let a=0;for(const u of i){let c=da(u,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return HR(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Me.fromDate(i);return{timestampValue:uu(s.serializer,o)}}if(i instanceof Me){const o=new Me(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uu(s.serializer,o)}}if(i instanceof up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hs)return{bytesValue:bE(s.serializer,i._byteString)};if(i instanceof St){const o=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qf(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof cp)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return Hf(u.serializer,c)})}}}}}}(i,s);throw s.Bu(`Unsupported field value: ${qu(i)}`)}(t,e)}function mw(t,e){const r={};return uE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(t,(i,s)=>{const o=da(s,e.Mu(i));o!=null&&(r[i]=o)}),{mapValue:{fields:r}}}function gw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof up||t instanceof hs||t instanceof St||t instanceof lp||t instanceof cp)}function fp(t,e,r){if(!gw(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const i=qu(r);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function wd(t,e,r){if((e=ze(e))instanceof Ju)return e._internalPath;if(typeof e=="string")return pp(t,e);throw du("Field path arguments must be of type string or ",t,!1,void 0,r)}const Zk=new RegExp("[~\\*/\\[\\]]");function pp(t,e,r){if(e.search(Zk)>=0)throw du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Ju(...e.split("."))._internalPath}catch{throw du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function du(t,e,r,i,s){const o=i&&!i.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${i}`),a&&(c+=` in document ${s}`),c+=")"),new W(M.INVALID_ARGUMENT,u+t+c)}function yw(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,r,i,s,o){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class eN extends vw{data(){return super.data()}}function mp(t,e){return typeof e=="string"?pp(t,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class yp extends gp{}function nN(t,e,...r){let i=[];e instanceof gp&&i.push(e),i=i.concat(r),function(o){const a=o.filter(c=>c instanceof _p).length,u=o.filter(c=>c instanceof vp).length;if(a>1||a>0&&u>0)throw new W(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class vp extends yp{constructor(e,r,i){super(),this._field=e,this._op=r,this._value=i,this.type="where"}static _create(e,r,i){return new vp(e,r,i)}_apply(e){const r=this._parse(e);return _w(e._query,r),new xr(e.firestore,e.converter,dd(e._query,r))}_parse(e){const r=dp(e.firestore);return function(o,a,u,c,d,p,m){let g;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new W(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){zy(m,p);const S=[];for(const P of m)S.push(By(c,o,P));g={arrayValue:{values:S}}}else g=By(c,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||zy(m,p),g=Yk(u,a,m,p==="in"||p==="not-in");return Oe.create(d,p,g)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class _p extends gp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new _p(e,r)}_parse(e){const r=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return r.length===1?r[0]:Zt.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,o){let a=s;const u=o.getFlattenedFilters();for(const c of u)_w(a,c),a=dd(a,c)}(e._query,r),new xr(e.firestore,e.converter,dd(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends yp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ep(e,r)}_apply(e){const r=function(s,o,a){if(s.startAt!==null)throw new W(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(o,a)}(e._query,this._field,this._direction);return new xr(e.firestore,e.converter,function(s,o){const a=s.explicitOrderBy.concat([o]);return new ws(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function rN(t,e="asc"){const r=e,i=mp("orderBy",t);return Ep._create(i,r)}class wp extends yp{constructor(e,r,i){super(),this.type=e,this._limit=r,this._limitType=i}static _create(e,r,i){return new wp(e,r,i)}_apply(e){return new xr(e.firestore,e.converter,ou(e._query,this._limit,this._limitType))}}function iN(t){return wp._create("limit",t,"F")}function By(t,e,r){if(typeof(r=ze(r))=="string"){if(r==="")throw new W(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&r.indexOf("/")!==-1)throw new W(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=e.path.child(_e.fromString(r));if(!K.isDocumentKey(i))throw new W(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return uy(t,new K(i))}if(r instanceof St)return uy(t,r._key);throw new W(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qu(r)}.`)}function zy(t,e){if(!Array.isArray(t)||t.length===0)throw new W(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _w(t,e){const r=function(s,o){for(const a of s)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new W(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class sN{convertValue(e,r="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return ci(e,(s,o)=>{i[s]=this.convertValue(o,r)}),i}convertVectorValue(e){var r,i,s;const o=(s=(i=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Pe(a.doubleValue));return new cp(o)}convertGeoPoint(e){return new up(Pe(e.latitude),Pe(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=jf(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(Ho(e));default:return null}}convertTimestamp(e){const r=Ir(e);return new Me(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=_e.fromString(e);he(jE(i));const s=new qo(i.get(1),i.get(3)),o=new K(i.popFirst(5));return s.isEqual(r)||Dn(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e,r){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ew extends vw{constructor(e,r,i,s,o,a){super(e,r,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(mp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class Tl extends Ew{data(e={}){return super.data(e)}}class aN{constructor(e,r,i,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new oo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new Tl(this._firestore,this._userDataWriter,i.key,i,new oo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new W(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(u=>{const c=new Tl(s._firestore,s._userDataWriter,u.doc.key,u.doc,new oo(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const c=new Tl(s._firestore,s._userDataWriter,u.doc.key,u.doc,new oo(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:lN(u.type),doc:c,oldIndex:d,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function lN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){t=bn(t,St);const e=bn(t.firestore,Ss);return jk(ap(e),t._key).then(r=>fN(e,t,r))}class ww extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,r)}}function Tp(t){t=bn(t,xr);const e=bn(t.firestore,Ss),r=ap(e),i=new ww(e);return tN(t._query),Bk(r,t._query).then(s=>new aN(e,i,t,s))}function cN(t,e,r,...i){t=bn(t,St);const s=bn(t.firestore,Ss),o=dp(s);let a;return a=typeof(e=ze(e))=="string"||e instanceof Ju?Xk(o,"updateDoc",t._key,e,r,i):Jk(o,"updateDoc",t._key,e),Ip(s,[a.toMutation(t._key,Xt.exists(!0))])}function hN(t){return Ip(bn(t.firestore,Ss),[new qf(t._key,Xt.none())])}function dN(t,e){const r=bn(t.firestore,Ss),i=Qu(t),s=oN(t.converter,e);return Ip(r,[Qk(dp(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Xt.exists(!1))]).then(()=>i)}function Ip(t,e){return function(i,s){const o=new Cn;return i.asyncQueue.enqueueAndForget(async()=>kk(await Uk(i),s,o)),o.promise}(ap(t),e)}function fN(t,e,r){const i=r.docs.get(e._key),s=new ww(t);return new Ew(t,s,e._key,i,new oo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(s){Es=s})(_s),is(new ri("firestore",(i,{instanceIdentifier:s,options:o})=>{const a=i.getProvider("app").getImmediate(),u=new Ss(new lR(i.getProvider("auth-internal")),new dR(i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(d.options.projectId,p)}(a,s),a);return o=Object.assign({useFetchStreams:r},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),yr(iy,"4.7.3",e),yr(iy,"4.7.3","esm2017")})();function Sp(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r}function Tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=Tw,Iw=new ia("auth","Firebase",Tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new bf("@firebase/auth");function mN(t,...e){fu.logLevel<=re.WARN&&fu.warn(`Auth (${_s}): ${t}`,...e)}function Il(t,...e){fu.logLevel<=re.ERROR&&fu.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,...e){throw Ap(t,...e)}function cn(t,...e){return Ap(t,...e)}function Sw(t,e,r){const i=Object.assign(Object.assign({},pN()),{[e]:r});return new ia("auth","Firebase",i).create(e,{appName:t.name})}function _r(t){return Sw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(t,...e){if(typeof t!="string"){const r=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(r,...i)}return Iw.create(t,...e)}function J(t,e,...r){if(!t)throw Ap(e,...r)}function Tn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function Vn(t,e){t||Tn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gN(){return $y()==="http:"||$y()==="https:"}function $y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||FA()||"connection"in navigator)?navigator.onLine:!0}function vN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,r){this.shortDelay=e,this.longDelay=r,Vn(r>e,"Short delay should be less than long delay!"),this.isMobile=VA()||UA()}get(){return yN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static initialize(e,r,i){this.fetchImpl=e,r&&(this.headersImpl=r),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new fa(3e4,6e4);function Dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jn(t,e,r,i,s={}){return Cw(t,s,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=sa(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},o);return MA()||(d.referrerPolicy="no-referrer"),Aw.fetch()(Rw(t,t.config.apiHost,r,u),d)})}async function Cw(t,e,r){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},_N),e);try{const s=new TN(t),o=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw il(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw il(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw il(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw il(t,"user-disabled",a);const p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Sw(t,p,d);en(t,p)}}catch(s){if(s instanceof Un)throw s;en(t,"network-request-failed",{message:String(s)})}}async function Yu(t,e,r,i,s={}){const o=await jn(t,e,r,i,s);return"mfaPendingCredential"in o&&en(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Rw(t,e,r,i){const s=`${e}${r}?${i}`;return t.config.emulator?Cp(t.config,s):`${t.config.apiScheme}://${s}`}function wN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,i)=>{this.timer=setTimeout(()=>i(cn(this.auth,"network-request-failed")),EN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function il(t,e,r){const i={appName:t.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);const s=cn(t,e,i);return s.customData._tokenResponse=r,s}function Wy(t){return t!==void 0&&t.enterprise!==void 0}class IN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return wN(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function SN(t,e){return jn(t,"GET","/v2/recaptchaConfig",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){return jn(t,"POST","/v1/accounts:delete",e)}async function Pw(t,e){return jn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CN(t,e=!1){const r=ze(t),i=await r.getIdToken(e),s=Rp(i);J(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:To(ih(s.auth_time)),issuedAtTime:To(ih(s.iat)),expirationTime:To(ih(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ih(t){return Number(t)*1e3}function Rp(t){const[e,r,i]=t.split(".");if(e===void 0||r===void 0||i===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const s=H0(r);return s?JSON.parse(s):(Il("Failed to decode base64 JWT payload"),null)}catch(s){return Il("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Hy(t){const e=Rp(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,r=!1){if(r)return e;try{return await e}catch(i){throw i instanceof Un&&RN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function RN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){var e;const r=t.auth,i=await t.getIdToken(),s=await Xo(t,Pw(r,{idToken:i}));J(s==null?void 0:s.users.length,r,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?kw(o.providerUserInfo):[],u=NN(t.providerData,a),c=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Id(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function kN(t){const e=ze(t);await pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NN(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function kw(t){return t.map(e=>{var{providerId:r}=e,i=Sp(e,["providerId"]);return{providerId:r,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){const r=await Cw(t,{},async()=>{const i=sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=Rw(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Aw.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function DN(t,e){return jn(t,"POST","/v2/accounts:revokeToken",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){J(e.length!==0,"internal-error");const r=Hy(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:i,refreshToken:s,expiresIn:o}=await xN(e,r);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,r,i){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,r){const{refreshToken:i,accessToken:s,expirationTime:o}=r,a=new Gi;return i&&(J(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(J(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gi,this.toJSON())}_performRefresh(){return Tn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor(e){var{uid:r,auth:i,stsTokenManager:s}=e,o=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Id(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return J(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return CN(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new In(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),r&&await pu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await Xo(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var i,s,o,a,u,c,d,p;const m=(i=r.displayName)!==null&&i!==void 0?i:void 0,g=(s=r.email)!==null&&s!==void 0?s:void 0,S=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,P=(a=r.photoURL)!==null&&a!==void 0?a:void 0,D=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,I=(d=r.createdAt)!==null&&d!==void 0?d:void 0,_=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:R,emailVerified:L,isAnonymous:B,providerData:j,stsTokenManager:w}=r;J(R&&w,e,"internal-error");const v=Gi.fromJSON(this.name,w);J(typeof R=="string",e,"internal-error"),Kn(m,e.name),Kn(g,e.name),J(typeof L=="boolean",e,"internal-error"),J(typeof B=="boolean",e,"internal-error"),Kn(S,e.name),Kn(P,e.name),Kn(D,e.name),Kn(b,e.name),Kn(I,e.name),Kn(_,e.name);const T=new In({uid:R,auth:e,email:g,emailVerified:L,displayName:m,isAnonymous:B,photoURL:P,phoneNumber:S,tenantId:D,stsTokenManager:v,createdAt:I,lastLoginAt:_});return j&&Array.isArray(j)&&(T.providerData=j.map(A=>Object.assign({},A))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,r,i=!1){const s=new Gi;s.updateFromServerResponse(r);const o=new In({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await pu(o),o}static async _fromGetAccountInfoResponse(e,r,i){const s=r.users[0];J(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?kw(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Gi;u.updateFromIdToken(i);const c=new In({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Id(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;function Sn(t){Vn(t instanceof Function,"Expected a class definition");let e=qy.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Nw.type="NONE";const Ky=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,r){return`firebase:${t}:${e}:${r}`}class Qi{constructor(e,r,i){this.persistence=e,this.auth=r,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Sl(this.userKey,s.apiKey,o),this.fullPersistenceKey=Sl("persistence",s.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?In._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,i="authUser"){if(!r.length)return new Qi(Sn(Ky),e,i);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Sn(Ky);const a=Sl(i,e.config.apiKey,e.name);let u=null;for(const d of r)try{const p=await d._get(a);if(p){const m=In._fromJSON(e,p);d!==o&&(u=m),o=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Qi(o,e,i):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(r.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Qi(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lw(e))return"Blackberry";if(Mw(e))return"Webos";if(Dw(e))return"Safari";if((e.includes("chrome/")||Ow(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(r);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xw(t=lt()){return/firefox\//i.test(t)}function Dw(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ow(t=lt()){return/crios\//i.test(t)}function bw(t=lt()){return/iemobile/i.test(t)}function Vw(t=lt()){return/android/i.test(t)}function Lw(t=lt()){return/blackberry/i.test(t)}function Mw(t=lt()){return/webos/i.test(t)}function Pp(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ON(t=lt()){var e;return Pp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bN(){return jA()&&document.documentMode===10}function Fw(t=lt()){return Pp(t)||Vw(t)||Mw(t)||Lw(t)||/windows phone/i.test(t)||bw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e=[]){let r;switch(t){case"Browser":r=Gy(lt());break;case"Worker":r=`${Gy(lt())}-${t}`;break;default:r=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${_s}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const i=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});i.onAbort=r,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e={}){return jn(t,"GET","/v2/passwordPolicy",Dr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=6;class FN{constructor(e){var r,i,s,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:MN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,i,s,o,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(r.meetsMinPasswordLength=e.length>=i),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,r,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,r,i,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qy(this),this.idTokenSubscription=new Qy(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Sn(r)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Qi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Pw(this,{idToken:e}),i=await In._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(wn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(s=c.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await pu(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(_r(this));const r=e?ze(e):null;return r&&J(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LN(this),r=new FN(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,r,i){return this.registerStateListener(this.authStateSubscription,e,r,i)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,i){return this.registerStateListener(this.idTokenSubscription,e,r,i)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(i.tenantId=this.tenantId),await DN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const i=await this.getOrInitRedirectPersistenceManager(r);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Sn(e)||this._popupRedirectResolver;J(r,this,"argument-error"),this.redirectPersistenceManager=await Qi.create(this,[Sn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,i;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,i,s){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,i,s);return()=>{a=!0,c()}}else{const c=e.addObserver(r);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(r["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&mN(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function di(t){return ze(t)}class Qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=GA(r=>this.observer=r)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jN(t){Zu=t}function jw(t){return Zu.loadJS(t)}function BN(){return Zu.recaptchaEnterpriseScript}function zN(){return Zu.gapiScript}function $N(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WN="recaptcha-enterprise",HN="NO_RECAPTCHA";class qN{constructor(e){this.type=WN,this.auth=di(e)}async verify(e="verify",r=!1){async function i(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{SN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new IN(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function s(o,a,u){const c=window.grecaptcha;Wy(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(HN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(u=>{if(!r&&Wy(window.grecaptcha))s(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=BN();c.length!==0&&(c+=u),jw(c).then(()=>{s(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function Jy(t,e,r,i=!1){const s=new qN(t);let o;try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Sd(t,e,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jy(t,e,r,r==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Jy(t,e,r,r==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){const r=Lf(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),o=r.getOptions();if(nu(o,e??{}))return s;en(s,"already-initialized")}return r.initialize({options:e})}function GN(t,e){const r=(e==null?void 0:e.persistence)||[],i=(Array.isArray(r)?r:[r]).map(Sn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QN(t,e,r){const i=di(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=Bw(e),{host:a,port:u}=JN(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),XN()}function Bw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JN(t){const e=Bw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const i=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Xy(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Xy(a)}}}function Xy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XN(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Tn("not implemented")}_getIdTokenResponse(e){return Tn("not implemented")}_linkToIdToken(e,r){return Tn("not implemented")}_getReauthenticationResolver(e){return Tn("not implemented")}}async function YN(t,e){return jn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e){return Yu(t,"POST","/v1/accounts:signInWithPassword",Dr(t,e))}async function ex(t,e){return jn(t,"POST","/v1/accounts:sendOobCode",Dr(t,e))}async function tx(t,e){return ex(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(t,e){return Yu(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}async function rx(t,e){return Yu(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends kp{constructor(e,r,i,s=null){super("password",i),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Yo(e,r,"password")}static _fromEmailAndCode(e,r,i=null){return new Yo(e,r,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sd(e,r,"signInWithPassword",ZN);case"emailLink":return nx(e,{email:this._email,oobCode:this._password});default:en(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sd(e,i,"signUpPassword",YN);case"emailLink":return rx(e,{idToken:r,email:this._email,oobCode:this._password});default:en(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return Yu(t,"POST","/v1/accounts:signInWithIdp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="http://localhost";class ai extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):en("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=r,o=Sp(r,["providerId","signInMethod"]);if(!i||!s)return null;const a=new ai(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Ji(e,r)}_linkToIdToken(e,r){const i=this.buildRequest();return i.idToken=r,Ji(e,i)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ji(e,r)}buildRequest(){const e={requestUri:ix,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=sa(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ox(t){const e=to(no(t)).link,r=e?to(no(e)).deep_link_id:null,i=to(no(t)).deep_link_id;return(i?to(no(i)).link:null)||i||r||e||t}class Np{constructor(e){var r,i,s,o,a,u;const c=to(no(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,p=(i=c.oobCode)!==null&&i!==void 0?i:null,m=sx((s=c.mode)!==null&&s!==void 0?s:null);J(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=ox(e);try{return new Np(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.providerId=As.PROVIDER_ID}static credential(e,r){return Yo._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=Np.parseLink(r);return J(i,"argument-error"),Yo._fromEmailAndCode(e,i.code,i.tenantId)}}As.PROVIDER_ID="password";As.EMAIL_PASSWORD_SIGN_IN_METHOD="password";As.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends zw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends pa{constructor(){super("facebook.com")}static credential(e){return ai._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yn.credential(e.oauthAccessToken)}catch{return null}}}Yn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends pa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ai._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return Zn.credential(r,i)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends pa{constructor(){super("github.com")}static credential(e){return ai._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends pa{constructor(){super("twitter.com")}static credential(e,r){return ai._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=e;if(!r||!i)return null;try{return tr.credential(r,i)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,i,s=!1){const o=await In._fromIdTokenResponse(e,i,s),a=Yy(i);return new ds({user:o,providerId:a,_tokenResponse:i,operationType:r})}static async _forOperation(e,r,i){await e._updateTokensIfNecessary(i,!0);const s=Yy(i);return new ds({user:e,providerId:s,_tokenResponse:i,operationType:r})}}function Yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Un{constructor(e,r,i,s){var o;super(r.code,r.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,r,i,s){return new mu(e,r,i,s)}}function $w(t,e,r,i){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(t,o,e,i):o})}async function ax(t,e,r=!1){const i=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ds._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t,e,r=!1){const{auth:i}=t;if(wn(i.app))return Promise.reject(_r(i));const s="reauthenticate";try{const o=await Xo(t,$w(i,s,e,t),r);J(o.idToken,i,"internal-error");const a=Rp(o.idToken);J(a,i,"internal-error");const{sub:u}=a;return J(t.uid===u,i,"user-mismatch"),ds._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&en(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(t,e,r=!1){if(wn(t.app))return Promise.reject(_r(t));const i="signIn",s=await $w(t,i,e),o=await ds._fromIdTokenResponse(t,i,s);return r||await t._updateCurrentUser(o.user),o}async function ux(t,e){return Ww(di(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t){const e=di(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hx(t,e,r){const i=di(t);await Sd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tx)}function dx(t,e,r){return wn(t.app)?Promise.reject(_r(t)):ux(ze(t),As.credential(e,r)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cx(t),i})}function fx(t,e,r,i){return ze(t).onIdTokenChanged(e,r,i)}function px(t,e,r){return ze(t).beforeAuthStateChanged(e,r)}function mx(t,e,r,i){return ze(t).onAuthStateChanged(e,r,i)}function gx(t){return ze(t).signOut()}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=1e3,vx=10;class qw extends Hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);bN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vx):s()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}qw.type="LOCAL";const _x=qw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Kw.type="SESSION";const Gw=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const i=new ec(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(async d=>d(r.origin,o)),c=await Ex(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ec.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t="",e=10){let r="";for(let i=0;i<e;i++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const d=xp("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function Tx(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function Ix(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ax(){return Qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebaseLocalStorageDb",Cx=1,yu="firebaseLocalStorage",Xw="fbase_key";class ma{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function tc(t,e){return t.transaction([yu],e?"readwrite":"readonly").objectStore(yu)}function Rx(){const t=indexedDB.deleteDatabase(Jw);return new ma(t).toPromise()}function Ad(){const t=indexedDB.open(Jw,Cx);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(yu,{keyPath:Xw})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(yu)?e(i):(i.close(),await Rx(),e(await Ad()))})})}async function Zy(t,e,r){const i=tc(t,!0).put({[Xw]:e,value:r});return new ma(i).toPromise()}async function Px(t,e){const r=tc(t,!1).get(e),i=await new ma(r).toPromise();return i===void 0?null:i.value}function ev(t,e){const r=tc(t,!0).delete(e);return new ma(r).toPromise()}const kx=800,Nx=3;class Yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ad(),this.db)}async _withRetries(e){let r=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(r++>Nx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ec._getInstance(Ax()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Ix(),!this.activeServiceWorker)return;this.sender=new wx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ad();return await Zy(e,gu,"1"),await ev(e,gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>Zy(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(i=>Px(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ev(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=tc(s,!1).getAll();return new ma(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yw.type="LOCAL";const xx=Yw;new fa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e){return e?Sn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ji(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Ox(t){return Ww(t.auth,new Dp(t),t.bypassAuthState)}function bx(t){const{auth:e,user:r}=t;return J(r,e,"internal-error"),lx(r,new Dp(t),t.bypassAuthState)}async function Vx(t){const{auth:e,user:r}=t;return J(r,e,"internal-error"),ax(r,new Dp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,r,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ox;case"linkViaPopup":case"linkViaRedirect":return Vx;case"reauthViaPopup":case"reauthViaRedirect":return bx;default:en(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new fa(2e3,1e4);class ji extends Zw{constructor(e,r,i,s,o){super(e,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lx.get())};e()}}ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="pendingRedirect",Al=new Map;class Fx extends Zw{constructor(e,r,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i),this.eventId=null}async execute(){let e=Al.get(this.auth._key());if(!e){try{const i=await Ux(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(r){e=()=>Promise.reject(r)}Al.set(this.auth._key(),e)}return this.bypassAuthState||Al.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ux(t,e){const r=zx(e),i=Bx(t);if(!await i._isAvailable())return!1;const s=await i._get(r)==="true";return await i._remove(r),s}function jx(t,e){Al.set(t._key(),e)}function Bx(t){return Sn(t._redirectPersistence)}function zx(t){return Sl(Mx,t.config.apiKey,t.name)}async function $x(t,e,r=!1){if(wn(t.app))return Promise.reject(_r(t));const i=di(t),s=Dx(i,e),a=await new Fx(i,s,r).execute();return a&&!r&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=10*60*1e3;class Hx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(r=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qx(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var i;if(e.error&&!eT(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";r.onError(cn(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const i=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wx&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(e))}saveEventToCache(e){this.cachedEventUids.add(tv(e)),this.lastProcessedEventTime=Date.now()}}function tv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e={}){return jn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qx=/^https?/;async function Jx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kx(t);for(const r of e)try{if(Xx(r))return}catch{}en(t,"unauthorized-domain")}function Xx(t){const e=Td(),{protocol:r,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===i}if(!Qx.test(r))return!1;if(Gx.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new fa(3e4,6e4);function nv(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Zx(t){return new Promise((e,r)=>{var i,s,o;function a(){nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nv(),r(cn(t,"network-request-failed"))},timeout:Yx.get()})}if(!((s=(i=hn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=hn().gapi)===null||o===void 0)&&o.load)a();else{const u=$N("iframefcb");return hn()[u]=()=>{gapi.load?a():r(cn(t,"network-request-failed"))},jw(`${zN()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Cl=null,e})}let Cl=null;function e2(t){return Cl=Cl||Zx(t),Cl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new fa(5e3,15e3),n2="__/auth/iframe",r2="emulator/auth/iframe",i2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Cp(e,r2):`https://${t.config.authDomain}/${n2}`,i={apiKey:e.apiKey,appName:t.name,v:_s},s=s2.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${r}?${sa(i).slice(1)}`}async function a2(t){const e=await e2(t),r=hn().gapi;return J(r,t,"internal-error"),e.open({where:document.body,url:o2(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i2,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=cn(t,"network-request-failed"),u=hn().setTimeout(()=>{o(a)},t2.get());function c(){hn().clearTimeout(u),s(i)}i.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u2=500,c2=600,h2="_blank",d2="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f2(t,e,r,i=u2,s=c2){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},l2),{width:i.toString(),height:s.toString(),top:o,left:a}),d=lt().toLowerCase();r&&(u=Ow(d)?h2:r),xw(d)&&(e=e||d2,c.scrollbars="yes");const p=Object.entries(c).reduce((g,[S,P])=>`${g}${S}=${P},`,"");if(ON(d)&&u!=="_self")return p2(e||"",u),new rv(null);const m=window.open(e||"",u,p);J(m,t,"popup-blocked");try{m.focus()}catch{}return new rv(m)}function p2(t,e){const r=document.createElement("a");r.href=t,r.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="__/auth/handler",g2="emulator/auth/handler",y2=encodeURIComponent("fac");async function iv(t,e,r,i,s,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:_s,eventId:s};if(e instanceof zw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",KA(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof pa){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${y2}=${encodeURIComponent(c)}`:"";return`${v2(t)}?${sa(u).slice(1)}${d}`}function v2({config:t}){return t.emulator?Cp(t,g2):`https://${t.authDomain}/${m2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="webStorageSupport";class _2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=$x,this._overrideRedirectResult=jx}async _openPopup(e,r,i,s){var o;Vn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await iv(e,r,i,Td(),s);return f2(e,a,xp())}async _openRedirect(e,r,i,s){await this._originValidation(e);const o=await iv(e,r,i,Td(),s);return Tx(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:o}=this.eventManagers[r];return s?Promise.resolve(s):(Vn(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[r]={promise:i},i.catch(()=>{delete this.eventManagers[r]}),i}async initAndGetManager(e){const r=await a2(e),i=new Hx(e);return r.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=r,i}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(sh,{type:sh},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[sh];a!==void 0&&r(!!a),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Jx(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Fw()||Dw()||Pp()}}const E2=_2;var sv="@firebase/auth",ov="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(t){is(new ri("auth",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uw(t)},d=new UN(i,s,o,c);return GN(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,i)=>{e.getProvider("auth-internal").initialize()})),is(new ri("auth-internal",e=>{const r=di(e.getProvider("auth").getImmediate());return(i=>new w2(i))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(sv,ov,T2(t)),yr(sv,ov,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=5*60,A2=G0("authIdTokenMaxAge")||S2;let av=null;const C2=t=>async e=>{const r=e&&await e.getIdTokenResult(),i=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>A2)return;const s=r==null?void 0:r.token;av!==s&&(av=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function R2(t=Y0()){const e=Lf(t,"auth");if(e.isInitialized())return e.getImmediate();const r=KN(t,{popupRedirectResolver:E2,persistence:[xx,_x,Gw]}),i=G0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=C2(o.toString());px(r,a,()=>a(r.currentUser)),fx(r,u=>a(u))}}const s=q0("auth");return s&&QN(r,`http://${s}`),r}function P2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jN({loadJS(t){return new Promise((e,r)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=cn("internal-error");o.customData=s,r(o)},i.type="text/javascript",i.charset="UTF-8",P2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");const k2={apiKey:"AIzaSyBjtO_-QzhEP069wQCbK5dsBZiEGNnEwhk",authDomain:"luciana-farina-web.firebaseapp.com",projectId:"luciana-farina-web",storageBucket:"luciana-farina-web.firebasestorage.app",messagingSenderId:"424027036300",appId:"1:424027036300:web:d07bf22a63b5fef44079a9",measurementId:"G-XEHXZF28KR"},tT=X0(k2),fi=Wk(tT),nc=R2(tT),N2=async(t,e,r)=>{try{await dN(Gu(fi,"news"),{title:t,sections:e,imageUrl:r,createdAt:new Date}),console.log("Noticia creada con éxito!")}catch(i){throw console.error("Error al crear la noticia:",i),i}},x2=async()=>{try{const t=await Tp(Gu(fi,"news")),e=[];return t.forEach(r=>{const i=r.data();console.log("Documento obtenido:",i),e.push({id:r.id,...i,section:Array.isArray(i.section)?i.section:[]})}),e}catch(t){throw console.error("Error al obtener las noticias:",t),t}},D2=async()=>{const t=nN(Gu(fi,"news"),rN("createdAt","desc"),iN(4)),e=await Tp(t),r=[];return e.forEach(i=>{r.push({id:i.id,...i.data()})}),r},nT=async t=>{try{const e=Qu(fi,"news",t),r=await uN(e);return r.exists()?{id:r.id,...r.data()}:(console.log("No se encontró la noticia"),null)}catch(e){throw console.error("Error al obtener la noticia:",e),e}},O2=async(t,e,r,i)=>{try{const s=Qu(fi,"news",t);await cN(s,{title:e,content:r,imageUrl:i}),console.log("Noticia actualizada con éxito!")}catch(s){throw console.error("Error al actualizar la noticia:",s),s}},b2=async t=>{try{await hN(Qu(fi,"news",t)),console.log("Noticia eliminada con éxito!")}catch(e){throw console.error("Error al eliminar la noticia:",e),e}},V2=()=>{const[t,e]=O.useState([]),r=kr();return O.useEffect(()=>{(async()=>{try{const s=await D2();e(s)}catch(s){console.error("Error al obtener las últimas noticias:",s)}})()},[]),E.jsx("div",{className:"notice-preview",children:t.map(i=>E.jsxs("div",{className:"content-preview",onClick:()=>r(`/noticia/${i.id}`),style:{cursor:"pointer"},children:[i.imageUrl&&E.jsx("img",{src:i.imageUrl,className:"img-preview",alt:"Imagen de la noticia"}),E.jsxs("div",{className:"content-text",children:[E.jsx("h2",{className:"title-preview",children:i.title}),i.sections.length>0&&E.jsx("p",{className:"text-preview",children:i.sections[0].content.slice(0,210)})]})]},i.id))})};function L2(t){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function M2(t){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function F2(t){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function U2(t){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function j2(t){return Fn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function B2(t){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}const z2=()=>E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"title-contact",children:"Contacto"}),E.jsxs("div",{id:"contact",className:"contact-page",children:[E.jsxs("div",{className:"contact-section",children:[E.jsxs("p",{className:"title",children:["Teléfonos ",E.jsx(B2,{className:"icon"})]}),E.jsx("a",{href:"https://wa.me/541159378799",className:"number-link",target:"_blank",rel:"noopener noreferrer",children:"+ 54 11 5937-8799"}),E.jsx("a",{href:"tel:+1234567890",className:"number-link",children:"+ 54 2983 60-1386"})]}),E.jsxs("div",{className:"contact-section",children:[E.jsxs("p",{className:"title",children:["e-mail ",E.jsx(U2,{className:"icon"})]}),E.jsx("a",{href:"mailto:example@example.com",className:"email_link",children:"luciana@estudiofarina.com"})]}),E.jsxs("div",{className:"contact-section",children:[E.jsxs("p",{className:"title",children:["Horarios ",E.jsx(F2,{className:"icon"})," "]}),E.jsx("p",{className:"data-days",children:"Lunes a Viernes"}),E.jsx("p",{className:"data-days",children:"de 09:00 a 12:00 y 14:30 a 18:30"})]}),E.jsxs("div",{className:"contact-section",children:[E.jsxs("p",{className:"title",children:["Oficina ",E.jsx(j2,{className:"icon"})]}),E.jsx("a",{href:"https://www.google.com/maps?q=-38.37626121962469,-60.266417090762",className:"data-location",target:"_blank",rel:"noopener noreferrer",children:"Tres Arroyos, Provincia de Buenos Aires"}),E.jsx("a",{href:"https://www.google.com/maps?q=-38.37626121962469,-60.266417090762",className:"data-location",target:"_blank",rel:"noopener noreferrer",children:"Humberto 1º 460"})]})]})]}),$2=()=>E.jsxs(E.Fragment,{children:[E.jsx(SA,{}),E.jsx(V2,{}),E.jsx(z2,{})]}),W2=()=>E.jsx(E.Fragment,{children:E.jsxs("div",{className:"footer",children:[E.jsx("div",{className:"image_footer",children:E.jsx("img",{src:"src/assets/logo_footer.png",alt:"logo footer"})}),E.jsx("div",{className:"description",children:E.jsx("p",{className:"description",children:"Asesoramiento Jurídico de Empresas, Derecho Agrario, Agro Ambiental y Agro Alimentario "})}),E.jsxs("div",{className:"legals",children:[E.jsx("p",{className:"copyrigth",children:"© 2024 Luciana Farina. Todos los derechos reservados."}),E.jsx("a",{href:"#",children:"Términos y Condiciones  "}),E.jsx("a",{href:"#",children:"Politicas y privacidad"})]})]})});var rT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(o=s(o,i(u)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var u in o)e.call(o,u)&&o[u]&&(a=s(a,u));return a}function s(o,a){return a?o?o+" "+a:o+a:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(rT);var H2=rT.exports;const Io=bd(H2);function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Cd.apply(null,arguments)}function iT(t,e){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;r[i]=t[i]}return r}function lv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function q2(t){var e=K2(t,"string");return typeof e=="symbol"?e:String(e)}function K2(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G2(t,e,r){var i=O.useRef(t!==void 0),s=O.useState(e),o=s[0],a=s[1],u=t!==void 0,c=i.current;return i.current=u,!u&&c&&o!==e&&a(e),[u?t:o,O.useCallback(function(d){for(var p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];r&&r.apply(void 0,[d].concat(m)),a(d)},[r])]}function Q2(t,e){return Object.keys(e).reduce(function(r,i){var s,o=r,a=o[lv(i)],u=o[i],c=iT(o,[lv(i),i].map(q2)),d=e[i],p=G2(u,a,t[d]),m=p[0],g=p[1];return Cd({},c,(s={},s[i]=m,s[d]=g,s))},t)}function Rd(t,e){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rd(t,e)}function J2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rd(t,e)}const X2=["xxl","xl","lg","md","sm","xs"],Y2="xs",sT=O.createContext({prefixes:{},breakpoints:X2,minBreakpoint:Y2});function Op(t,e){const{prefixes:r}=O.useContext(sT);return t||r[e]||e}function Z2(){const{dir:t}=O.useContext(sT);return t==="rtl"}function eD(t){return t&&t.ownerDocument||document}function tD(t){var e=eD(t);return e&&e.defaultView||window}function nD(t,e){return tD(t).getComputedStyle(t,e)}var rD=/([A-Z])/g;function iD(t){return t.replace(rD,"-$1").toLowerCase()}var sD=/^ms-/;function sl(t){return iD(t).replace(sD,"-ms-")}var oD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function aD(t){return!!(t&&oD.test(t))}function oT(t,e){var r="",i="";if(typeof e=="string")return t.style.getPropertyValue(sl(e))||nD(t).getPropertyValue(sl(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?t.style.removeProperty(sl(s)):aD(s)?i+=s+"("+o+") ":r+=sl(s)+": "+o+";"}),i&&(r+="transform: "+i+";"),t.style.cssText+=";"+r}const uv={disabled:!1},aT=dt.createContext(null);var lD=function(e){return e.scrollTop},ao="unmounted",$r="exited",Wr="entering",Ri="entered",Pd="exiting",Bn=function(t){J2(e,t);function e(i,s){var o;o=t.call(this,i,s)||this;var a=s,u=a&&!a.isMounting?i.enter:i.appear,c;return o.appearStatus=null,i.in?u?(c=$r,o.appearStatus=Wr):c=Ri:i.unmountOnExit||i.mountOnEnter?c=ao:c=$r,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var a=s.in;return a&&o.status===ao?{status:$r}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var o=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Wr&&a!==Ri&&(o=Wr):(a===Wr||a===Ri)&&(o=Pd)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,o,a,u;return o=a=u=s,s!=null&&typeof s!="number"&&(o=s.exit,a=s.enter,u=s.appear!==void 0?s.appear:a),{exit:o,enter:a,appear:u}},r.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Wr){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:eo.findDOMNode(this);a&&lD(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$r&&this.setState({status:ao})},r.performEnter=function(s){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:s,c=this.props.nodeRef?[u]:[eo.findDOMNode(this),u],d=c[0],p=c[1],m=this.getTimeouts(),g=u?m.appear:m.enter;if(!s&&!a||uv.disabled){this.safeSetState({status:Ri},function(){o.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:Wr},function(){o.props.onEntering(d,p),o.onTransitionEnd(g,function(){o.safeSetState({status:Ri},function(){o.props.onEntered(d,p)})})})},r.performExit=function(){var s=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:eo.findDOMNode(this);if(!o||uv.disabled){this.safeSetState({status:$r},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Pd},function(){s.props.onExiting(u),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:$r},function(){s.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},r.setNextCallback=function(s){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,s(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(s,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:eo.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],p=c[1];this.props.addEndListener(d,p)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===ao)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=iT(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dt.createElement(aT.Provider,{value:null},typeof a=="function"?a(s,u):dt.cloneElement(dt.Children.only(a),u))},e}(dt.Component);Bn.contextType=aT;Bn.propTypes={};function Ii(){}Bn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ii,onEntering:Ii,onEntered:Ii,onExit:Ii,onExiting:Ii,onExited:Ii};Bn.UNMOUNTED=ao;Bn.EXITED=$r;Bn.ENTERING=Wr;Bn.ENTERED=Ri;Bn.EXITING=Pd;const uD=!!(typeof window<"u"&&window.document&&window.document.createElement);var kd=!1,Nd=!1;try{var oh={get passive(){return kd=!0},get once(){return Nd=kd=!0}};uD&&(window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,!0))}catch{}function cD(t,e,r,i){if(i&&typeof i!="boolean"&&!Nd){var s=i.once,o=i.capture,a=r;!Nd&&s&&(a=r.__once||function u(c){this.removeEventListener(e,u,o),r.call(this,c)},r.__once=a),t.addEventListener(e,a,kd?i:o)}t.addEventListener(e,r,i)}function hD(t,e,r,i){var s=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,r,s),r.__once&&t.removeEventListener(e,r.__once,s)}function lT(t,e,r,i){return cD(t,e,r,i),function(){hD(t,e,r,i)}}function dD(t,e,r,i){if(i===void 0&&(i=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,r,i),t.dispatchEvent(s)}}function fD(t){var e=oT(t,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function pD(t,e,r){r===void 0&&(r=5);var i=!1,s=setTimeout(function(){i||dD(t,"transitionend",!0)},e+r),o=lT(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),o()}}function mD(t,e,r,i){r==null&&(r=fD(t)||0);var s=pD(t,r,i),o=lT(t,"transitionend",e);return function(){s(),o()}}function cv(t,e){const r=oT(t,e)||"",i=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*i}function gD(t,e){const r=cv(t,"transitionDuration"),i=cv(t,"transitionDelay"),s=mD(t,o=>{o.target===t&&(s(),e(o))},r+i)}function yD(t){t.offsetHeight}const hv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function vD(t,e){const r=hv(t),i=hv(e);return s=>{r&&r(s),i&&i(s)}}function _D(t,e){return O.useMemo(()=>vD(t,e),[t,e])}function ED(t){return t&&"setState"in t?eo.findDOMNode(t):t??null}const wD=dt.forwardRef(({onEnter:t,onEntering:e,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:u,childRef:c,...d},p)=>{const m=O.useRef(null),g=_D(m,c),S=j=>{g(ED(j))},P=j=>w=>{j&&m.current&&j(m.current,w)},D=O.useCallback(P(t),[t]),b=O.useCallback(P(e),[e]),I=O.useCallback(P(r),[r]),_=O.useCallback(P(i),[i]),R=O.useCallback(P(s),[s]),L=O.useCallback(P(o),[o]),B=O.useCallback(P(a),[a]);return E.jsx(Bn,{ref:p,...d,onEnter:D,onEntered:I,onEntering:b,onExit:_,onExited:L,onExiting:R,addEndListener:B,nodeRef:m,children:typeof u=="function"?(j,w)=>u(j,{...w,ref:S}):dt.cloneElement(u,{ref:S})})});function uT(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t},[t]),e}function xd(t){const e=uT(t);return O.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function TD(){const t=O.useRef(!0),e=O.useRef(()=>t.current);return O.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}const ID=["as","disabled"];function SD(t,e){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}function AD(t){return!t||t.trim()==="#"}function cT({tagName:t,disabled:e,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:u=0,type:c}){t||(r!=null||i!=null||s!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},d];const p=g=>{if((e||t==="a"&&AD(r))&&g.preventDefault(),e){g.stopPropagation();return}a==null||a(g)},m=g=>{g.key===" "&&(g.preventDefault(),p(g))};return t==="a"&&(r||(r="#"),e&&(r=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:u,href:r,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:p,onKeyDown:m},d]}const CD=O.forwardRef((t,e)=>{let{as:r,disabled:i}=t,s=SD(t,ID);const[o,{tagName:a}]=cT(Object.assign({tagName:r,disabled:i},s));return E.jsx(a,Object.assign({},s,o,{ref:e}))});CD.displayName="Button";const RD=["onKeyDown"];function PD(t,e){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}function kD(t){return!t||t.trim()==="#"}const Dd=O.forwardRef((t,e)=>{let{onKeyDown:r}=t,i=PD(t,RD);const[s]=cT(Object.assign({tagName:"a"},i)),o=xd(a=>{s.onKeyDown(a),r==null||r(a)});return kD(i.href)||i.role==="button"?E.jsx("a",Object.assign({ref:e},i,s,{onKeyDown:o})):E.jsx("a",Object.assign({ref:e},i,{onKeyDown:r}))});Dd.displayName="Anchor";function ND(t,e){const r=O.useRef(!0);O.useEffect(()=>{if(r.current){r.current=!1;return}return t()},e)}function xD(t){const e=O.useRef(t);return e.current=t,e}function DD(t){const e=xD(t);O.useEffect(()=>()=>e.current(),[])}const Od=2**31-1;function hT(t,e,r){const i=r-Date.now();t.current=i<=Od?setTimeout(e,i):setTimeout(()=>hT(t,e,r),Od)}function OD(){const t=TD(),e=O.useRef();return DD(()=>clearTimeout(e.current)),O.useMemo(()=>{const r=()=>clearTimeout(e.current);function i(s,o=0){t()&&(r(),o<=Od?e.current=setTimeout(s,o):hT(e,s,Date.now()+o))}return{set:i,clear:r,handleRef:e}},[])}const dT=O.forwardRef(({className:t,bsPrefix:e,as:r="div",...i},s)=>(e=Op(e,"carousel-caption"),E.jsx(r,{ref:s,className:Io(t,e),...i})));dT.displayName="CarouselCaption";const fT=O.forwardRef(({as:t="div",bsPrefix:e,className:r,...i},s)=>{const o=Io(r,Op(e,"carousel-item"));return E.jsx(t,{ref:s,...i,className:o})});fT.displayName="CarouselItem";function dv(t,e){let r=0;return O.Children.map(t,i=>O.isValidElement(i)?e(i,r++):i)}function bD(t,e){let r=0;O.Children.forEach(t,i=>{O.isValidElement(i)&&e(i,r++)})}const VD=40;function LD(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const pT=O.forwardRef(({defaultActiveIndex:t=0,...e},r)=>{const{as:i="div",bsPrefix:s,slide:o=!0,fade:a=!1,controls:u=!0,indicators:c=!0,indicatorLabels:d=[],activeIndex:p,onSelect:m,onSlide:g,onSlid:S,interval:P=5e3,keyboard:D=!0,onKeyDown:b,pause:I="hover",onMouseOver:_,onMouseOut:R,wrap:L=!0,touch:B=!0,onTouchStart:j,onTouchMove:w,onTouchEnd:v,prevIcon:T=E.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:A="Previous",nextIcon:k=E.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:N="Next",variant:C,className:gt,children:Bt,...Or}=Q2({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),be=Op(s,"carousel"),$=Z2(),G=O.useRef(null),[Y,fe]=O.useState("next"),[le,pe]=O.useState(!1),[Ye,Ot]=O.useState(!1),[me,zt]=O.useState(p||0);O.useEffect(()=>{!Ye&&p!==me&&(G.current?fe(G.current):fe((p||0)>me?"next":"prev"),o&&Ot(!0),zt(p||0))},[p,Ye,me,o]),O.useEffect(()=>{G.current&&(G.current=null)});let fn=0,ga;bD(Bt,(Q,ue)=>{++fn,ue===p&&(ga=Q.props.interval)});const br=uT(ga),ut=O.useCallback(Q=>{if(Ye)return;let ue=me-1;if(ue<0){if(!L)return;ue=fn-1}G.current="prev",m==null||m(ue,Q)},[Ye,me,m,L,fn]),yt=xd(Q=>{if(Ye)return;let ue=me+1;if(ue>=fn){if(!L)return;ue=0}G.current="next",m==null||m(ue,Q)}),Vr=O.useRef();O.useImperativeHandle(r,()=>({element:Vr.current,prev:ut,next:yt}));const pi=xd(()=>{!document.hidden&&LD(Vr.current)&&($?ut():yt())}),$t=Y==="next"?"start":"end";ND(()=>{o||(g==null||g(me,$t),S==null||S(me,$t))},[me]);const ya=`${be}-item-${Y}`,rc=`${be}-item-${$t}`,ic=O.useCallback(Q=>{yD(Q),g==null||g(me,$t)},[g,me,$t]),va=O.useCallback(()=>{Ot(!1),S==null||S(me,$t)},[S,me,$t]),Cs=O.useCallback(Q=>{if(D&&!/input|textarea/i.test(Q.target.tagName))switch(Q.key){case"ArrowLeft":Q.preventDefault(),$?yt(Q):ut(Q);return;case"ArrowRight":Q.preventDefault(),$?ut(Q):yt(Q);return}b==null||b(Q)},[D,b,ut,yt,$]),_a=O.useCallback(Q=>{I==="hover"&&pe(!0),_==null||_(Q)},[I,_]),sc=O.useCallback(Q=>{pe(!1),R==null||R(Q)},[R]),mi=O.useRef(0),zn=O.useRef(0),Rs=OD(),Fe=O.useCallback(Q=>{mi.current=Q.touches[0].clientX,zn.current=0,I==="hover"&&pe(!0),j==null||j(Q)},[I,j]),$e=O.useCallback(Q=>{Q.touches&&Q.touches.length>1?zn.current=0:zn.current=Q.touches[0].clientX-mi.current,w==null||w(Q)},[w]),gi=O.useCallback(Q=>{if(B){const ue=zn.current;Math.abs(ue)>VD&&(ue>0?ut(Q):yt(Q))}I==="hover"&&Rs.set(()=>{pe(!1)},P||void 0),v==null||v(Q)},[B,I,ut,yt,Rs,P,v]),Ps=P!=null&&!le&&!Ye,yi=O.useRef();O.useEffect(()=>{var Q,ue;if(!Ps)return;const bt=$?ut:yt;return yi.current=window.setInterval(document.visibilityState?pi:bt,(Q=(ue=br.current)!=null?ue:P)!=null?Q:void 0),()=>{yi.current!==null&&clearInterval(yi.current)}},[Ps,ut,yt,br,P,pi,$]);const Ea=O.useMemo(()=>c&&Array.from({length:fn},(Q,ue)=>bt=>{m==null||m(ue,bt)}),[c,fn,m]);return E.jsxs(i,{ref:Vr,...Or,onKeyDown:Cs,onMouseOver:_a,onMouseOut:sc,onTouchStart:Fe,onTouchMove:$e,onTouchEnd:gi,className:Io(gt,be,o&&"slide",a&&`${be}-fade`,C&&`${be}-${C}`),children:[c&&E.jsx("div",{className:`${be}-indicators`,children:dv(Bt,(Q,ue)=>E.jsx("button",{type:"button","data-bs-target":"","aria-label":d!=null&&d.length?d[ue]:`Slide ${ue+1}`,className:ue===me?"active":void 0,onClick:Ea?Ea[ue]:void 0,"aria-current":ue===me},ue))}),E.jsx("div",{className:`${be}-inner`,children:dv(Bt,(Q,ue)=>{const bt=ue===me;return o?E.jsx(wD,{in:bt,onEnter:bt?ic:void 0,onEntered:bt?va:void 0,addEndListener:gD,children:(pn,oc)=>O.cloneElement(Q,{...oc,className:Io(Q.props.className,bt&&pn!=="entered"&&ya,(pn==="entered"||pn==="exiting")&&"active",(pn==="entering"||pn==="exiting")&&rc)})}):O.cloneElement(Q,{className:Io(Q.props.className,bt&&"active")})})}),u&&E.jsxs(E.Fragment,{children:[(L||p!==0)&&E.jsxs(Dd,{className:`${be}-control-prev`,onClick:ut,children:[T,A&&E.jsx("span",{className:"visually-hidden",children:A})]}),(L||p!==fn-1)&&E.jsxs(Dd,{className:`${be}-control-next`,onClick:yt,children:[k,N&&E.jsx("span",{className:"visually-hidden",children:N})]})]})]})});pT.displayName="Carousel";const vu=Object.assign(pT,{Caption:dT,Item:fT}),mT=()=>{const t=[{src:"src/assets/banner2.webp"},{src:"src/assets/banner1.webp"},{src:"src/assets/banner6.webp"},{src:"src/assets/banner5.webp"},{src:"src/assets/banner4.webp"}];return E.jsx(vu,{className:"custom-carousel",children:t.map((e,r)=>E.jsx(vu.Item,{className:"custom-carousel-item",children:E.jsx("img",{className:"d-block w-100 custom-carousel-image",src:e.src,alt:`Slide ${r}`})},r))})},MD=()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"title-bio",children:"Bío"}),E.jsx(mT,{}),E.jsx("p",{className:"text-body",children:"Luciana Farina se graduó en la Universidad de Buenos Aires (U.B.A.) y obtuvo estudios de postgrado en Asesoramiento Empresario en la Universidad del Museo Social Argentino (U.M.S.A.) y en Derecho Agrario en la Universidad Nacional del Litoral (U.N.L.). Se desempeña como abogada asesorando y representando a particulares y empresas, matriculada en el Colegio de Abogados de la Capital Federal y en el Colegio de Abogados de Bahía Blanca. Ha escrito artículos de doctrina en revistas jurídicas y es Docente Universitaria. Actualmente colabora en las cátedras de “Derecho Ambiental Notarial” y “Derecho Ambiental” a cargo de la Dra. Leticia Krannichfeldt de la facultad de Derecho de la Universidad de Buenos Aires (U.B.A.).   Participa en el Instituto de Derecho Ambiental de Bahía Blanca y en el Instituto de Derecho Agrario y Ambiental de Pergamino (IDAA). Colabora en la sección Jurisprudencia de la Revista Jurídica de Agronegocios. Interviene principalmente en litigios civiles, comerciales y laborales, y asesoramiento jurídico de empresas."}),E.jsx("p",{className:"text-body",children:"Le interesan los negocios sostenibles, que puedan generar retorno económico, con un impacto positivo en el medioambiente y la sociedad."}),E.jsx("p",{className:"text-body",children:"Luciana Farina, se desempeñó en estudios jurídicos de la Ciudad Autónoma de Buenos Aires. En Rosetti, Beresñak & Romero (RBR) como abogada especializada en litigios civiles y comerciales, y asesoramiento de empresas para la prevención y resolución de conflictos, principalmente del rubro salud humana. En Estudio Abal-Dans, trabajó como abogada en litigios civiles y comerciales, en cuestiones vinculadas a sucesiones, daños y perjuicios entre otros, con empresarios del sector agropecuario, como así también en temas de derecho bancario, siendo apoderados del Banco de Corrientes S.A. En Estudio ASK-abogados, litigios civiles, comerciales y contencioso administrativos, asesorando empresas locales. Entre otros estudios jurídicos donde colaboró en el impulso de expedientes (Buzaglo y Alvares, De las Casas & asoc., Gallardo Garcia Iturraspe y asoc., Estudio Morelli, Estudio Caro apoderado de Banco Patagonía S.A. y Estudio Pérez Santellán). En tres Arroyos, realizó tareas como encargada suplente interina en un registro seccional del automotor. Es corresponsal del estudio FVR abogados por el cuál interviene como apoderada de compañías de seguro de primera línea. A su vez, en su práctica diaria brinda asesoramiento legal en asuntos contenciosos, contratos, derecho agrario, derecho sucesorio, planificación sucesoria, derecho comercial, derecho societario, derecho del consumidor, derecho a la salud, derecho laboral y accidentes de trabajo. Ofrece servicios de Consultoría Jurídica en Derecho Ambiental y asesoramiento jurídico en materia de derecho ambiental."})]}),fv=({title:t,items:e})=>{const[r,i]=O.useState(!1),s=()=>{i(!r)};return E.jsxs("div",{className:"dropdown-list",children:[E.jsxs("div",{className:`dropdown-header ${r?"open":""}`,onClick:s,children:[E.jsx("span",{className:"dropdown-title",children:t}),E.jsx("span",{className:"dropdown-icon",children:r?E.jsx(M2,{}):E.jsx(L2,{})})]}),E.jsx("ul",{className:`dropdown-content ${r?"open":""}`,children:e.map((o,a)=>E.jsx("li",{children:o},a))})]})},FD=()=>{const t=[{src:"src/assets/certificado (5).webp",alt:"Image 1"},{src:"src/assets/certificado (2).webp",alt:"Image 2"},{src:"src/assets/certificado (3).webp",alt:"Image 3"},{src:"src/assets/certificado (6).webp",alt:"Image 4"},{src:"src/assets/certificado (4).webp",alt:"Image 5"},{src:"src/assets/certificado (1).webp",alt:"Image 6"}],e=[{src:"src/assets/img/cert-sec/cert-sec (1).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (2).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (3).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (4).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (5).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (6).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (7).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (8).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (9).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (10).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (11).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (12).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (13).webp",alt:"Carousel Image 1"},{src:"src/assets/img/cert-sec/cert-sec (14).webp",alt:"Carousel Image 1"}];return E.jsxs("div",{className:"gallery-and-carousel",children:[E.jsx("div",{className:"image-gallery",children:t.map((r,i)=>E.jsx("div",{className:"image-item",children:E.jsx("img",{src:r.src,alt:r.alt})},i))}),E.jsx("div",{className:"carrousel-content",children:E.jsx(vu,{className:"carrousel-cert",children:e.map((r,i)=>E.jsx(vu.Item,{className:"carrousel-item",children:E.jsx("img",{className:"d-block w-100",src:r.src,alt:r.alt})},i))})})]})},UD=()=>{const t=["Carrera de Especialización en Derecho Agrario. Universidad Nacional del Litoral. Agosto 2021-2023.","Diplomatura en Derecho Alimentario y Agronegocios. Universidad de Buenos Aires. Agosto-Noviembre 2021.","Diplomatura Cuestiones Agronómicas y Jurídicas del Suelo y del Agua. Fundación para la Educación, la Ciencia y la Cultura. Agosto-Noviembre 2020.","Práctica Profesional en Asesoramiento Jurídico a Pymes. Grupo Professional. Marzo - Mayo 2020.","Régimen Jurídico de los Agronegocios. Universidad Austral. Facultad de Derecho. Mayo-Noviembre 2019.","Introducción al Derecho Tributario. Universidad Católica Argentina 'Santa María de los Buenos Aires'. Facultad de Derecho. Departamento de Postgrado y Extensión Jurídica. Septiembre – Noviembre 2012.","Derecho Bancario y Financiero. Universidad Católica Argentina 'Santa María de los Buenos Aires'. Facultad de Derecho. Departamento de Postgrado y Extensión Jurídica. Mayo – Diciembre 2011.","Asesoramiento Jurídico Empresario. Universidad Católica Argentina 'Santa María de los Buenos Aires'. Facultad de Derecho. Departamento de Postgrado y Extensión Jurídica. Abril – Septiembre 2010.","Carrera de Especialización en Asesoramiento Empresario. Universidad del Museo Social Argentino. Marzo 2008 - Diciembre 2009.","Abogada egresada de la Facultad de Derecho y Ciencias Sociales de la Universidad de Buenos Aires en el año 2006."],e=["XIV Encuentro de Colegios de Abogados sobre Temas de Derecho Agrario. Colegio de Abogados de Rosario. 24 y 25 de octubre de 2024.","Estructuración aplicada de Bonos Sociales, Verdes y Sustentables (SVS+). UCEMA. 5 de junio de 2024 a 17 de junio de 2024.","Programa de Futuros y Opciones (PFyO). Matba Rofex School. 14 de mayo de 2024 a 6 de junio de 2024.","Curso 'Sistema de Gestión Ambiental en la Industria Alimentaria'. PCyT FAUBA. UBA AGRONOMÍA. 24 y 25 de Mayo de 2024.","Jornada Argentino Brasilera de Derecho Agrario y Alimentario. Derecho UNNE. 7 y 10 de noviembre de 2023.","Jornada Nacional de Derecho Agrario. Facultad de Derecho y Ciencias Sociales y Políticas. Universidad Nacional del Nordeste. 26 de octubre de 2023.","VII Congreso Nacional de Derecho Agrario Provincia. Azul-Tandil. Facultad de Derecho. Unicen. 28 al 30 de septiembre de 2023.","IX Congreso Argentino de Derecho Ambiental. Fundación Expoterra. 8 y 9 de junio de 2023.","Negocios y Contratos del Agro. Bolsa de Cereales. 21 de septiembre de 2022.","1º Ciclo de Conferencias Técnico Jurídicas para profesionales de la Agronomía y la Abogacía. F.A.D.I.A. Agosto 2022.","VIII Congreso Argentino de Derecho Ambiental. Fundación Expoterra. 5 y 6 de mayo de 2022.","'Régimen Jurídico de la Gestión de Pesticidas'. Instituto de Derecho Agrario y Ambiental. Colegio de Abogados de Pergamino. 4 de diciembre de 2020.","'Las Reglas del Comercio Internacional para los productos agrarios y los alimentos en tiempos difíciles: preocupaciones ambientales, seguridad alimentaria y covid, desarrollo y proteccionismo'. Universidad del Noroeste. 20 de noviembre de 2020.","'Agroecología Bien Pensada'. CAPACITAGRO. Noviembre-Diciembre 2020.","Jornada Uso Responsable de Fitosanitarios. Instituto de Derecho Ambiental del CABB. 31 de julio de 2020.","Jornada 'Ambiente, consumo sustentable, derecho y sociedad: nuevos paradigmas'. Instituto de Derecho del consumidor del CABB. 16 de junio de 2020.","La crisis empresaria y de los trabajadores ante la emergencia. Grupo Professional. Mayo 2020.","Primeras Jornadas on line de Derecho Societario. Universidad Austral. Mayo 2020.","VI Jornadas de Derecho Ambiental del Colegio de Abogados y Procuradores de Bahía Blanca sobre Cuestiones Agroambientales. Noviembre 2019.","Curso 'Derecho Procesal Ambiental'. ADATA. 28 de septiembre de 2018.","XI Congreso Iberoamericano, Regulación Económica, Infraestructura y Servicios Públicos. Infraestructura pública, Desarrollo Económico y Social. 23 al 25 de Noviembre de 2016. UCA, Buenos Aires, Argentina.","Curso de Capacitación Continua Régimen Jurídico del Automotor. Universidad de Ciencias Empresariales y Sociales. Abril 2015- Noviembre 2015.","11° Congreso Nacional de Encargados de Registros – AAERPA. Universidad de Buenos Aires. Noviembre 2014.","Curso de Capacitación Continua Régimen Jurídico del Automotor. Universidad de Ciencias Empresariales y Sociales. Abril 2014- Noviembre 2014.","Curso de Comercio Exterior y Operatoria Aduanera. Capacitaciones Tres Arroyos. Abril-Julio 2014.","'Clase abierta sobre Registros No Inmobiliarios'. Universidad Notarial Argentina. 27 de noviembre de 2013.","Seminario 'Derecho Registral y Notarial para Abogados'. C.P.A.C.F. Octubre- Noviembre 2013.","Curso para Inversores Bursátiles Nivel General. Fundación Bolsa de Comercio de Buenos Aires. Marzo - Abril 2010.","Curso Introductorio al Mercado de Capitales. Fundación Bolsa de Comercio de Buenos Aires. 1 al 5 de Marzo de 2010.","Conferencia 'Infracciones Aduaneras'. C.P.A.C.F. 12 de Noviembre de 2009.","Conferencia 'Procedimientos Aduaneros'. C.P.A.C.F. 29 de Octubre de 2009.","Curso 'Contratos Empresariales Modernos/Ciclo XXII'. C.P.A.C.F. Septiembre-Octubre 2009.","Seminario 'El Dictamen de Precalificación Profesional y la Nueva Normativa de la I.G.J.'. C.P.A.C.F. 23 de Septiembre de 2009.","Conferencia 'Proceso Concursal'. C.P.A.C.F. 15 de Mayo de 2009.","Conferencia 'Medidas Cautelares en los Procesos Societarios'. C.P.A.C.F. 23 de Abril de 2009.","Curso sobre Nuevas Normas de la I.G.J. Fundación para la Investigación y Desarrollo de las Ciencias Jurídicas. Septiembre- Noviembre 2008.","Curso de Derecho Profundizado de la Empresa. U.C.E.S. Mayo-Noviembre 2007.","Tercer Congreso de Derecho Aduanero. Administración Federal de Ingresos Públicos. 9,10 y 11 de mayo de 2007.","Jornada de Impuesto a las Ganancias. Empresas y Sociedades. Ed. La Ley. 23 y 24 de abril de 2007.","Seminario: Principios de Derecho Empresarial. Universidad de Palermo. 27 y 29 de marzo de 2007.","Las Crisis Empresariales y el Derecho Concursal. Ed. La Ley. Octubre- Noviembre 2006."];return E.jsxs(E.Fragment,{children:[E.jsx(MD,{}),E.jsx(fv,{title:"Formación Profesional",items:t}),E.jsx(fv,{title:"Cursos de Capacitacion",items:e}),E.jsx(FD,{})]})},jD=()=>{const t=()=>{window.open("https://wa.me/541159378799","_blank")};return E.jsx("div",{className:"whatsapp-button",onClick:t,children:E.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"whatsapp-icon"})})},BD=async()=>{try{const t=Gu(fi,"cards");return(await Tp(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error fetching cards:",t),t}},zD=()=>{const[t,e]=O.useState([]),[r,i]=O.useState(null),[s,o]=O.useState(!1),[a,u]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const g=await BD();e(g)}catch(g){console.error("Error loading cards:",g)}})()},[]);const c=m=>{i(m),u(!0),o(!0)},d=()=>{o(!1),i(null)},p=()=>{u(!1)};return E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"title_areas",children:"Áreas de Práctica"}),E.jsx(mT,{}),E.jsxs("div",{className:"cards-container",children:[t.map(m=>E.jsx("div",{className:"card",onClick:()=>c(m),children:E.jsx("h3",{className:"card-title-area",children:m.title})},m.id)),s&&E.jsx("div",{className:"modal-overlay",onClick:d,children:E.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[E.jsx("button",{className:"close-button",onClick:d,children:"×"}),a&&E.jsx("div",{className:"loader"}),E.jsxs("div",{className:`modalbody ${a?"hidden":""}`,children:[E.jsx("img",{src:r==null?void 0:r.banner,alt:r==null?void 0:r.title,className:"card-image",onLoad:p,loading:"lazy"}),E.jsx("h2",{children:r==null?void 0:r.title}),E.jsx("p",{children:r==null?void 0:r.content})]})]})})]})]})},$D=()=>E.jsx(E.Fragment,{children:E.jsx(zD,{})});function pv(t){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function WD(t){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}const gT=O.createContext(),HD=({children:t})=>{const[e,r]=O.useState(null),[i,s]=O.useState(!0);return O.useEffect(()=>mx(nc,a=>{a?(console.log("Usuario autenticado: ",a),r(a)):(console.log("Usuario no autenticado"),r(null)),s(!1)}),[]),E.jsx(gT.Provider,{value:{user:e,loading:i},children:t})},bp=()=>O.useContext(gT),qD=()=>{const[t,e]=O.useState([]),r=kr(),{user:i}=bp();O.useEffect(()=>{(async()=>{try{const c=await x2();e(c)}catch(c){console.error("Error al obtener las noticias:",c)}})()},[]);const s=u=>{r(`/edit-post/${u}`)},o=u=>{b2(u),console.log(`Eliminar noticia con ID: ${u}`)},a=u=>{r(`/noticia/${u}`)};return E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"title-blog",children:"Blog"}),(i==null?void 0:i.uid)==="BzdQVFz0E6WJ9G7Jpkukh3zvU1n1"&&E.jsxs("button",{className:"news-add-button",onClick:()=>r("/new-post"),children:[E.jsx(pv,{size:20}),"Redactar Nuevo Post"]}),E.jsx("div",{className:"news-container",children:t.map(u=>E.jsxs("div",{className:"news-card",onClick:()=>a(u.id),style:{cursor:"pointer"},children:[u.imageUrl&&E.jsx("img",{src:u.imageUrl,className:"news-card-image",alt:"Imagen de la noticia"}),E.jsxs("div",{className:"news-card-text",children:[E.jsx("h2",{className:"news-card-title",children:u.title}),u.sections.length>0&&E.jsx("p",{className:"news-card-preview",children:u.sections[0].content.slice(0,400)})]}),(i==null?void 0:i.uid)==="BzdQVFz0E6WJ9G7Jpkukh3zvU1n1"&&E.jsxs("div",{className:"news-card-actions",onClick:c=>c.stopPropagation(),children:[E.jsx(pv,{size:20,className:"action-icon edit-icon",onClick:()=>s(u.id)}),E.jsx(WD,{size:20,className:"action-icon delete-icon",onClick:()=>o(u.id)})]})]},u.id))})]})},KD=()=>E.jsx(E.Fragment,{children:E.jsx(qD,{})}),GD=async(t,e)=>{try{const i=(await dx(nc,t,e)).user;return console.log("Inicio de sesión exitoso:",i),i}catch(r){throw console.error("Error al iniciar sesión:",r),r}},QD=async t=>{try{await hx(nc,t),console.log("Correo de recuperación enviado a:",t)}catch(e){throw console.error("Error al enviar el correo de recuperación:",e),e}},JD=async()=>{try{await gx(nc),console.log("Sesión cerrada exitosamente")}catch(t){throw console.error("Error al cerrar sesión:",t),t}},XD=()=>{const[t,e]=O.useState(""),[r,i]=O.useState(""),[s,o]=O.useState(!1),[a,u]=O.useState(""),c=kr(),d=async m=>{m.preventDefault();try{await GD(t,r),c("/blog")}catch{u("Credenciales incorrectas. Inténtalo nuevamente.")}},p=()=>{c("/forgot-password")};return E.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:E.jsxs("div",{className:"card p-4 shadow",style:{maxWidth:"400px",width:"100%"},children:[E.jsx("img",{src:"src/assets/luciana-farina.webp",alt:"logo-login",className:"logo-login"}),E.jsx("h2",{className:"text-center mb-4",children:"Iniciar Sesión"}),a&&E.jsx("div",{className:"alert alert-danger text-center",children:a}),E.jsxs("form",{onSubmit:d,children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"email",className:"form-label",children:"Correo Electrónico"}),E.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"Ingresa tu correo",value:t,onChange:m=>e(m.target.value),required:!0})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"password",className:"form-label",children:"Contraseña"}),E.jsx("input",{type:"password",id:"password",className:"form-control",placeholder:"Ingresa tu contraseña",value:r,onChange:m=>i(m.target.value),required:!0})]}),E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[E.jsxs("div",{className:"form-check",children:[E.jsx("input",{type:"checkbox",className:"form-check-input",id:"rememberMe",checked:s,onChange:m=>o(m.target.checked)}),E.jsx("label",{htmlFor:"rememberMe",className:"form-check-label",children:"Recordar Contraseña"})]}),E.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:p,children:"¿Olvidó su contraseña?"})]}),E.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Iniciar Sesión"})]})]})})},YD=()=>E.jsx(E.Fragment,{children:E.jsx(XD,{})}),ZD=()=>{const[t,e]=O.useState(""),[r,i]=O.useState([{subtitle:"",content:""}]),[s,o]=O.useState(""),a=kr(),{id:u}=M0();O.useEffect(()=>{u&&(async()=>{try{const S=await nT(u);e(S.title),i(S.sections||[{subtitle:"",content:""}]),o(S.imageUrl||"")}catch(S){console.error("Error al cargar la noticia:",S)}})()},[u]);const c=(g,S,P)=>{const D=[...r];D[g][S]=P,i(D)},d=()=>{i([...r,{subtitle:"",content:""}])},p=g=>{const S=r.filter((P,D)=>D!==g);i(S)},m=async g=>{g.preventDefault();try{u?(await O2(u,t,r,s),console.log("Noticia actualizada")):(await N2(t,r,s),console.log("Noticia creada")),a("/blog")}catch(S){console.error("Error al guardar la noticia:",S)}};return E.jsxs("div",{className:"container",children:[E.jsx("h2",{className:"title-notice",children:u?"Editar Noticia":"Crear Nueva Noticia"}),E.jsxs("form",{onSubmit:m,children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"title",className:"form-label",children:"Título"}),E.jsx("input",{type:"text",id:"title",className:"form-control",value:t,onChange:g=>e(g.target.value),required:!0})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"imageUrl",className:"form-label",children:"URL de la Imagen"}),E.jsx("input",{type:"text",id:"imageUrl",className:"form-control",value:s,onChange:g=>o(g.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Secciones"}),r.map((g,S)=>E.jsxs("div",{className:"mb-3",children:[E.jsx("input",{type:"text",className:"form-control mb-2",placeholder:"Subtítulo",value:g.subtitle,onChange:P=>c(S,"subtitle",P.target.value)}),E.jsx("textarea",{className:"form-control textarea-content form-control mb-2",placeholder:"Contenido",rows:"3",value:g.content,onChange:P=>c(S,"content",P.target.value)}),E.jsxs("div",{className:"btn-group",children:[E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:d,children:"Agregar Sección"}),E.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>p(S),children:"Eliminar Sección"})]})]},S))]}),E.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:u?"Guardar Cambios":"Publicar Noticia"})]})]})},mv=()=>E.jsx(E.Fragment,{children:E.jsx(ZD,{})}),gv=({children:t})=>{const{user:e,loading:r}=bp();return r?E.jsx("p",{children:"Cargando..."}):e?t:E.jsx(nA,{to:"/login"})},eO=()=>{const[t,e]=O.useState(""),[r,i]=O.useState(""),[s,o]=O.useState(""),a=kr(),u=async c=>{c.preventDefault(),i(""),o("");try{await QD(t),i("Correo de recuperación enviado. Por favor, revisa tu bandeja."),setTimeout(()=>a("/login"),5e3)}catch{o("No se pudo enviar el correo. Verifica que el email sea correcto.")}};return E.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:E.jsxs("div",{className:"card p-4 shadow",style:{maxWidth:"400px",width:"100%"},children:[E.jsx("h2",{className:"text-center mb-4",children:"Recuperar Contraseña"}),r&&E.jsx("div",{className:"alert alert-success text-center",children:r}),s&&E.jsx("div",{className:"alert alert-danger text-center",children:s}),E.jsxs("form",{onSubmit:u,children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"email",className:"form-label",children:"Correo Electrónico"}),E.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"Ingresa tu correo",value:t,onChange:c=>e(c.target.value),required:!0})]}),E.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Enviar Correo de Recuperación"})]})]})})},tO=()=>{const{user:t}=bp(),e=kr(),r=async()=>{try{await JD(),n,e("/login")}catch(i){console.error("Error al cerrar sesión:",i)}};return t&&E.jsx("button",{className:"logout-button",onClick:r,children:"Cerrar Sesión"})},nO=()=>{const{id:t}=M0(),[e,r]=O.useState(null);return O.useEffect(()=>{(async()=>{try{const s=await nT(t);r(s)}catch(s){console.error("Error al cargar la noticia:",s)}})()},[t]),e?E.jsxs("div",{className:"news-detail-container",children:[E.jsx("p",{className:"news-detail-title",children:e.title}),e.imageUrl&&E.jsx("img",{src:e.imageUrl,alt:"Imagen de la noticia",className:"news-detail-image"}),E.jsx("div",{className:"news-detail-content",children:e.sections.map((i,s)=>E.jsxs("div",{className:"news-detail-section",children:[i.subtitle&&E.jsx("h2",{className:"news-detail-subtitle",children:i.subtitle}),E.jsx("p",{className:"news-detail-text",children:i.content})]},s))})]}):E.jsx("p",{children:"Cargando noticia..."})},rO=()=>E.jsx(E.Fragment,{children:E.jsx(nO,{})});function iO(){return E.jsx(HD,{children:E.jsxs(hA,{children:[E.jsx(IA,{}),E.jsx(tO,{}),E.jsxs(iA,{children:[E.jsx(nn,{path:"/",element:E.jsx($2,{})}),E.jsx(nn,{path:"/login",element:E.jsx(YD,{})}),E.jsx(nn,{path:"/forgot-password",element:E.jsx(eO,{})}),E.jsx(nn,{path:"/bio",element:E.jsx(UD,{})}),E.jsx(nn,{path:"/practice",element:E.jsx($D,{})}),E.jsx(nn,{path:"/blog",element:E.jsx(KD,{})}),E.jsx(nn,{path:"/noticia/:id",element:E.jsx(rO,{})}),E.jsx(nn,{path:"/new-post",element:E.jsx(gv,{children:E.jsx(mv,{})})}),E.jsx(nn,{path:"/edit-post/:id",element:E.jsx(gv,{children:E.jsx(mv,{})})})]}),E.jsx(jD,{}),E.jsx(W2,{})]})})}N0(document.getElementById("root")).render(E.jsx(O.StrictMode,{children:E.jsx(iO,{})}));
